



<!DOCTYPE html>
<html lang="es">
  <head>
    <title>
      
Helm | Charts

    </title>

    







<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width,initial-scale=1.0">


<meta name="description" content="Explica el formato del chart y proporciona una guía básica para crear charts con Helm.">


<meta property="og:title" content="Charts">
<meta property="og:title" content="Charts">
<meta property="og:url" content="https://helm.sh/es/docs/topics/charts/">
<meta property="og:description" content="Explica el formato del chart y proporciona una guía básica para crear charts con Helm." />

<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://helm.sh/img/og-image.png">
<meta name="twitter:title" content="Helm | Charts">
<meta name="twitter:description" content="Explica el formato del chart y proporciona una guía básica para crear charts con Helm.">

<meta name="google-site-verification" content="dCa3wS47cErhx0IpaxbB85NfcOP-vFxevknVk6fzf5I">

<link rel="icon" href="https://helm.sh/img/favicon-152.png" type="image/x-icon">
<link rel="apple-touch-icon-precomposed" href="/img/apple-touch-icon-precomposed.png">














<link rel="stylesheet" href="/css/style.bb9a3f16cd8b057bc29c79565ae0d4a0d40d2088a9939d614209a479d640b7bb.css" integrity="sha256-u5o/Fs2LBXvCnHlWWuDUoNQNIIipk51hQgmkedZAt7s=">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />





  </head>

  
    <body id="landing" class="es"></body>
  
    

<div id="helm" class="page-docs page-wrapper page-docs-list">
  <header>
    
    



<nav class="navbar navbar-top" role="navigation" aria-label="main navigation">
  <div class="container is-fluid is-vcentered">
    <div class="navbar-brand">
      <a href="/">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 304 351"><title>Helm</title>
<mask id="a" fill="#fff">
<path d="m0 0h313.303155v159.864865h-313.303155z" fill="#fff" fill-rule="evenodd"/>
</mask>
<mask id="b" fill="#fff">
<path d="m0 0h313.303155v159.864865h-313.303155z" fill="#fff" fill-rule="evenodd"/>
</mask>
<g fill="none" fill-rule="evenodd" transform="translate(-11 -51)">
<path d="m11.6785714 189h19.7858357v26.789h23.9037v-26.789h19.7858358v75.25h-19.7858358v-28.695333h-23.9037v28.695333h-19.7858357zm86.1738429 75.25v-75.25h46.8030427v16.354333h-27.017207v12.240667h23.9037v16.655333h-23.9037v13.846h27.017207v16.153667zm68.4971567 0v-75.25h19.785836v55.384h27.117643v19.866zm77.536372-75.25 30.733328 27.892667 30.632893-27.892667h8.938779v75.25h-19.886272v-38.628333l-19.6854 17.959666-19.785835-17.859333v38.528h-19.886272v-75.25z" fill="#0f1689"/>
<g transform="matrix(1 0 0 -1 11.958136 455)">
<g fill="#0f1689" mask="url(#a)">
<path d="m203.460676 95.6875425c6.93631 0 12.559301-14.8092194 12.559301-33.0773172s-5.622991-33.0773172-12.559301-33.0773172c-6.936311 0-12.559301 14.8092194-12.559301 33.0773172s5.62299 33.0773172 12.559301 33.0773172z" transform="matrix(.81915204 .57357644 -.57357644 .81915204 111.870091 -51.706556)"/>
<path d="m30.1423223 95.6875425c6.9363104 0 12.559301-14.8092194 12.559301-33.0773172s-5.6229906-33.0773172-12.559301-33.0773172-12.5593009 14.8092194-12.5593009 33.0773172 5.6229905 33.0773172 12.5593009 33.0773172z" transform="matrix(-.81915204 .57357644 .57357644 .81915204 58.084611 47.704768)"/>
<path d="m116.732815 66.2752676c6.936311 0 12.559301-14.8092193 12.559301-33.0773172 0-18.2680978-5.62299-33.07731713-12.559301-33.07731713-6.93631 0-12.559301 14.80921933-12.559301 33.07731713 0 18.2680979 5.622991 33.0773172 12.559301 33.0773172z" transform="matrix(-1 0 0 1 272.628524 53.670762)"/>
</g>
<path d="m251.467006 173.099849c-20.230076-33.609969-56.889565-56.067908-98.755776-56.067908-40.720798 0-76.5158766 21.245901-97.0586959 53.334588m2.1981107 129.169534c20.8403036 30.232701 55.5559042 50.026591 94.8605852 50.026591 39.376099 0 74.146424-19.865887 94.974049-50.191495" mask="url(#a)" stroke="#0f1689" stroke-width="20"/>
</g>
<g transform="translate(11.958136)">
<g fill="#0f1689" mask="url(#b)">
<path d="m203.460676 95.6875425c6.93631 0 12.559301-14.8092194 12.559301-33.0773172s-5.622991-33.0773172-12.559301-33.0773172c-6.936311 0-12.559301 14.8092194-12.559301 33.0773172s5.62299 33.0773172 12.559301 33.0773172z" transform="matrix(.81915204 .57357644 -.57357644 .81915204 111.870091 -54.166016)"/>
<path d="m30.1423223 95.6875425c6.9363104 0 12.559301-14.8092194 12.559301-33.0773172s-5.6229906-33.0773172-12.559301-33.0773172-12.5593009 14.8092194-12.5593009 33.0773172 5.6229905 33.0773172 12.5593009 33.0773172z" transform="matrix(-.81915204 .57357644 .57357644 .81915204 58.084611 45.245308)"/>
<path d="m116.732815 66.2752676c6.936311 0 12.559301-14.8092193 12.559301-33.0773172 0-18.2680978-5.62299-33.07731713-12.559301-33.07731713-6.93631 0-12.559301 14.80921933-12.559301 33.07731713 0 18.2680979 5.622991 33.0773172 12.559301 33.0773172z" transform="matrix(-1 0 0 1 272.628524 51.211302)"/>
</g>
<path d="m251.467006 170.64039c-20.230076-33.609969-56.889565-56.067908-98.755776-56.067908-40.720798 0-76.5158766 21.2459-97.0586959 53.334587m2.1981107 129.169534c20.8403036 30.232702 55.5559042 50.026591 94.8605852 50.026591 39.376099 0 74.146424-19.865886 94.974049-50.191494" mask="url(#b)" stroke="#0f1689" stroke-width="20"/>
</g>
</g>
</svg>
      </a>
    </div>

    
    <div class="navbar-menu is-centered" id="navMenuDocumentation">
      
        
          <a href="/es/" class="navbar-item">
            Inicio
          </a>
        
      
        
          <a href="/es/docs" class="navbar-item">
            Docs
          </a>
        
      
        
          <a href="https://hub.helm.sh/" class="navbar-item external" target="_blank">
            Charts <span class="icon"><i class="mdi mdi-open-in-new"></i></span>
          </a>
        
      
        
          <a href="https://helm.sh/blog" class="navbar-item external" target="_blank">
            Blog <span class="icon"><i class="mdi mdi-open-in-new"></i></span>
          </a>
        
      
        
          <a href="https://github.com/helm/community" class="navbar-item external" target="_blank">
            Comunidad <span class="icon"><i class="mdi mdi-open-in-new"></i></span>
          </a>
        
      
    </div>

    <div class="navbar-end is-hidden-mobile">
      <ul class="is-pulled-right">
        





  <li class="versioner l18ner navbar-item has-dropdown is-right is-hoverable">
    <a data-dropdown="drop1" aria-controls="drop1" aria-expanded="false" class="versioner-trigger navbar-link">
      Español <i class="fa fa-caret-down"></i>
    </a>

    <ul id="drop1" class="navbar-dropdown dropdown-menu f-dropdown" data-dropdown-content aria-hidden="true" tabindex="-1">
      
      
      
          
          
              
                
                
                    <li class="navbar-item"><a href="https://helm.sh/docs/topics/charts/"><code>en</code> &nbsp; English</a></li>
                
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
      
          
          
              

            
              

            
              
                
                
                    <li class="navbar-item"><a href="https://helm.sh/es/docs/topics/charts/" class="active"><code>es</code> &nbsp; Español</a></li>
                
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
      
          
          
              

            
              

            
              

            
              

            
              

            
              

            
              
                
                
                    <li class="navbar-item"><a href="https://helm.sh/ko/docs/topics/charts/"><code>ko</code> &nbsp; 한국어</a></li>
                
              

            
              

            
              

            
              

            
      
          
          
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              
                
                
                    <li class="navbar-item"><a href="https://helm.sh/zh/docs/topics/charts/"><code>zh</code> &nbsp; 中文</a></li>
                
              

            
      
      <li class="navbar-item l18n-prompt"><a href="https://github.com/helm/helm-www#internationalization--translation"><small>Traduzca esta pagina</small></a></li>
    </ul>
  </li>
  

        




  <li class="versioner navbar-item has-dropdown is-right is-hoverable">
    
    <a data-dropdown="drop1" aria-controls="drop1" aria-expanded="false" class="versioner-trigger navbar-link">
      v3.13.0 <i class="fa fa-caret-down"></i>
    </a>
    

    <ul id="drop1" class="navbar-dropdown dropdown-menu f-dropdown" data-dropdown-content aria-hidden="true" tabindex="-1">
      
      <li>
        <a href="https://helm.sh/docs" class="navbar-item">
          v3.13.0 <em>stable</em>
        </a>
      </li>
      
      <li>
        <a href="https://v2.helm.sh/docs" class="navbar-item">
          v2.17.0
        </a>
      </li>
      
    </ul>
  </li>

        <li class="">
          <a class="button not-fixed is-outlined" href="/es/docs/intro/quickstart">Empieza</a>
        </li>
      </ul>
    </div>

    
    <div class="navbar-end is-hidden-tablet">
      <div id="navbarBurger" class="navbar-burger burger" data-target="navMenuDocumentation">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </div>
</nav>

    



<nav class="navbar navbar-top navbar-top-fixed" role="navigation" aria-label="main navigation">
  <div class="container is-fluid">
    
    <div class="navbar-brand">
      <a href="/">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 304 351"><title>Helm</title>
<mask id="a" fill="#fff">
<path d="m0 0h313.303155v159.864865h-313.303155z" fill="#fff" fill-rule="evenodd"/>
</mask>
<mask id="b" fill="#fff">
<path d="m0 0h313.303155v159.864865h-313.303155z" fill="#fff" fill-rule="evenodd"/>
</mask>
<g fill="none" fill-rule="evenodd" transform="translate(-11 -51)">
<path d="m11.6785714 189h19.7858357v26.789h23.9037v-26.789h19.7858358v75.25h-19.7858358v-28.695333h-23.9037v28.695333h-19.7858357zm86.1738429 75.25v-75.25h46.8030427v16.354333h-27.017207v12.240667h23.9037v16.655333h-23.9037v13.846h27.017207v16.153667zm68.4971567 0v-75.25h19.785836v55.384h27.117643v19.866zm77.536372-75.25 30.733328 27.892667 30.632893-27.892667h8.938779v75.25h-19.886272v-38.628333l-19.6854 17.959666-19.785835-17.859333v38.528h-19.886272v-75.25z" fill="#0f1689"/>
<g transform="matrix(1 0 0 -1 11.958136 455)">
<g fill="#0f1689" mask="url(#a)">
<path d="m203.460676 95.6875425c6.93631 0 12.559301-14.8092194 12.559301-33.0773172s-5.622991-33.0773172-12.559301-33.0773172c-6.936311 0-12.559301 14.8092194-12.559301 33.0773172s5.62299 33.0773172 12.559301 33.0773172z" transform="matrix(.81915204 .57357644 -.57357644 .81915204 111.870091 -51.706556)"/>
<path d="m30.1423223 95.6875425c6.9363104 0 12.559301-14.8092194 12.559301-33.0773172s-5.6229906-33.0773172-12.559301-33.0773172-12.5593009 14.8092194-12.5593009 33.0773172 5.6229905 33.0773172 12.5593009 33.0773172z" transform="matrix(-.81915204 .57357644 .57357644 .81915204 58.084611 47.704768)"/>
<path d="m116.732815 66.2752676c6.936311 0 12.559301-14.8092193 12.559301-33.0773172 0-18.2680978-5.62299-33.07731713-12.559301-33.07731713-6.93631 0-12.559301 14.80921933-12.559301 33.07731713 0 18.2680979 5.622991 33.0773172 12.559301 33.0773172z" transform="matrix(-1 0 0 1 272.628524 53.670762)"/>
</g>
<path d="m251.467006 173.099849c-20.230076-33.609969-56.889565-56.067908-98.755776-56.067908-40.720798 0-76.5158766 21.245901-97.0586959 53.334588m2.1981107 129.169534c20.8403036 30.232701 55.5559042 50.026591 94.8605852 50.026591 39.376099 0 74.146424-19.865887 94.974049-50.191495" mask="url(#a)" stroke="#0f1689" stroke-width="20"/>
</g>
<g transform="translate(11.958136)">
<g fill="#0f1689" mask="url(#b)">
<path d="m203.460676 95.6875425c6.93631 0 12.559301-14.8092194 12.559301-33.0773172s-5.622991-33.0773172-12.559301-33.0773172c-6.936311 0-12.559301 14.8092194-12.559301 33.0773172s5.62299 33.0773172 12.559301 33.0773172z" transform="matrix(.81915204 .57357644 -.57357644 .81915204 111.870091 -54.166016)"/>
<path d="m30.1423223 95.6875425c6.9363104 0 12.559301-14.8092194 12.559301-33.0773172s-5.6229906-33.0773172-12.559301-33.0773172-12.5593009 14.8092194-12.5593009 33.0773172 5.6229905 33.0773172 12.5593009 33.0773172z" transform="matrix(-.81915204 .57357644 .57357644 .81915204 58.084611 45.245308)"/>
<path d="m116.732815 66.2752676c6.936311 0 12.559301-14.8092193 12.559301-33.0773172 0-18.2680978-5.62299-33.07731713-12.559301-33.07731713-6.93631 0-12.559301 14.80921933-12.559301 33.07731713 0 18.2680979 5.622991 33.0773172 12.559301 33.0773172z" transform="matrix(-1 0 0 1 272.628524 51.211302)"/>
</g>
<path d="m251.467006 170.64039c-20.230076-33.609969-56.889565-56.067908-98.755776-56.067908-40.720798 0-76.5158766 21.2459-97.0586959 53.334587m2.1981107 129.169534c20.8403036 30.232702 55.5559042 50.026591 94.8605852 50.026591 39.376099 0 74.146424-19.865886 94.974049-50.191494" mask="url(#b)" stroke="#0f1689" stroke-width="20"/>
</g>
</g>
</svg>
      </a>
    </div>

    
    <div class="navbar-menu is-centered" id="navMenuDocumentation">
      
        
          <a href="/es/" class="navbar-item">
            Inicio
          </a>
        
      
        
          <a href="/es/docs" class="navbar-item">
            Docs
          </a>
        
      
        
          <a href="https://hub.helm.sh/" class
          ="navbar-item external" target="_blank">
            Charts <span class="icon"><i class="mdi mdi-open-in-new"></i></span>
          </a>
        
      
        
          <a href="https://helm.sh/blog" class
          ="navbar-item external" target="_blank">
            Blog <span class="icon"><i class="mdi mdi-open-in-new"></i></span>
          </a>
        
      
        
          <a href="https://github.com/helm/community" class
          ="navbar-item external" target="_blank">
            Comunidad <span class="icon"><i class="mdi mdi-open-in-new"></i></span>
          </a>
        
      
    </div>

    <div class="navbar-end is-hidden-mobile">
      <ul class="is-pulled-right">
        





  <li class="versioner l18ner navbar-item has-dropdown is-right is-hoverable">
    <a data-dropdown="drop1" aria-controls="drop1" aria-expanded="false" class="versioner-trigger navbar-link">
      Español <i class="fa fa-caret-down"></i>
    </a>

    <ul id="drop1" class="navbar-dropdown dropdown-menu f-dropdown" data-dropdown-content aria-hidden="true" tabindex="-1">
      
      
      
          
          
              
                
                
                    <li class="navbar-item"><a href="https://helm.sh/docs/topics/charts/"><code>en</code> &nbsp; English</a></li>
                
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
      
          
          
              

            
              

            
              
                
                
                    <li class="navbar-item"><a href="https://helm.sh/es/docs/topics/charts/" class="active"><code>es</code> &nbsp; Español</a></li>
                
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
      
          
          
              

            
              

            
              

            
              

            
              

            
              

            
              
                
                
                    <li class="navbar-item"><a href="https://helm.sh/ko/docs/topics/charts/"><code>ko</code> &nbsp; 한국어</a></li>
                
              

            
              

            
              

            
              

            
      
          
          
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              
                
                
                    <li class="navbar-item"><a href="https://helm.sh/zh/docs/topics/charts/"><code>zh</code> &nbsp; 中文</a></li>
                
              

            
      
      <li class="navbar-item l18n-prompt"><a href="https://github.com/helm/helm-www#internationalization--translation"><small>Traduzca esta pagina</small></a></li>
    </ul>
  </li>
  

        




  <li class="versioner navbar-item has-dropdown is-right is-hoverable">
    
    <a data-dropdown="drop1" aria-controls="drop1" aria-expanded="false" class="versioner-trigger navbar-link">
      v3.13.0 <i class="fa fa-caret-down"></i>
    </a>
    

    <ul id="drop1" class="navbar-dropdown dropdown-menu f-dropdown" data-dropdown-content aria-hidden="true" tabindex="-1">
      
      <li>
        <a href="https://helm.sh/docs" class="navbar-item">
          v3.13.0 <em>stable</em>
        </a>
      </li>
      
      <li>
        <a href="https://v2.helm.sh/docs" class="navbar-item">
          v2.17.0
        </a>
      </li>
      
    </ul>
  </li>

        <li>
          <a class="button not-fixed is-outlined" href="/es/docs/intro/quickstart">Empieza</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

  </header>

  <div class="columns" id="helm">
    <aside class="column is-narrow is-gapless sidebar-wrapper">
      

<input type="checkbox" class="hamburger-trigger" />
<small class="hamburger">
  <span></span>
  <span></span>
  <span></span>
</small>

<div class="sidebar">
  <div class="is-visible-mobile is-hidden-tablet" id="sidebar-toggle">Browse Docs <span class="icon"><i class="mdi mdi-arrow-down"></i></span></div>

  <div class="sidebar-content-wrapper">
    <div class="search-container">
      <input id="q" placeholder="Search..." autofocus>
      <span class="icon"><i class="mdi mdi-magnify"></i></span>
    </div>

    
    <nav class="sidebar-nav">

      <ul class="current sidebar-main">
        <li class="sidebar-nav-item toctree-l1">
          <a class="reference internal" href="/es/docs/" state="">
            <span class="ripple">
              Docs Inicio
            </span>
          </a>
        </li>

        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
              <li class="sidebar-nav-item toctree-l1">
  <a class="reference internal" href="/es/docs/intro/">
    <span class="ripple">
      Introducción
    </span>
  </a>

  
  <ul class="current">
    
    <li class="toctree-12">
      <a href="/es/docs/intro/quickstart/" title="Switch to Guía de inicio rápido">
        Guía de inicio rápido
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/es/docs/intro/install/" title="Switch to Instalar Helm">
        Instalar Helm
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/es/docs/intro/using_helm/" title="Switch to Uso de Helm">
        Uso de Helm
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/es/docs/intro/cheatsheet/" title="Switch to ">
        
      </a>
    </li>
    
  </ul>
  
</li>

            
          
            
              <li class="sidebar-nav-item toctree-l1">
  <a class="reference internal" href="/es/docs/howto/">
    <span class="ripple">
      Cómo Hacer
    </span>
  </a>

  
  <ul class="current">
    
    <li class="toctree-12">
      <a href="/es/docs/howto/charts_tips_and_tricks/" title="Switch to Consejos y Trucos para el Desarrollo de Charts">
        Consejos y Trucos para el Desarrollo de Charts
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/es/docs/howto/chart_repository_sync_example/" title="Switch to Sincronizar tu Repositorio de Charts">
        Sincronizar tu Repositorio de Charts
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/es/docs/howto/chart_releaser_action/" title="Switch to Chart Releaser Action para automatizar página GitHub de Charts">
        Chart Releaser Action para automatizar página GitHub de Charts
      </a>
    </li>
    
  </ul>
  
</li>

            
          
            
              <li class="sidebar-nav-item toctree-l1">
  <a class="reference internal" href="/es/docs/topics/">
    <span class="ripple">
      Temas
    </span>
  </a>

  
  <ul class="current">
    
    <li class="toctree-12">
      <a href="/es/docs/topics/charts/" title="Switch to Charts">
        Charts
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/es/docs/topics/charts_hooks/" title="Switch to Ganchos de Chart">
        Ganchos de Chart
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/es/docs/topics/chart_tests/" title="Switch to Pruebas de Chart">
        Pruebas de Chart
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/es/docs/topics/library_charts/" title="Switch to Charts de Bibliotecas">
        Charts de Bibliotecas
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/es/docs/topics/provenance/" title="Switch to Procedencia e Integridad de Helm">
        Procedencia e Integridad de Helm
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/es/docs/topics/architecture/" title="Switch to Arquitectura Helm">
        Arquitectura Helm
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/es/docs/topics/advanced/" title="Switch to Técnicas avanzadas de Helm">
        Técnicas avanzadas de Helm
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/es/docs/topics/kubernetes_distros/" title="Switch to Guía de distribución de Kubernetes">
        Guía de distribución de Kubernetes
      </a>
    </li>
    
  </ul>
  
</li>

            
          
        

      </ul>
    </nav>

    <aside class="sidebar-buttons is-hidden-mobile">
      <div class="button-wrap">
        <a href="https://github.com/helm/helm-www#contributing" class="button is-outline is-fullwidth">Contribute to Docs</a>
      </div>
    </aside>
  </div>
</div>
    </aside>
    
    <section class="column content-docs">
      <article class="content-wrapper">
        <h1>Charts</h1>
        
        <p>Helm usa un formato de empaquetado llamado <em>charts</em>. Un chart es una colección
de archivos que describen un conjunto relacionado de recursos de Kubernetes. Se
puede usar un solo chart para implementar algo simple, como un pod de Memcached,
o algo complejo, como una pila de aplicaciones web completa con servidores HTTP,
bases de datos, cachés, etc.</p>
<p>Los charts se crean como archivos dispuestos en un árbol de directorios en
particular. Se pueden empaquetar en archivos versionados para ser desplegados.</p>
<p>Si desea descargar y ver los archivos de un chart publicado, sin instalarlo,
puede hacerlo con <code>helm pull chartrepo/chartname</code>.</p>
<p>Este documento explica el formato del chart y proporciona una guía básica para
crear charts con Helm.</p>
<h2 id="la-estructura-de-archivos-del-chart">La Estructura de Archivos del Chart</h2>
<p>Un chart se organiza como una colección de archivos dentro de un directorio. El
nombre del directorio es el nombre del chart (sin información de versiones). Por
lo tanto, un chart que describa WordPress se almacenaría en un directorio <code>wordpress/</code>.</p>
<p>Dentro de este directorio, Helm esperará una estructura que coincida con esto:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>wordpress/
</span></span><span style="display:flex;"><span>  Chart.yaml          # Un archivo YAML que contiene información sobre el chart.
</span></span><span style="display:flex;"><span>  LICENSE             # OPCIONAL: Un archivo de texto sin formato que contiene la licencia del chart.
</span></span><span style="display:flex;"><span>  README.md           # OPCIONAL: Un archivo README legible por humanos
</span></span><span style="display:flex;"><span>  values.yaml         # Los valores de configuración predeterminados para este chart
</span></span><span style="display:flex;"><span>  values.schema.json  # OPCIONAL: Un esquema JSON para imponer una estructura en el archivo values.yaml
</span></span><span style="display:flex;"><span>  charts/             # Un directorio que contiene los charts de los que depende este chart.
</span></span><span style="display:flex;"><span>  crds/               # Custom Resource Definitions
</span></span><span style="display:flex;"><span>  templates/          # Un directorio de plantillas que, cuando se combinan con valores, 
</span></span><span style="display:flex;"><span>                      # generarán archivos de manifiesto de Kubernetes válidos.
</span></span><span style="display:flex;"><span>  templates/NOTES.txt # OPCIONAL: Un archivo de texto sin formato que contiene breves notas de uso.
</span></span></code></pre></div><p>Helm se reserva el uso de los directorios <code>charts/</code>, <code>crds/</code> y <code>templates/</code>, y
de los nombres de archivo listados. Los demás archivos se dejarán como están.</p>
<h2 id="el-archivo-chartyaml">El Archivo Chart.yaml</h2>
<p>El archivo <code>Chart.yaml</code> es requerido para un chart. Contiene los siguientes campos:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#309;font-weight:bold">apiVersion</span>:<span style="color:#bbb"> </span>La versión de la API de chart (requerido)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">name</span>:<span style="color:#bbb"> </span>El nombre del chart (requerido)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">version</span>:<span style="color:#bbb"> </span>An versión SemVer 2 (requerido)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">kubeVersion</span>:<span style="color:#bbb"> </span>Un rango SemVer de versiones compatibles de Kubernetes (opcional)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">description</span>:<span style="color:#bbb"> </span>Una descripción de una sola frase de este proyecto (opcional)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">type</span>:<span style="color:#bbb"> </span>El tipo de chart (opcional)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">keywords</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>- Una lista de palabras clave sobre este proyecto (opcional)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">home</span>:<span style="color:#bbb"> </span>La URL de la página de inicio de este proyecto (opcional)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">sources</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>- Una lista de URL al código fuente de este proyecto (opcional)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">dependencies</span>:<span style="color:#bbb"> </span><span style="color:#09f;font-style:italic"># Una lista de los requisitos del chart. (opcional)</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>- <span style="color:#309;font-weight:bold">name</span>:<span style="color:#bbb"> </span>El nombre del chart (nginx)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">version</span>:<span style="color:#bbb"> </span>La versión del chart (&#34;1.2.3&#34;)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">repository</span>:<span style="color:#bbb"> </span>(opcional) La URL del repositorio (&#34;https://example.com/charts&#34;) o el alias (&#34;@repo-name&#34;)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">condition</span>:<span style="color:#bbb"> </span>(opcional) Una ruta yaml que se resuelve en un booleano, que se usa para habilitar/deshabilitar charts (e.g. subchart1.enabled)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">tags</span>:<span style="color:#bbb"> </span><span style="color:#09f;font-style:italic"># (opcional)</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span>- Las etiquetas se pueden usar para agrupar charts para habilitar/deshabilitar en for conjunta<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">import-values</span>:<span style="color:#bbb"> </span><span style="color:#09f;font-style:italic"># (opcional)</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span>- ImportValues contiene la asignación de valores de origen a la clave principal que se va a importar. Cada elemento puede ser una cadena o un par de elementos hijo/padre de la sublista.<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">alias</span>:<span style="color:#bbb"> </span>(opcional) Alias que se utilizará para el chart. Útil cuando tiene que agregar el mismo chart varias veces<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">maintainers</span>:<span style="color:#bbb"> </span><span style="color:#09f;font-style:italic"># (opcional)</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>- <span style="color:#309;font-weight:bold">name</span>:<span style="color:#bbb"> </span>El nombre de los mantenedores (requerido para cada mantenedor)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">email</span>:<span style="color:#bbb"> </span>El correo electrónico de los mantenedores (opcional para cada mantenedor)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">url</span>:<span style="color:#bbb"> </span>Una URL para el mantenedor (opcional para cada mantenedor)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">icon</span>:<span style="color:#bbb"> </span>Una URL a una imagen SVG o PNG que se utilizará como icono (opcional).<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">appVersion</span>:<span style="color:#bbb"> </span>La versión de la aplicación que contiene. (opcional). No es necesario que sea SemVer. Se recomienda encerrar en comillas.<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">deprecated</span>:<span style="color:#bbb"> </span>Si este chart está obsoleto (optional, boolean)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">annotations</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">example</span>:<span style="color:#bbb"> </span>Una lista de anotaciones codificadas por nombre (opcional).<span style="color:#bbb">
</span></span></span></code></pre></div><p>Otros campos se ignorarán silenciosamente.</p>
<h3 id="charts-y-versionado">Charts y Versionado</h3>
<p>Cada chart debe tener un número de versión. Una versión debe seguir el estándar

<a href="https://semver.org/spec/v2.0.0.html" target="_blank">SemVer 2</a>. A diferencia de Helm Classic,
Helm v2 y versiones posteriores utilizan números de versión como marcadores de
versión. Los paquetes en repositorios son identificado por el nombre más la versión.</p>
<p>Por ejemplo, un chart <code>nginx</code> cuyo campo de versión se establece en
<code>versión: 1.2.3</code> se denominará:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>nginx-1.2.3.tgz
</span></span></code></pre></div><p>También se admiten nombres SemVer 2 más complejos, como <code>versión: 1.2.3-alpha.1+ef365</code>.
Pero el sistema rechaza explícitamente los nombres que no son SemVer.</p>
<p><strong>NOTA:</strong> Mientras que Helm Classic y Deployment Manager estaban muy orientados
a GitHub cuando se trataba de charts, Helm v2 y versiones posteriores no dependen
ni requieren GitHub o incluso Git. En consecuencia, no utiliza Git SHA para el
control de versiones.</p>
<p>El campo <code>version</code> dentro de <code>Chart.yaml</code> es utilizado por muchas de las
herramientas de Helm, incluida el CLI. Al generar un paquete, el comando
<code>helm package</code> usará la versión que encuentre en el archivo <code>Chart.yaml</code>
como un token en el nombre del paquete. El sistema asume que el número de versión
en el nombre del paquete del chart coincide con el número de versión en
<code>Chart.yaml</code>. El incumplimiento de esta suposición provocará un error.</p>
<h3 id="el-campo-apiversion">El Campo <code>apiVersion</code></h3>
<p>El campo <code>apiVersion</code> debe ser <code>v2</code> para los charts de Helm que requieren al menos
Helm 3. Los charts que admiten versiones anteriores de Helm tienen el campo <code>apiVersion</code>
establecido en <code>v1</code> y aún se pueden instalar en Helm 3.</p>
<p>Cambios de <code>v1</code> a <code>v2</code>:</p>
<ul>
<li>Un campo <code>dependencies</code> que define las dependencias del chart, que se encontraba
en el archivo <code>requirements.yaml</code> para los charts <code>v1</code> (consulte 
<a href="#dependencias-del-chart">Dependencias
del chart</a>).</li>
<li>El campo <code>type</code>, discriminando charts de aplicaciones y bibliotecas (consulte

<a href="#tipos-de-chart">Tipos de Charts</a>).</li>
</ul>
<h3 id="el-campo-appversion">El Campo <code>appVersion</code></h3>
<p>Tenga en cuenta que el campo <code>appVersion</code> no está relacionado con el campo <code>version</code>.
Es una forma de especificar la versión de la aplicación. Por ejemplo, el chart
<code>drupal</code> puede tener una <code>appVersion: &quot;8.2.1&quot;</code>, lo que indica que la versión de
Drupal incluida en el chart (por defecto) es <code>8.2.1</code>. Este campo es informativo
y no tiene ningún impacto en los cálculos de la versión del chart. Se recomienda
encarecidamente envolver la versión entre comillas. Esto obliga al analizador YAML
a tratar el número de versión como una cadena. Dejarlo sin comillas puede provocar
problemas de análisis en algunos casos. Por ejemplo, YAML interpreta <code>1.0</code> como un
valor de punto flotante y un SHA de confirmación de git como <code>1234e10</code> como
notación científica.</p>
<p>A partir de Helm v3.5.0, <code>helm create</code> envuelve el campo predeterminado
<code>appVersion</code> entre comillas.</p>
<h3 id="el-campo-kubeversion">El Campo <code>kubeVersion</code></h3>
<p>El campo opcional <code>kubeVersion</code> puede definir restricciones de SemVer en las
versiones compatibles de Kubernetes. Helm validará las restricciones de versión
al instalar el chart y fallará si el clúster ejecuta una versión de Kubernetes
no compatible.</p>
<p>Las restricciones de versión pueden comprender comparaciones AND separadas por
espacios, como</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>&gt;= 1.13.0 &lt; 1.15.0
</span></span></code></pre></div><p>que pueden combinarse con el operador OR <code>||</code> como en el siguiente ejemplo</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>&gt;= 1.13.0 &lt; 1.14.0 || &gt;= 1.14.1 &lt; 1.15.0
</span></span></code></pre></div><p>En este ejemplo, se excluye la versión <code>1.14.0</code>, lo que puede tener sentido si
se sabe que un error en ciertas versiones impide que el chart se ejecute correctamente.</p>
<p>Aparte de las restricciones de versión que emplean operadores <code>=</code> <code>! =</code> <code>&gt;</code> <code>&lt;</code>
<code>&gt; =</code> <code>&lt;=</code>, se admiten las siguientes notaciones abreviadas</p>
<ul>
<li>rangos de guiones para intervalos cerrados, donde <code>1.1 - 2.3.4</code> es equivalente
a <code>&gt;= 1.1 &lt;= 2.3.4</code>.</li>
<li>comodines <code>x</code>, <code>X</code> y <code>*</code>, donde <code>1.2.x</code> es equivalente a <code>&gt; = 1.2.0 &lt;1.3.0</code>.</li>
<li>rangos de tilde (se permiten cambios en la versión del parche), donde <code>~1.2.3</code>
es equivalente a <code>&gt;= 1.2.3 &lt; 1.3.0</code>.</li>
<li>intervalos de intercalación (se permiten cambios menores en la versión), donde
<code>^1.2.3</code> es equivalente a <code>&gt;= 1.2.3 &lt; 2.0.0</code>.</li>
</ul>
<p>Para obtener una explicación detallada de las restricciones semver admitidas, consulte

<a href="https://github.com/Masterminds/semver" target="_blank">Masterminds/semver</a>.</p>
<h3 id="deprecando-charts">Deprecando Charts</h3>
<p>Al administrar charts en un repositorio de charts, a veces es necesario deprecar
un chart. El campo opcional <code>deprecated</code> en <code>Chart.yaml</code> se puede utilizar para
marcar un chart como deprecado. Si la <strong>última</strong> versión de un chart en el
repositorio está marcada como deprecado, entonces el chart en su conjunto se
considera deprecado. El nombre del chart se puede reutilizar más tarde publicando
una versión más reciente que no esté marcada como deprecado. El flujo de trabajo
para charts obsoletos es:</p>
<ol>
<li>Actualizar el archivo <code>Chart.yaml</code> del chart para marcar el chart como deprecado,
subiendo la versión</li>
<li>Publicar la nueva versión del chart en el repositorio de charts.</li>
<li>Eliminar el chart del repositorio de origen (p. Ej., git)</li>
</ol>
<h3 id="tipos-de-chart">Tipos de Chart</h3>
<p>El campo <code>type</code> define el tipo de chart. Hay dos tipos: <code>application</code> (aplicación)
y <code>library</code> (biblioteca). Aplicación es el tipo predeterminado y es el chart estándar
con el que se puede operar completamente. El 
<a href="https://helm.sh/es/docs/topics/library_charts/">chart de biblioteca</a>
proporciona utilidades o funciones para el generador de charts. Un chart de biblioteca
se diferencia de un chart de aplicación porque no se puede instalar y, por lo
general, no contiene ningún objeto de recurso.</p>
<p><strong>Nota:</strong> Se puede utilizar un chart de aplicación como chart de biblioteca. Esto
se habilita estableciendo el tipo en <code>library</code>. Luego, el chart se renderizará
como un chart de biblioteca en el que se pueden aprovechar todas las utilidades
y funciones. Todos los objetos de recursos del chart no se renderizarán.</p>
<h2 id="archivos-license-readme-y-notes-del-chart">Archivos LICENSE, README y NOTES del Chart</h2>
<p>Los Charts también pueden contener archivos que describen la instalación,
configuración, uso y licencia de un chart.</p>
<p>Un archivo LICENSE es un archivo de texto sin formato que contiene la

<a href="https://en.wikipedia.org/wiki/Software_license" target="_blank">licencia</a> para el chart. El
chart puede contener una licencia, ya que puede tener lógica de programación en
las plantillas y, por lo tanto, no sería solo configuración. También puede haber
licencias separadas para la aplicación instalada por el chart, si es necesario.</p>
<p>Un archivo README para un chart debe tener el formato Markdown (README.md) y
generalmente debe contener:</p>
<ul>
<li>Una descripción de la aplicación o servicio que proporciona el chart.</li>
<li>Cualquier requisito previo o requisito para ejecutar el chart.</li>
<li>Descripciones de opciones en <code>values.yaml</code> y valores predeterminados</li>
<li>Cualquier otra información que pueda ser relevante para la instalación o
configuración del chart</li>
</ul>
<p>Cuando los concentradores y otras interfaces de usuario muestran detalles sobre
un chart, ese detalle se extrae del contenido del archivo <code>README.md</code>.</p>
<p>El chart también puede contener un archivo corto de texto sin formato <code>templates/NOTES.txt</code>
que se imprimirá después de la instalación y al ver el estado de un release. Este
archivo se evalúa como una 
<a href="#plantillas-y-valores">plantilla</a> y se puede utilizar
para mostrar notas de uso, próximos pasos o cualquier otra información relevante
para una publicación del chart. Por ejemplo, se pueden proporcionar instrucciones
para conectarse a una base de datos o acceder a una interfaz de usuario web. Dado
que este archivo se imprime en STDOUT cuando se ejecuta <code>helm install</code> o <code>helm status</code>,
se recomienda mantener breve el contenido y señalar el archivo README para obtener
más detalles.</p>
<h2 id="dependencias-del-chart">Dependencias del Chart</h2>
<p>En Helm, un chart puede depender de cualquier número de otros charts. Estas
dependencias se pueden vincular dinámicamente usando el campo <code>dependencies</code> en
<code>Chart.yaml</code> o se pueden traer al directorio <code>charts/</code> y administrar manualmente.</p>
<h3 id="administrar-dependencias-con-el-campo-dependencies">Administrar Dependencias con el Campo <code>dependencies</code></h3>
<p>Los chart requeridos por el chart actual se definen como una lista en el campo
<code>dependencias</code>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#309;font-weight:bold">dependencies</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>- <span style="color:#309;font-weight:bold">name</span>:<span style="color:#bbb"> </span>apache<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">version</span>:<span style="color:#bbb"> </span><span style="color:#f60">1.2.3</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">repository</span>:<span style="color:#bbb"> </span>https://example.com/charts<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>- <span style="color:#309;font-weight:bold">name</span>:<span style="color:#bbb"> </span>mysql<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">version</span>:<span style="color:#bbb"> </span><span style="color:#f60">3.2.1</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">repository</span>:<span style="color:#bbb"> </span>https://another.example.com/charts<span style="color:#bbb">
</span></span></span></code></pre></div><ul>
<li>El campo <code>name</code> es el nombre del chart que desea.</li>
<li>El campo <code>version</code> es la versión del chart que desea.</li>
<li>El campo <code>repository</code> es la URL completa del repositorio de charts. Tenga en
cuenta que usted también debe usar <code>helm repo add</code> para agregar ese repositorio
localmente.</li>
<li>Puede usar el nombre del repositorio en lugar de la URL</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span><span style="color:#009;font-weight:bold">$</span> helm repo add fantastic-charts https://fantastic-charts.storage.googleapis.com
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#309;font-weight:bold">dependencies</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>- <span style="color:#309;font-weight:bold">name</span>:<span style="color:#bbb"> </span>awesomeness<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">version</span>:<span style="color:#bbb"> </span><span style="color:#f60">1.0.0</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">repository</span>:<span style="color:#bbb"> </span><span style="color:#c30">&#34;@fantastic-charts&#34;</span><span style="color:#bbb">
</span></span></span></code></pre></div><p>Una vez que haya definido las dependencias, puede ejecutar <code>helm dependency update</code>
y usará su archivo de dependencia para descargar todos los chart especificados
en su directorio <code>charts/</code> por usted.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span><span style="color:#009;font-weight:bold">$</span> helm dep up foochart
</span></span><span style="display:flex;"><span><span style="color:#aaa">Hang tight while we grab the latest from your chart repositories...
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">...Successfully got an update from the &#34;local&#34; chart repository
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">...Successfully got an update from the &#34;stable&#34; chart repository
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">...Successfully got an update from the &#34;example&#34; chart repository
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">...Successfully got an update from the &#34;another&#34; chart repository
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">Update Complete. Happy Helming!
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">Saving 2 charts
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">Downloading apache from repo https://example.com/charts
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">Downloading mysql from repo https://another.example.com/charts
</span></span></span></code></pre></div><p>Cuando <code>helm dependency update</code> recupera charts, los almacenará como archivos
de chart en el directorio <code>charts/</code>. Entonces, para el ejemplo anterior, uno
esperaría ver los siguientes archivos en el directorio de charts:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>charts/
</span></span><span style="display:flex;"><span>  apache-1.2.3.tgz
</span></span><span style="display:flex;"><span>  mysql-3.2.1.tgz
</span></span></code></pre></div><h4 id="el-campo-alias-en-dependencies">El Campo Alias en dependencies</h4>
<p>Además de los otros campos anteriores, cada entrada de requisitos puede contener
el campo opcional <code>alias</code>.</p>
<p>Agregar un alias para un chart de dependencia colocaría un chart en dependencias
usando alias como nombre de la nueva dependencia.</p>
<p>Se puede usar un <code>alias</code> en los casos en que necesiten acceder a un chart con otro
nombre(s).</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#09f;font-style:italic"># parentchart/Chart.yaml</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">dependencies</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>- <span style="color:#309;font-weight:bold">name</span>:<span style="color:#bbb"> </span>subchart<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">repository</span>:<span style="color:#bbb"> </span>http://localhost:10191<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">version</span>:<span style="color:#bbb"> </span><span style="color:#f60">0.1.0</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">alias</span>:<span style="color:#bbb"> </span>new-subchart-1<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>- <span style="color:#309;font-weight:bold">name</span>:<span style="color:#bbb"> </span>subchart<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">repository</span>:<span style="color:#bbb"> </span>http://localhost:10191<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">version</span>:<span style="color:#bbb"> </span><span style="color:#f60">0.1.0</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">alias</span>:<span style="color:#bbb"> </span>new-subchart-2<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>- <span style="color:#309;font-weight:bold">name</span>:<span style="color:#bbb"> </span>subchart<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">repository</span>:<span style="color:#bbb"> </span>http://localhost:10191<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">version</span>:<span style="color:#bbb"> </span><span style="color:#f60">0.1.0</span><span style="color:#bbb">
</span></span></span></code></pre></div><p>En el ejemplo anterior obtendremos 3 dependencias en total para <code>parentchart</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>subchart
</span></span><span style="display:flex;"><span>new-subchart-1
</span></span><span style="display:flex;"><span>new-subchart-2
</span></span></code></pre></div><p>La forma manual de lograr esto es copiando y pegando el mismo chart en el directorio
<code>charts/</code> varias veces con diferentes nombres.</p>
<h4 id="campos-de-tags-and-condition-en-dependencies">Campos de Tags and Condition en dependencies</h4>
<p>Además de los otros campos anteriores, cada entrada de requisitos puede contener
los campos opcionales <code>tags</code> y <code>condition</code>.</p>
<p>Todos los charts se cargan de forma predeterminada. Si los campos <code>tags</code> o <code>condition</code>
están presentes, se evaluarán y usarán para controlar la carga de los charts a
los que se aplican.</p>
<p>Condition: el campo condition contiene una o más rutas YAML (delimitadas por
comas). Si esta ruta existe en los valores del padre superior y se resuelve en
un valor booleano, el chart se habilitará o deshabilitará en función de ese
valor booleano. Solo se evalúa la primera ruta válida que se encuentra en la
lista y, si no existen rutas, la condición no tiene ningún efecto.</p>
<p>Tags: el campo tag es una lista YAML de etiquetas para asociar con este chart. En
los valores padres superiores, todos los charts con etiquetas se pueden habilitar
o deshabilitar especificando la etiqueta y un valor booleano.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#09f;font-style:italic"># parentchart/Chart.yaml</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">dependencies</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>- <span style="color:#309;font-weight:bold">name</span>:<span style="color:#bbb"> </span>subchart1<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">repository</span>:<span style="color:#bbb"> </span>http://localhost:10191<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">version</span>:<span style="color:#bbb"> </span><span style="color:#f60">0.1.0</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">condition</span>:<span style="color:#bbb"> </span>subchart1.enabled, global.subchart1.enabled<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">tags</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span>- front-end<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span>- subchart1<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>- <span style="color:#309;font-weight:bold">name</span>:<span style="color:#bbb"> </span>subchart2<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">repository</span>:<span style="color:#bbb"> </span>http://localhost:10191<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">version</span>:<span style="color:#bbb"> </span><span style="color:#f60">0.1.0</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">condition</span>:<span style="color:#bbb"> </span>subchart2.enabled,global.subchart2.enabled<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">tags</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span>- back-end<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span>- subchart2<span style="color:#bbb">
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#09f;font-style:italic"># parentchart/values.yaml</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">subchart1</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">enabled</span>:<span style="color:#bbb"> </span><span style="color:#069;font-weight:bold">true</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">tags</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">front-end</span>:<span style="color:#bbb"> </span><span style="color:#069;font-weight:bold">false</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">back-end</span>:<span style="color:#bbb"> </span><span style="color:#069;font-weight:bold">true</span><span style="color:#bbb">
</span></span></span></code></pre></div><p>En el ejemplo anterior, todos los chart con la etiqueta <code>front-end</code> estarían deshabilitados,
pero dado que la ruta <code>subchart1.enabled</code> se evalúa como 'true' en los valores del
padre, la condición anulará la etiqueta <code>front-end</code> y <code>subchart1</code> estará habilitado.</p>
<p>Dado que <code>subchart2</code> está etiquetado con <code>back-end</code> y esa etiqueta se evalúa como
<code>true</code>, se habilitará <code>subchart2</code>. También tenga en cuenta que aunque <code>subchart2</code>
tiene una condición especificada, no hay una ruta y un valor correspondientes en
los valores de los padres, por lo que la condición no tiene ningún efecto.</p>
<h5 id="utilizar-el-cli-con-etiquetas-y-condiciones">Utilizar el CLI con Etiquetas y Condiciones</h5>
<p>El parámetro <code>--set</code> se puede utilizar como de costumbre para alterar los valores
de tags (etiquetas) y conditions (condiciones).</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span><span style="color:#aaa">helm install --set tags.front-end=true --set subchart2.enabled=false
</span></span></span></code></pre></div><h5 id="resolución-de-etiquetas-y-condiciones">Resolución de Etiquetas y Condiciones</h5>
<ul>
<li><strong>Las condiciones (cuando se establecen en values) siempre sobreescriben a
las etiquetas.</strong> La primera ruta de condición que existe gana y las siguientes
para ese chart se ignoran.</li>
<li>Las etiquetas se evalúan como 'si alguna de las etiquetas del chart es
verdadera, habilite el chart'.</li>
<li>Los valores de etiquetas y condiciones deben establecerse en los values
del chart padre superior.</li>
<li>The <code>tags:</code> key in values must be a top level key. Globals and nested <code>tags:</code>
tables are not currently supported.</li>
<li>La clave <code>tags:</code> en values debe ser una clave de nivel superior. Los <code>tags:</code>
globales y anidados no son soportados actualmente.</li>
</ul>
<h4 id="importar-values-hijos-via-dependencias">Importar values hijos via dependencias</h4>
<p>En algunos casos, es deseable permitir que los valores de un chart secundario
se propaguen al chart principal y se compartan como valores predeterminados
comunes. Un beneficio adicional de usar el formato de <code>exports</code> es que permitirá
que las herramientas futuras introspecten los valores configurables por el usuario.</p>
<p>Las claves que contienen los valores que se van a importar se pueden especificar
en la sección <code>dependencies</code> del chart principal en el campo <code>import-values</code>
mediante una lista YAML. Cada elemento de la lista es una clave que se importa
del campo <code>exports</code> del chart secundario.</p>
<p>Para importar valores que no están contenidos en la clave <code>exports</code>, use el
formato 
<a href="#usando-el-formato-padre-hijo">hijo-padre</a>. A continuación se describen
ejemplos de ambos formatos.</p>
<h5 id="usando-el-formato-de-exportación">Usando el formato de exportación</h5>
<p>If a child chart's <code>values.yaml</code> file contains an <code>exports</code> field at the root,
its contents may be imported directly into the parent's values by specifying the
keys to import as in the example below:</p>
<p>Si el archivo <code>values.yaml</code> de un chart secundario contiene un campo de <code>exports</code>
en la raíz, su contenido se puede importar directamente a los values del padre
especificando las claves para importar como en el siguiente ejemplo:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#09f;font-style:italic"># archivo Chart.yaml del padre</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">dependencies</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>- <span style="color:#309;font-weight:bold">name</span>:<span style="color:#bbb"> </span>subchart<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">repository</span>:<span style="color:#bbb"> </span>http://localhost:10191<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">version</span>:<span style="color:#bbb"> </span><span style="color:#f60">0.1.0</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">import-values</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span>- data<span style="color:#bbb">
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#09f;font-style:italic"># archivo value.yaml del hijo</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">exports</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">data</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">myint</span>:<span style="color:#bbb"> </span><span style="color:#f60">99</span><span style="color:#bbb">
</span></span></span></code></pre></div><p>Dado que estamos especificando la clave <code>data</code> en nuestra lista de importación,
Helm busca en el campo <code>exports</code> del chart secundario la clave <code>data</code> e importa
su contenido.</p>
<p>El values final del padres contendrían nuestro campo exportado:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#09f;font-style:italic"># values del padre</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">myint</span>:<span style="color:#bbb"> </span><span style="color:#f60">99</span><span style="color:#bbb">
</span></span></span></code></pre></div><p>Tenga en cuenta que la clave principal <code>data</code> no está contenida en el values
final del padre. Si necesita especificar la clave principal, utilice el formato 'hijo-padre'.</p>
<h5 id="usando-el-formato-padre-hijo">Usando el formato padre-hijo</h5>
<p>Para acceder a los valores que no están contenidos en la clave <code>exports</code> del values
del chart hijo, deberá especificar la clave de origen del values que se
importarán (<code>child</code>) y la ruta de destino en el values del chart padre (<code>parent</code>).</p>
<p>The <code>import-values</code> in the example below instructs Helm to take any values found
at <code>child:</code> path and copy them to the parent's values at the path specified in
<code>parent:</code></p>
<p>Los <code>import-values</code> en el siguiente ejemplo le indican a Helm que tome los valores
encontrados en la ruta <code>child:</code> y los copie a los valores del padre en la ruta
especificada en <code>parent:</code></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#09f;font-style:italic"># archivo Chart.yaml del padre</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">dependencies</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>- <span style="color:#309;font-weight:bold">name</span>:<span style="color:#bbb"> </span>subchart1<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">repository</span>:<span style="color:#bbb"> </span>http://localhost:10191<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">version</span>:<span style="color:#bbb"> </span><span style="color:#f60">0.1.0</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>...<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">import-values</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span>- <span style="color:#309;font-weight:bold">child</span>:<span style="color:#bbb"> </span>default.data<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#309;font-weight:bold">parent</span>:<span style="color:#bbb"> </span>myimports<span style="color:#bbb">
</span></span></span></code></pre></div><p>En el ejemplo anterior, los valores que se encuentran en <code>default.data</code> en los
valores del subchart1 se importarán a la clave <code>myimports</code> en los values del chart
padre como se detalla a continuación:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#09f;font-style:italic"># archivo values.yaml del padre</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">myimports</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">myint</span>:<span style="color:#bbb"> </span><span style="color:#f60">0</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">mybool</span>:<span style="color:#bbb"> </span><span style="color:#069;font-weight:bold">false</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">mystring</span>:<span style="color:#bbb"> </span><span style="color:#c30">&#34;helm rocks!&#34;</span><span style="color:#bbb">
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#09f;font-style:italic"># archivo values.yaml subchart1</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">default</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">data</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">myint</span>:<span style="color:#bbb"> </span><span style="color:#f60">999</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">mybool</span>:<span style="color:#bbb"> </span><span style="color:#069;font-weight:bold">true</span><span style="color:#bbb">
</span></span></span></code></pre></div><p>El values del chart padre resultantes sería:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#09f;font-style:italic"># vales final del padre</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">myimports</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">myint</span>:<span style="color:#bbb"> </span><span style="color:#f60">999</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">mybool</span>:<span style="color:#bbb"> </span><span style="color:#069;font-weight:bold">true</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">mystring</span>:<span style="color:#bbb"> </span><span style="color:#c30">&#34;helm rocks!&#34;</span><span style="color:#bbb">
</span></span></span></code></pre></div><p>El values final del padre ahora contienen los campos <code>myint</code> y <code>mybool</code>
importados de subchart1.</p>
<h3 id="administrar-dependencias-manualmente-a-través-del-directorio-charts">Administrar Dependencias manualmente a través del directorio <code>charts/</code></h3>
<p>Si se desea más control sobre las dependencias, estas dependencias se pueden
expresar explícitamente copiando los charts de dependencias en el directorio
<code>charts/</code>.</p>
<p>Una dependencia puede ser un archivo de chart (<code>foo-1.2.3.tgz</code>) o un directorio
de chart descomprimido. Pero su nombre no puede comenzar con <code>_</code> o <code>.</code>. El cargador
de chart ignora estos archivos.</p>
<p>Por ejemplo, si el chart de WordPress depende del chart de Apache, el chart de Apache
(de la versión correcta) se proporciona en el directorio <code>charts/</code> del chart de WordPress:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#309;font-weight:bold">wordpress</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>Chart.yaml<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#09f;font-style:italic"># ...</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>charts/<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>apache/<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span>Chart.yaml<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#09f;font-style:italic"># ...</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>mysql/<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span>Chart.yaml<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#09f;font-style:italic"># ...</span><span style="color:#bbb">
</span></span></span></code></pre></div><p>El ejemplo anterior muestra cómo el chart de WordPress expresa su dependencia
de Apache y MySQL al incluir esos charts dentro de su directorio <code>charts /</code>.</p>
<p><strong>CONSEJO:</strong> <em>Para colocar una dependencia en su directorio <code>charts/</code>, use el
comando <code>helm pull</code></em></p>
<h3 id="aspectos-operativos-del-uso-de-dependencias">Aspectos operativos del uso de dependencias</h3>
<p>Las secciones anteriores explican cómo especificar las dependencias del chart,
pero ¿cómo afecta esto a la instalación del chart usando <code>helm install</code> y
<code>helm upgrade</code>?</p>
<p>Supongamos que un chart llamado &quot;A&quot; crea los siguientes objetos de Kubernetes</p>
<ul>
<li>namespace &quot;A-Namespace&quot;</li>
<li>statefulset &quot;A-StatefulSet&quot;</li>
<li>service &quot;A-Service&quot;</li>
</ul>
<p>Además, A depende del chart B que crea los objetos</p>
<ul>
<li>namespace &quot;B-Namespace&quot;</li>
<li>replicaset &quot;B-ReplicaSet&quot;</li>
<li>service &quot;B-Service&quot;</li>
</ul>
<p>Después de la instalación/actualización del chart A, se crea/modifica un único
release de Helm. El release creará/actualizará todos los objetos de Kubernetes
anteriores en el siguiente orden:</p>
<ul>
<li>A-Namespace</li>
<li>B-Namespace</li>
<li>A-Service</li>
<li>B-Service</li>
<li>B-ReplicaSet</li>
<li>A-StatefulSet</li>
</ul>
<p>Esto se debe a que cuando Helm instala/actualiza charts, los objetos de Kubernetes
de los charts y todas sus dependencias son</p>
<ul>
<li>agregado en un solo conjunto; luego</li>
<li>ordenados por tipo seguido de nombre; y entonces</li>
<li>creado/actualizado en ese orden.</li>
</ul>
<p>Por lo tanto, se crea un único release con todos los objetos del charts y sus dependencias.</p>
<p>El orden de instalación de los tipos de Kubernetes viene dado por la enumeración
InstallOrder en kind_sorter.go (ver 
<a href="https://github.com/helm/helm/blob/484d43913f97292648c867b56768775a55e4bba6/pkg/releaseutil/kind_sorter.go" target="_blank">el archivo fuente de Helm</a>).</p>
<h2 id="plantillas-y-valores">Plantillas y Valores</h2>
<p>Las plantillas de Charts de Helm están escritas en el 
<a href="https://golang.org/pkg/text/template/" target="_blank">lenguaje Go
template</a>, con la adición de unas 50
funciones de plantilla complementarias 
<a href="https://github.com/Masterminds/sprig" target="_blank">de la biblioteca Sprig</a>
y algunas otras 
<a href="https://helm.sh/es/docs/howto/charts_tips_and_tricks/">funciones especializadas</a>.</p>
<p>Todos los archivos de plantilla se almacenan en la carpeta <code>templates/</code> de un chart.
Cuando Helm renderiza los charts, pasará todos los archivos de ese directorio a
través del motor de plantillas.</p>
<p>Los valores de las plantillas se proporcionan de dos formas:</p>
<ul>
<li>Los desarrolladores de charts pueden proporcionar un archivo llamado <code>values.yaml</code>
dentro de un chart. Este archivo puede contener valores predeterminados.</li>
<li>Los usuarios de charts pueden proporcionar un archivo YAML que contenga valores.
Esto se puede proporcionar en la línea de comandos con <code>helm install</code>.</li>
</ul>
<p>Cuando un usuario proporciona valores personalizados, estos valores sobreescribirán
los valores del archivo <code>values.yaml</code> del chart.</p>
<h3 id="archivos-de-plantillas">Archivos de Plantillas</h3>
<p>Los archivos de plantilla siguen las convenciones estándar para escribir plantillas
de Go (consulte 
<a href="https://golang.org/pkg/text/template/" target="_blank">la documentación del paquete de text/template de Go</a>
para obtener más detalles). Un archivo de plantilla de ejemplo podría verse así:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#309;font-weight:bold">apiVersion</span>:<span style="color:#bbb"> </span>v1<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">kind</span>:<span style="color:#bbb"> </span>ReplicationController<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">metadata</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">name</span>:<span style="color:#bbb"> </span>deis-database<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">namespace</span>:<span style="color:#bbb"> </span>deis<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">labels</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">app.kubernetes.io/managed-by</span>:<span style="color:#bbb"> </span>deis<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">spec</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">replicas</span>:<span style="color:#bbb"> </span><span style="color:#f60">1</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">selector</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">app.kubernetes.io/name</span>:<span style="color:#bbb"> </span>deis-database<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">template</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">metadata</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#309;font-weight:bold">labels</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#309;font-weight:bold">app.kubernetes.io/name</span>:<span style="color:#bbb"> </span>deis-database<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">spec</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#309;font-weight:bold">serviceAccount</span>:<span style="color:#bbb"> </span>deis-database<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#309;font-weight:bold">containers</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>- <span style="color:#309;font-weight:bold">name</span>:<span style="color:#bbb"> </span>deis-database<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">          </span><span style="color:#309;font-weight:bold">image</span>:<span style="color:#bbb"> </span>{{<span style="color:#bbb"> </span>.Values.imageRegistry }}/postgres:{{ .Values.dockerTag }}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">          </span><span style="color:#309;font-weight:bold">imagePullPolicy</span>:<span style="color:#bbb"> </span>{{<span style="color:#bbb"> </span>.Values.pullPolicy }}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">          </span><span style="color:#309;font-weight:bold">ports</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>- <span style="color:#309;font-weight:bold">containerPort</span>:<span style="color:#bbb"> </span><span style="color:#f60">5432</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">          </span><span style="color:#309;font-weight:bold">env</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>- <span style="color:#309;font-weight:bold">name</span>:<span style="color:#bbb"> </span>DATABASE_STORAGE<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">              </span><span style="color:#309;font-weight:bold">value</span>:<span style="color:#bbb"> </span>{{<span style="color:#bbb"> </span>default &#34;minio&#34; .Values.storage }}<span style="color:#bbb">
</span></span></span></code></pre></div><p>El ejemplo anterior, basado ligeramente en

<a href="https://github.com/deis/charts" target="_blank">https://github.com/deis/charts</a>, es una plantilla
para un controlador de replicación de Kubernetes. Puede utilizar los siguientes
cuatro valores de plantilla (normalmente definidos en un archivo <code>values.yaml</code>):</p>
<ul>
<li><code>imageRegistry</code>: El registro de origen de la imagen de Docker.</li>
<li><code>dockerTag</code>: La etiqueta para image de Docker.</li>
<li><code>pullPolicy</code>: La política de pull de The Kubernetes.</li>
<li><code>storage</code>: El backend de almacenamiento, cuyo valor predeterminado es <code>&quot;minio&quot;</code></li>
</ul>
<p>Todos estos valores los define el autor de la plantilla. Helm no requiere ni
dicta parámetros.</p>
<p>Para ver muchos charts operativos, consulte 
<a href="https://artifacthub.io/packages/search?kind=0" target="_blank">Artifact
Hub</a> de la CNCF.</p>
<h3 id="valores-predefinidos">Valores Predefinidos</h3>
<p>Los valores que se proporcionan a través de un archivo <code>values.yaml</code> (o mediante
la bandera <code>--set</code>) son accesibles desde el objeto <code>.Values</code> en una plantilla.
Pero hay otros datos predefinidos a los que puede acceder en tus plantillas.</p>
<p>Los siguientes valores están predefinidos, están disponibles para todas las
plantillas y no se pueden sobreescribir. Como ocurre con todos los valores,
los nombres son <em>sensibles a mayúsculas y minúsculas</em>.</p>
<ul>
<li><code>Release.Name</code>: El nombre del release (no del chart)</li>
<li><code>Release.Namespace</code>: El namespace donde el chart fue deplegado.</li>
<li><code>Release.Service</code>: El servicio que realizó el lanzamiento.</li>
<li><code>Release.IsUpgrade</code>: Se establece en true (verdadero) si la operación actual
es una actualización o una reversión.</li>
<li><code>Release.IsInstall</code>: Se establece en true (verdadero) si la operación actual
es una instalación.</li>
<li><code>Chart</code>: El contenido de <code>Chart.yaml</code>. Por lo tanto, la versión del chart se
puede obtener como <code>Chart.Version</code> y los mantenedores están en <code>Chart.Maintainers</code>.</li>
<li><code>Files</code>: Un objeto similar a un mapa que contiene todos los archivos no especiales
del chart. Esto no le dará acceso a las plantillas, pero le dará acceso a archivos
adicionales que están presentes (a menos que estén excluidos usando <code>.helmignore</code>).
Se puede acceder al archivo usando <code>{{ index .Files &quot;file.name&quot; }}</code> o usando la
función <code>{{ .Files.Get name }}</code>. También puede acceder al contenido del archivo
como <code>[]byte</code> usando <code>{{ .Files.GetBytes }}</code></li>
<li><code>Capabilities</code>: Un objeto similar a un mapa que contiene información sobre las
versiones de Kubernetes (<code>{{ .Capabilities.KubeVersion }}</code>) y las versiones
compatibles de la API de Kubernetes (<code>{{ .Capabilities.APIVersions.Has &quot;batch/v1&quot; }}</code>)</li>
</ul>
<p><strong>NOTA:</strong> Se eliminarán todos los campos desconocidos de <code>Chart.yaml</code>. No serán
accesibles dentro del objeto <code>Chart</code>. Por lo tanto, <code>Chart.yaml</code> no se puede usar
para pasar datos estructurados arbitrariamente a la plantilla. Sin embargo, el
archivo de values se puede usar para eso.</p>
<h3 id="archivos-values">Archivos values</h3>
<p>Teniendo en cuenta la plantilla de la sección anterior, un archivo <code>values.yaml</code>
que proporciona los valores necesarios se vería así:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#309;font-weight:bold">imageRegistry</span>:<span style="color:#bbb"> </span><span style="color:#c30">&#34;quay.io/deis&#34;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">dockerTag</span>:<span style="color:#bbb"> </span><span style="color:#c30">&#34;latest&#34;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">pullPolicy</span>:<span style="color:#bbb"> </span><span style="color:#c30">&#34;Always&#34;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">storage</span>:<span style="color:#bbb"> </span><span style="color:#c30">&#34;s3&#34;</span><span style="color:#bbb">
</span></span></span></code></pre></div><p>Un archivo values tiene el formato YAML. Un chart puede incluir un archivo
<code>values.yaml</code> predeterminado. El comando de instalación de Helm permite al usuario
sobreescribir valores al proporcionar valores YAML adicionales:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span><span style="color:#009;font-weight:bold">$</span> helm install --generate-name --values<span style="color:#555">=</span>myvals.yaml wordpress
</span></span></code></pre></div><p>Cuando los valores se pasan de esta manera, se fusionarán en el archivo de values
predeterminado. Por ejemplo, considere un archivo <code>myvals.yaml</code> que se ve así:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#309;font-weight:bold">storage</span>:<span style="color:#bbb"> </span><span style="color:#c30">&#34;gcs&#34;</span><span style="color:#bbb">
</span></span></span></code></pre></div><p>Cuando se fusiona con <code>values.yaml</code> del chart, el contenido generado resultante será:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#309;font-weight:bold">imageRegistry</span>:<span style="color:#bbb"> </span><span style="color:#c30">&#34;quay.io/deis&#34;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">dockerTag</span>:<span style="color:#bbb"> </span><span style="color:#c30">&#34;latest&#34;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">pullPolicy</span>:<span style="color:#bbb"> </span><span style="color:#c30">&#34;Always&#34;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">storage</span>:<span style="color:#bbb"> </span><span style="color:#c30">&#34;gcs&#34;</span><span style="color:#bbb">
</span></span></span></code></pre></div><p>Tenga en cuenta que solo se sobreescribó el último campo.</p>
<p><strong>NOTA:</strong> El archivo de valores predeterminados incluido dentro de un chart
<em>debe</em> llamarse <code>values.yaml</code>. Pero los archivos especificados en la línea de
comandos pueden tener cualquier nombre.</p>
<p><strong>NOTA:</strong> Si la marca <code>--set</code> se usa en <code>helm install</code> o <code>helm upgrade</code>, esos valores
simplemente se convierten a YAML en el lado del cliente.</p>
<p><strong>NOTA:</strong> Si existen entradas obligatorias en el archivo values, se pueden declarar
según sea necesario en la plantilla del chart mediante la 
<a href="https://helm.sh/es/docs/howto/charts_tips_and_tricks/">función
'required'</a></p>
<p>Cualquiera de estos valores es accesible dentro de las plantillas usando el objeto
<code>.Values</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#309;font-weight:bold">apiVersion</span>:<span style="color:#bbb"> </span>v1<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">kind</span>:<span style="color:#bbb"> </span>ReplicationController<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">metadata</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">name</span>:<span style="color:#bbb"> </span>deis-database<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">namespace</span>:<span style="color:#bbb"> </span>deis<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">labels</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">app.kubernetes.io/managed-by</span>:<span style="color:#bbb"> </span>deis<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">spec</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">replicas</span>:<span style="color:#bbb"> </span><span style="color:#f60">1</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">selector</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">app.kubernetes.io/name</span>:<span style="color:#bbb"> </span>deis-database<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">template</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">metadata</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#309;font-weight:bold">labels</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#309;font-weight:bold">app.kubernetes.io/name</span>:<span style="color:#bbb"> </span>deis-database<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">spec</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#309;font-weight:bold">serviceAccount</span>:<span style="color:#bbb"> </span>deis-database<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#309;font-weight:bold">containers</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>- <span style="color:#309;font-weight:bold">name</span>:<span style="color:#bbb"> </span>deis-database<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">          </span><span style="color:#309;font-weight:bold">image</span>:<span style="color:#bbb"> </span>{{<span style="color:#bbb"> </span>.Values.imageRegistry }}/postgres:{{ .Values.dockerTag }}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">          </span><span style="color:#309;font-weight:bold">imagePullPolicy</span>:<span style="color:#bbb"> </span>{{<span style="color:#bbb"> </span>.Values.pullPolicy }}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">          </span><span style="color:#309;font-weight:bold">ports</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>- <span style="color:#309;font-weight:bold">containerPort</span>:<span style="color:#bbb"> </span><span style="color:#f60">5432</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">          </span><span style="color:#309;font-weight:bold">env</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>- <span style="color:#309;font-weight:bold">name</span>:<span style="color:#bbb"> </span>DATABASE_STORAGE<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">              </span><span style="color:#309;font-weight:bold">value</span>:<span style="color:#bbb"> </span>{{<span style="color:#bbb"> </span>default &#34;minio&#34; .Values.storage }}<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="alcance-dependencias-y-valores">Alcance, Dependencias y Valores</h3>
<p>Los archivos de valores pueden declarar valores para el chart de nivel superior,
así como para cualquiera de los charts que se incluyen en el directorio <code>charts/</code>
de ese chart. O, para expresarlo de otra manera, un archivo de valores puede
proporcionar valores al chart, así como a cualquiera de sus dependencias. Por ejemplo,
el chart de demostración de WordPress anterior tiene tanto <code>mysql</code> como <code>apache</code>
como dependencias. El archivo de valores podría proporcionar valores a todos estos
componentes:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#309;font-weight:bold">title</span>:<span style="color:#bbb"> </span><span style="color:#c30">&#34;My WordPress Site&#34;</span><span style="color:#bbb"> </span><span style="color:#09f;font-style:italic"># Enviado a la plantilla de WordPress</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">mysql</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">max_connections</span>:<span style="color:#bbb"> </span><span style="color:#f60">100</span><span style="color:#bbb"> </span><span style="color:#09f;font-style:italic"># Enviado a MySQL</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">password</span>:<span style="color:#bbb"> </span><span style="color:#c30">&#34;secret&#34;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">apache</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">port</span>:<span style="color:#bbb"> </span><span style="color:#f60">8080</span><span style="color:#bbb"> </span><span style="color:#09f;font-style:italic"># Enviado a Apache</span><span style="color:#bbb">
</span></span></span></code></pre></div><p>Los charts de un nivel superior tienen acceso a todas las variables definidas a
nivel inferior. Entonces, el chart de WordPress puede acceder a la contraseña de
MySQL como <code>.Values.mysql.password</code>. Pero los charts de nivel inferior no pueden
acceder a elementos de los charts padres, por lo que MySQL no podrá acceder a la
propiedad <code>title</code>. Tampoco, en ese caso, puede acceder a <code>apache.port</code>.</p>
<p>Los valores son dependientes del espacio de nombres, pero los espacios de nombres
se podan. Entonces, para el chart de WordPress, puede acceder al campo de contraseña
de MySQL como <code>.Values.mysql.password</code>. Pero para el chart MySQL, el alcance de
los valores se ha reducido y el prefijo del espacio de nombres eliminado, por lo
que verá el campo de contraseña simplemente como <code>.Values.password</code>.</p>
<h4 id="valores-globales">Valores Globales</h4>
<p>A partir de 2.0.0-Alpha.2, Helm admite un valor &quot;global&quot; especial. Considere esta
versión modificada del ejemplo anterior:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#309;font-weight:bold">title</span>:<span style="color:#bbb"> </span><span style="color:#c30">&#34;My WordPress Site&#34;</span><span style="color:#bbb"> </span><span style="color:#09f;font-style:italic"># Enviado a la plantilla de WordPress</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">global</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">app</span>:<span style="color:#bbb"> </span>MyWordPress<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">mysql</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">max_connections</span>:<span style="color:#bbb"> </span><span style="color:#f60">100</span><span style="color:#bbb"> </span><span style="color:#09f;font-style:italic"># Enviado a MySQL</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">password</span>:<span style="color:#bbb"> </span><span style="color:#c30">&#34;secret&#34;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">apache</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">port</span>:<span style="color:#bbb"> </span><span style="color:#f60">8080</span><span style="color:#bbb"> </span><span style="color:#09f;font-style:italic"># Enviado a Apache</span><span style="color:#bbb">
</span></span></span></code></pre></div><p>Lo anterior agrega una sección <code>global</code> con el valor <code>app: MyWordPress</code>. Este
valor está disponible para <em>todos</em> los charts como <code>.Values.global.app</code>.</p>
<p>Por ejemplo, las plantillas <code>mysql</code> pueden acceder a <code>app</code> como
<code>{{ .Values.global.app }}</code>, y también el chart <code>apache</code>. Efectivamente, el
archivo de valores anterior se regenera así:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#309;font-weight:bold">title</span>:<span style="color:#bbb"> </span><span style="color:#c30">&#34;My WordPress Site&#34;</span><span style="color:#bbb"> </span><span style="color:#09f;font-style:italic"># Enviado a la plantilla de WordPress</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">global</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">app</span>:<span style="color:#bbb"> </span>MyWordPress<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">mysql</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">global</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">app</span>:<span style="color:#bbb"> </span>MyWordPress<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">max_connections</span>:<span style="color:#bbb"> </span><span style="color:#f60">100</span><span style="color:#bbb"> </span><span style="color:#09f;font-style:italic"># Enviado a MySQL</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">password</span>:<span style="color:#bbb"> </span><span style="color:#c30">&#34;secret&#34;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">apache</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">global</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">app</span>:<span style="color:#bbb"> </span>MyWordPress<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">port</span>:<span style="color:#bbb"> </span><span style="color:#f60">8080</span><span style="color:#bbb"> </span><span style="color:#09f;font-style:italic"># Enviado a Apache</span><span style="color:#bbb">
</span></span></span></code></pre></div><p>Esto proporciona una forma de compartir una variable de nivel superior con todos
los sub-charts, lo cual es útil para cosas como establecer propiedades de <code>metadatos</code>
como etiquetas.</p>
<p>Si un sub-chart declara una variable global, ese global se pasará <em>hacia abajo</em>
(a los sub-charts del sub-chart), pero no <em>hacia arriba</em> al chart padre. No hay
forma de que un sub-chart influya en los valores del chart padre.</p>
<p>Además, las variables globales de los charts padres tienen prioridad sobre las
variables globales de los subcharts.</p>
<h3 id="archivos-de-esquema">Archivos de Esquema</h3>
<p>A veces, un mantenedor de charts puede querer definir una estructura sobre sus
valores. Esto se puede hacer definiendo un esquema en el archivo
<code>values.schema.json</code>. Un esquema se representa como un

<a href="https://json-schema.org/" target="_blank">JSON Schema</a>. Podría verse algo como esto:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#309;font-weight:bold">&#34;$schema&#34;</span>: <span style="color:#c30">&#34;https://json-schema.org/draft-07/schema#&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#309;font-weight:bold">&#34;properties&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#309;font-weight:bold">&#34;image&#34;</span>: {
</span></span><span style="display:flex;"><span>      <span style="color:#309;font-weight:bold">&#34;description&#34;</span>: <span style="color:#c30">&#34;Container Image&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#309;font-weight:bold">&#34;properties&#34;</span>: {
</span></span><span style="display:flex;"><span>        <span style="color:#309;font-weight:bold">&#34;repo&#34;</span>: {
</span></span><span style="display:flex;"><span>          <span style="color:#309;font-weight:bold">&#34;type&#34;</span>: <span style="color:#c30">&#34;string&#34;</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#309;font-weight:bold">&#34;tag&#34;</span>: {
</span></span><span style="display:flex;"><span>          <span style="color:#309;font-weight:bold">&#34;type&#34;</span>: <span style="color:#c30">&#34;string&#34;</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      },
</span></span><span style="display:flex;"><span>      <span style="color:#309;font-weight:bold">&#34;type&#34;</span>: <span style="color:#c30">&#34;object&#34;</span>
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#309;font-weight:bold">&#34;name&#34;</span>: {
</span></span><span style="display:flex;"><span>      <span style="color:#309;font-weight:bold">&#34;description&#34;</span>: <span style="color:#c30">&#34;Service name&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#309;font-weight:bold">&#34;type&#34;</span>: <span style="color:#c30">&#34;string&#34;</span>
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#309;font-weight:bold">&#34;port&#34;</span>: {
</span></span><span style="display:flex;"><span>      <span style="color:#309;font-weight:bold">&#34;description&#34;</span>: <span style="color:#c30">&#34;Port&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#309;font-weight:bold">&#34;minimum&#34;</span>: <span style="color:#f60">0</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#309;font-weight:bold">&#34;type&#34;</span>: <span style="color:#c30">&#34;integer&#34;</span>
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#309;font-weight:bold">&#34;protocol&#34;</span>: {
</span></span><span style="display:flex;"><span>      <span style="color:#309;font-weight:bold">&#34;type&#34;</span>: <span style="color:#c30">&#34;string&#34;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#309;font-weight:bold">&#34;required&#34;</span>: [
</span></span><span style="display:flex;"><span>    <span style="color:#c30">&#34;protocol&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#c30">&#34;port&#34;</span>
</span></span><span style="display:flex;"><span>  ],
</span></span><span style="display:flex;"><span>  <span style="color:#309;font-weight:bold">&#34;title&#34;</span>: <span style="color:#c30">&#34;Values&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#309;font-weight:bold">&#34;type&#34;</span>: <span style="color:#c30">&#34;object&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Este esquema se aplicará a los valores para validarlo. La validación se produce
cuando se invoca cualquiera de los siguientes comandos:</p>
<ul>
<li><code>helm install</code></li>
<li><code>helm upgrade</code></li>
<li><code>helm lint</code></li>
<li><code>helm template</code></li>
</ul>
<p>Un ejemplo de un archivo <code>values.yaml</code> que cumpla con los requisitos de este
esquema podría verse así:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#309;font-weight:bold">name</span>:<span style="color:#bbb"> </span>frontend<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">protocol</span>:<span style="color:#bbb"> </span>https<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">port</span>:<span style="color:#bbb"> </span><span style="color:#f60">443</span><span style="color:#bbb">
</span></span></span></code></pre></div><p>Tenga en cuenta que el esquema se aplica al objeto final <code>.Values</code>, y no solo al
archivo <code>values.yaml</code>. Esto significa que el siguiente archivo <code>yaml</code> es válido,
dado que el chart se instala con la opción <code>--set</code> apropiada que se muestra a continuación.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#309;font-weight:bold">name</span>:<span style="color:#bbb"> </span>frontend<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">protocol</span>:<span style="color:#bbb"> </span>https<span style="color:#bbb">
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span><span style="color:#aaa">helm install --set port=443
</span></span></span></code></pre></div><p>Además, el objeto <code>.Values</code> final se verifica con <em>todos</em> los esquemas de los sub-charts.
Esto significa que un chart padre no puede eludir las restricciones de un sub-chart.
Esto también funciona al revés: si un subchart tiene un requisito que no se cumple
en el archivo <code>values.yaml</code> del subchart, el chart padre <em>debe</em> satisfacer esas
restricciones para ser válido.</p>
<h3 id="referencias">Referencias</h3>
<p>Cuando se trata de escribir plantillas, valores y archivos de esquema, existen
varias referencias estándar que le ayudarán.</p>
<ul>
<li>
<a href="https://godoc.org/text/template" target="_blank">Plantillas de Go</a></li>
<li>
<a href="https://godoc.org/github.com/Masterminds/sprig" target="_blank">Funciones extras de plantillas</a></li>
<li>
<a href="https://yaml.org/spec/" target="_blank">El formato YAML</a></li>
<li>
<a href="https://json-schema.org/" target="_blank">JSON Schema</a></li>
</ul>
<h2 id="custom-resource-definitions-crds">Custom Resource Definitions (CRDs)</h2>
<p>Kubernetes proporciona un mecanismo para declarar nuevos tipos de objetos de Kubernetes.
Con CustomResourceDefinitions (CRD), los desarrolladores de Kubernetes pueden declarar
tipos de recursos personalizados.</p>
<p>En Helm 3, los CRD se tratan como un tipo especial de objeto. Se instalan antes
que el resto de la tabla y están sujetos a algunas limitaciones.</p>
<p>Los archivos CRD YAML deben colocarse en el directorio <code>crds/</code> dentro de un chart.
Se pueden colocar varios CRD (separados por marcadores de inicio y finalización YAML)
en el mismo archivo. Helm intentará cargar <em>todos</em> los archivos del directorio
CRD en Kubernetes.</p>
<p>Los archivos CRD <em>no pueden tener plantilla</em>. Deben ser documentos YAML simples.</p>
<p>Cuando Helm instala un nuevo chart, cargará los CRD, se detendrá hasta que el
servidor de API los ponga a disposición, y luego iniciará el motor de plantillas,
renderizará el resto del chart y lo cargará en Kubernetes. Debido a este orden,
la información de CRD está disponible en el objeto <code>.Capabilities</code> en las
plantillas de Helm, y las plantillas de Helm pueden crear nuevas instancias de
objetos que fueron declarados en los CRD.</p>
<p>For example, if your chart had a CRD for <code>CronTab</code> in the <code>crds/</code> directory, you
may create instances of the <code>CronTab</code> kind in the <code>templates/</code> directory:</p>
<p>Por ejemplo, si su chart tenía un CRD para <code>CronTab</code> en el directorio <code>crds/</code>,
puede crear instancias del tipo <code>CronTab</code> en el directorio <code>templates/</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>crontabs/
</span></span><span style="display:flex;"><span>  Chart.yaml
</span></span><span style="display:flex;"><span>  crds/
</span></span><span style="display:flex;"><span>    crontab.yaml
</span></span><span style="display:flex;"><span>  templates/
</span></span><span style="display:flex;"><span>    mycrontab.yaml
</span></span></code></pre></div><p>El archivo <code>crontab.yaml</code> debe contener el CRD sin directivas de plantilla:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#309;font-weight:bold">kind</span>:<span style="color:#bbb"> </span>CustomResourceDefinition<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">metadata</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">name</span>:<span style="color:#bbb"> </span>crontabs.stable.example.com<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">spec</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">group</span>:<span style="color:#bbb"> </span>stable.example.com<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">versions</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>- <span style="color:#309;font-weight:bold">name</span>:<span style="color:#bbb"> </span>v1<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#309;font-weight:bold">served</span>:<span style="color:#bbb"> </span><span style="color:#069;font-weight:bold">true</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#309;font-weight:bold">storage</span>:<span style="color:#bbb"> </span><span style="color:#069;font-weight:bold">true</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">scope</span>:<span style="color:#bbb"> </span>Namespaced<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">names</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">plural</span>:<span style="color:#bbb"> </span>crontabs<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">singular</span>:<span style="color:#bbb"> </span>crontab<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">kind</span>:<span style="color:#bbb"> </span>CronTab<span style="color:#bbb">
</span></span></span></code></pre></div><p>Luego, la plantilla <code>mycrontab.yaml</code> puede crear un nuevo <code>CronTab</code> (usando
plantillas como de costumbre):</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#309;font-weight:bold">apiVersion</span>:<span style="color:#bbb"> </span>stable.example.com<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">kind</span>:<span style="color:#bbb"> </span>CronTab<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">metadata</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">name</span>:<span style="color:#bbb"> </span>{{<span style="color:#bbb"> </span>.Values.name }}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">spec</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">   </span><span style="color:#09f;font-style:italic"># ...</span><span style="color:#bbb">
</span></span></span></code></pre></div><p>Helm se asegurará de que el tipo <code>CronTab</code> se haya instalado y esté disponible
en el servidor API de Kubernetes antes de continuar con la instalación de las cosas
en <code>templates/</code>.</p>
<h3 id="limitaciones-de-los-crds">Limitaciones de los CRDs</h3>
<p>A diferencia de la mayoría de los objetos de Kubernetes, los CRD se instalan
globalmente. Por esa razón, Helm adopta un enfoque muy cauteloso en la gestión
de CRD. Los CRD están sujetos a las siguientes limitaciones:</p>
<ul>
<li>Los CRD nunca se reinstalan. Si Helm determina que los CRD en el directorio <code>crds/</code>
ya están presentes (independientemente de la versión), Helm no intentará
instalarlos ni actualizarlos.</li>
<li>Los CRD nunca se instalan en la actualización o reversión. Helm solo creará
CRD en las operaciones de instalación.</li>
<li>Los CRD nunca se eliminan. La eliminación de un CRD elimina automáticamente
todo el contenido del CRD en todos los espacios de nombres del clúster.
En consecuencia, Helm no eliminará los CRD.</li>
</ul>
<p>Se recomienda a los operadores que deseen actualizar o eliminar CRD que lo hagan
manualmente y con mucho cuidado.</p>
<h2 id="uso-de-helm-para-administrar-charts">Uso de Helm para Administrar Charts</h2>
<p>La herramienta <code>helm</code> tiene varios comandos para trabajar con charts.</p>
<p>Puede crear un nuevo chart para usted:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span><span style="color:#009;font-weight:bold">$</span> helm create mychart
</span></span><span style="display:flex;"><span><span style="color:#aaa">Created mychart/
</span></span></span></code></pre></div><p>Una vez que haya editado un chart, <code>helm</code> puede empaquetarlo en un archivo de
charts para usted:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span><span style="color:#009;font-weight:bold">$</span> helm package mychart
</span></span><span style="display:flex;"><span><span style="color:#aaa">Archived mychart-0.1.-.tgz
</span></span></span></code></pre></div><p>También puede usar <code>helm</code> para ayudarlo a encontrar problemas con el formato o
la información de su chart:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span><span style="color:#009;font-weight:bold">$</span> helm lint mychart
</span></span><span style="display:flex;"><span><span style="color:#aaa">No issues found
</span></span></span></code></pre></div><h2 id="repositorios-de-chart">Repositorios de Chart</h2>
<p>Un <em>repositorio de charts</em> es un servidor HTTP que alberga uno o más charts
empaquetados. Si bien <code>helm</code> se puede usar para administrar directorios de
charts locales, cuando se trata de compartir charts, el mecanismo preferido es
un repositorio de charts.</p>
<p>Cualquier servidor HTTP que pueda servir archivos YAML y tar y que pueda responder
solicitudes GET se puede utilizar como servidor de repositorio. El equipo de Helm
ha probado algunos servidores, incluido Google Cloud Storage con el modo de sitio
web habilitado y S3 con el modo de sitio web habilitado.</p>
<p>Un repositorio se caracteriza principalmente por la presencia de un archivo
especial llamado <code>index.yaml</code> que tiene una lista de todos los paquetes
proporcionados por el repositorio, junto con metadatos que permiten recuperar y
verificar esos paquetes.</p>
<p>En el lado del cliente, los repositorios se administran con los comandos <code>helm repo</code>.
Sin embargo, Helm no proporciona herramientas para cargar charts en servidores
de repositorios remotos. Esto se debe a que hacerlo agregaría requisitos
sustanciales a un servidor de implementación y, por lo tanto, elevaría la barrera
para configurar un repositorio.</p>
<h2 id="paquetes-de-inicio-de-charts">Paquetes de Inicio de Charts</h2>
<p>El comando <code>helm create</code> toma una opción opcional <code>--starter</code> que le permite
especificar un &quot;chart de inicio&quot;.</p>
<p>Los paquetes de inicio son charts regulares, pero se encuentran en
<code>$XDG_DATA_HOME/helm/starters</code>. Como desarrollador de charts, puede crear charts
que estén diseñados específicamente para usarse como iniciadores. Dichos charts
deben diseñarse teniendo en cuenta las siguientes consideraciones:</p>
<ul>
<li>El generador sobrescribirá el archivo <code>Chart.yaml</code>.</li>
<li>Los usuarios esperarán modificar el contenido de dicho chart, por lo que la
documentación debe indicar cómo pueden hacerlo los usuarios.</li>
<li>Todas las apariciones de <code>&lt;CHARTNAME&gt;</code> serán reemplazadas con el nombre de chart
especificado para que los charts de inicio se puedan usar como plantillas.</li>
</ul>
<p>Actualmente, la única forma de agregar un chart a <code>$XDG_DATA_HOME/helm/starters</code>
es copiarlo manualmente allí. En la documentación de su chart, es posible que
desee explicar ese proceso.</p>


        <nav class="level prev-next">
          <div class="level-left level-item">
            
          </div>
          
          <div class="level-right level-item has-text-right">
            
            <a class="" href="https://helm.sh/es/docs/topics/charts_hooks/" title="Charts">
              <small class="heading">Next</small>
              <p class="title">Ganchos de Chart →</p>
            </a>
            
          </div>
        </nav>
      </article>
    </section>
  </div>
</div>



<section class="container footer-links">
  <div class="columns clearfix">
    <dl class="column">
      <dt><a href="https://github.com/helm/helm">Helm Project</a></dt>
      <dd><a href="/blog">Blog</a></dd>
      <dd><a href="https://www.cncf.io/community/kubecon-cloudnativecon-events/">Events</a></dd>
      <dd><a href="/docs/intro/quickstart/">Quick Start Guide</a></dd>
      <dd><a href="https://github.com/cncf/foundation/blob/master/code-of-conduct.md">Code of Conduct</a></dd>
    </dl>

    <dl class="column">
      <dt><a href="https://hub.helm.sh">Charts</a></dt>
      <dd><a href="/docs/topics/charts/">Introduction</a></dd>
      <dd><a href="/docs/howto/charts_tips_and_tricks/">Chart tips &amp; tricks</a></dd>
      <dd><a href="/docs/chart_template_guide/">Developing Charts</a></dd>
      <dd><a href="https://hub.helm.sh">Search 800+ Charts</a> <i class="fa fa-external"></i></dd>
    </dl>

    <dl class="column">
      <dt><a href="https://github.com/helm/community/blob/main/communication.md">Development</a></dt>
      <dd><a href="https://kubernetes.slack.com/messages/C51E88VDG">#helm-dev</a> <em>(slack)</em></dd>
      <dd><a href="https://github.com/helm/helm/blob/main/CONTRIBUTING.md">Contribution Guide</a></dd>
      <dd><a href="https://github.com/helm/helm/blob/main/OWNERS">Maintainers</a></dd>
      <dd><a href="https://github.com/helm/community/blob/main/communication.md#meetings">Weekly Meetings</a></dd>
    </dl>

    <dl class="column">
      <dt><a href="https://github.com/helm/community">Community</a></dt>
      <dd><a href="https://kubernetes.slack.com/messages/C0NH30761" title="#helm-users on Slack">#helm-users</a> <em>(slack)</em></dd>
      <dd><a href="https://lists.cncf.io/g/cncf-helm/topics">Mailing List</a></dd>
      <dd><a href="https://github.com/cncf/artwork/tree/master/projects/helm">Logos</a> &amp; <a href="https://github.com/helm/community/tree/main/art">Art</a></dd>
      <dd><a href="https://twitter.com/helmpack">Twitter</a></dd>
    </dl>
  </div>

  <div class="columns has-text-left cncf-wrap">
    <div class="column is-two-thirds">
      <a href="https://www.cncf.io/" title="Cloud Native Computing Foundation" target="_blank">
        <p class="lead">Somos un proyecto graduado de Cloud Native Computing Foundation.</p>
      </a>
    </div>

    <div class="column is-one-third has-text-right">
      <a href="https://www.cncf.io/" title="Cloud Native Computing Foundation" target="_blank">
        <img src="/img/cncf-white.svg" alt="We are a Cloud Native Computing Foundation project" class="">
      </a>
    </div>
  </div>

  <hr />

  <div class="copyright">
    <p>
      &copy; Helm Authors 2024 | Documentation distributed under <a href="https://creativecommons.org/licenses/by/4.0">CC-BY-4.0</a>
    </p>

    <p>
      &copy; 2024 The Linux Foundation. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href="https://www.linuxfoundation.org/trademark-usage/">Trademark Usage</a> page.
    </p>
  </div>
</section>



    
    

    











































<script src="/js/jquery.min.91911616059b1420d1a7e93cdb684177d9a8bcef473731743e5f72a796662698.js" integrity="sha256-kZEWFgWbFCDRp&#43;k822hBd9movO9HNzF0Pl9yp5ZmJpg="></script>




<script src="/js/bundle.min.019ebc0ad20ee895d8c4abd8ac9285f0dff63d29231c6ace4e5d022ea590e038.js" integrity="sha256-AZ68CtIO6JXYxKvYrJKF8N/2PSkjHGrOTl0CLqWQ4Dg="></script>



<script async src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js" onload="docsearch({
  apiKey: '8bca76b0664b04581dc9f9854e844a90',
  indexName: 'helm',
  inputSelector: '#q',
  debug: false // Set debug to true if you want to inspect the dropdown
  })"></script>


    
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42867143-2', 'auto');
  ga('send', 'pageview');
</script>

  </body>
</html>
