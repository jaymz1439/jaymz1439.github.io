



<!DOCTYPE html>
<html lang="es">
  <head>
    <title>
      
Helm | Ganchos de Chart

    </title>

    







<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width,initial-scale=1.0">


<meta name="description" content="Describe como trabajar con ganchos de chart.">


<meta property="og:title" content="Ganchos de Chart">
<meta property="og:title" content="Ganchos de Chart">
<meta property="og:url" content="https://sma-rnd.github.io/es/docs/topics/charts_hooks/">
<meta property="og:description" content="Describe como trabajar con ganchos de chart." />

<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://sma-rnd.github.io/img/og-image.png">
<meta name="twitter:title" content="Helm | Ganchos de Chart">
<meta name="twitter:description" content="Describe como trabajar con ganchos de chart.">

<meta name="google-site-verification" content="dCa3wS47cErhx0IpaxbB85NfcOP-vFxevknVk6fzf5I">

<link rel="icon" href="https://sma-rnd.github.io/img/favicon-152.png" type="image/x-icon">
<link rel="apple-touch-icon-precomposed" href="/img/apple-touch-icon-precomposed.png">














<link rel="stylesheet" href="/css/style.bb9a3f16cd8b057bc29c79565ae0d4a0d40d2088a9939d614209a479d640b7bb.css" integrity="sha256-u5o/Fs2LBXvCnHlWWuDUoNQNIIipk51hQgmkedZAt7s=">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />





  </head>

  
    <body id="landing" class="es"></body>
  
    

<div id="helm" class="page-docs page-wrapper page-docs-list">
  <header>
    
    



<nav class="navbar navbar-top" role="navigation" aria-label="main navigation">
  <div class="container is-fluid is-vcentered">
    <div class="navbar-brand">
      <a href="/">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 304 351"><title>Helm</title>
<mask id="a" fill="#fff">
<path d="m0 0h313.303155v159.864865h-313.303155z" fill="#fff" fill-rule="evenodd"/>
</mask>
<mask id="b" fill="#fff">
<path d="m0 0h313.303155v159.864865h-313.303155z" fill="#fff" fill-rule="evenodd"/>
</mask>
<g fill="none" fill-rule="evenodd" transform="translate(-11 -51)">
<path d="m11.6785714 189h19.7858357v26.789h23.9037v-26.789h19.7858358v75.25h-19.7858358v-28.695333h-23.9037v28.695333h-19.7858357zm86.1738429 75.25v-75.25h46.8030427v16.354333h-27.017207v12.240667h23.9037v16.655333h-23.9037v13.846h27.017207v16.153667zm68.4971567 0v-75.25h19.785836v55.384h27.117643v19.866zm77.536372-75.25 30.733328 27.892667 30.632893-27.892667h8.938779v75.25h-19.886272v-38.628333l-19.6854 17.959666-19.785835-17.859333v38.528h-19.886272v-75.25z" fill="#0f1689"/>
<g transform="matrix(1 0 0 -1 11.958136 455)">
<g fill="#0f1689" mask="url(#a)">
<path d="m203.460676 95.6875425c6.93631 0 12.559301-14.8092194 12.559301-33.0773172s-5.622991-33.0773172-12.559301-33.0773172c-6.936311 0-12.559301 14.8092194-12.559301 33.0773172s5.62299 33.0773172 12.559301 33.0773172z" transform="matrix(.81915204 .57357644 -.57357644 .81915204 111.870091 -51.706556)"/>
<path d="m30.1423223 95.6875425c6.9363104 0 12.559301-14.8092194 12.559301-33.0773172s-5.6229906-33.0773172-12.559301-33.0773172-12.5593009 14.8092194-12.5593009 33.0773172 5.6229905 33.0773172 12.5593009 33.0773172z" transform="matrix(-.81915204 .57357644 .57357644 .81915204 58.084611 47.704768)"/>
<path d="m116.732815 66.2752676c6.936311 0 12.559301-14.8092193 12.559301-33.0773172 0-18.2680978-5.62299-33.07731713-12.559301-33.07731713-6.93631 0-12.559301 14.80921933-12.559301 33.07731713 0 18.2680979 5.622991 33.0773172 12.559301 33.0773172z" transform="matrix(-1 0 0 1 272.628524 53.670762)"/>
</g>
<path d="m251.467006 173.099849c-20.230076-33.609969-56.889565-56.067908-98.755776-56.067908-40.720798 0-76.5158766 21.245901-97.0586959 53.334588m2.1981107 129.169534c20.8403036 30.232701 55.5559042 50.026591 94.8605852 50.026591 39.376099 0 74.146424-19.865887 94.974049-50.191495" mask="url(#a)" stroke="#0f1689" stroke-width="20"/>
</g>
<g transform="translate(11.958136)">
<g fill="#0f1689" mask="url(#b)">
<path d="m203.460676 95.6875425c6.93631 0 12.559301-14.8092194 12.559301-33.0773172s-5.622991-33.0773172-12.559301-33.0773172c-6.936311 0-12.559301 14.8092194-12.559301 33.0773172s5.62299 33.0773172 12.559301 33.0773172z" transform="matrix(.81915204 .57357644 -.57357644 .81915204 111.870091 -54.166016)"/>
<path d="m30.1423223 95.6875425c6.9363104 0 12.559301-14.8092194 12.559301-33.0773172s-5.6229906-33.0773172-12.559301-33.0773172-12.5593009 14.8092194-12.5593009 33.0773172 5.6229905 33.0773172 12.5593009 33.0773172z" transform="matrix(-.81915204 .57357644 .57357644 .81915204 58.084611 45.245308)"/>
<path d="m116.732815 66.2752676c6.936311 0 12.559301-14.8092193 12.559301-33.0773172 0-18.2680978-5.62299-33.07731713-12.559301-33.07731713-6.93631 0-12.559301 14.80921933-12.559301 33.07731713 0 18.2680979 5.622991 33.0773172 12.559301 33.0773172z" transform="matrix(-1 0 0 1 272.628524 51.211302)"/>
</g>
<path d="m251.467006 170.64039c-20.230076-33.609969-56.889565-56.067908-98.755776-56.067908-40.720798 0-76.5158766 21.2459-97.0586959 53.334587m2.1981107 129.169534c20.8403036 30.232702 55.5559042 50.026591 94.8605852 50.026591 39.376099 0 74.146424-19.865886 94.974049-50.191494" mask="url(#b)" stroke="#0f1689" stroke-width="20"/>
</g>
</g>
</svg>
      </a>
    </div>

    
    <div class="navbar-menu is-centered" id="navMenuDocumentation">
      
        
          <a href="/es/" class="navbar-item">
            Inicio
          </a>
        
      
        
          <a href="/es/docs" class="navbar-item">
            Docs
          </a>
        
      
        
          <a href="https://hub.helm.sh/" class="navbar-item external" target="_blank">
            Charts <span class="icon"><i class="mdi mdi-open-in-new"></i></span>
          </a>
        
      
        
          <a href="https://helm.sh/blog" class="navbar-item external" target="_blank">
            Blog <span class="icon"><i class="mdi mdi-open-in-new"></i></span>
          </a>
        
      
        
          <a href="https://github.com/helm/community" class="navbar-item external" target="_blank">
            Comunidad <span class="icon"><i class="mdi mdi-open-in-new"></i></span>
          </a>
        
      
    </div>

    <div class="navbar-end is-hidden-mobile">
      <ul class="is-pulled-right">
        





  <li class="versioner l18ner navbar-item has-dropdown is-right is-hoverable">
    <a data-dropdown="drop1" aria-controls="drop1" aria-expanded="false" class="versioner-trigger navbar-link">
      Español <i class="fa fa-caret-down"></i>
    </a>

    <ul id="drop1" class="navbar-dropdown dropdown-menu f-dropdown" data-dropdown-content aria-hidden="true" tabindex="-1">
      
      
      
          
          
              
                
                
                    <li class="navbar-item"><a href="https://sma-rnd.github.io/docs/topics/charts_hooks/"><code>en</code> &nbsp; English</a></li>
                
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
      
          
          
              

            
              

            
              
                
                
                    <li class="navbar-item"><a href="https://sma-rnd.github.io/es/docs/topics/charts_hooks/" class="active"><code>es</code> &nbsp; Español</a></li>
                
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
      
          
          
              

            
              

            
              

            
              

            
              

            
              

            
              
                
                
                    <li class="navbar-item"><a href="https://sma-rnd.github.io/ko/docs/topics/charts_hooks/"><code>ko</code> &nbsp; 한국어</a></li>
                
              

            
              

            
              

            
              

            
      
          
          
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              
                
                
                    <li class="navbar-item"><a href="https://sma-rnd.github.io/zh/docs/topics/charts_hooks/"><code>zh</code> &nbsp; 中文</a></li>
                
              

            
      
      <li class="navbar-item l18n-prompt"><a href="https://github.com/helm/helm-www#internationalization--translation"><small>Traduzca esta pagina</small></a></li>
    </ul>
  </li>
  

        




  <li class="versioner navbar-item has-dropdown is-right is-hoverable">
    
    <a data-dropdown="drop1" aria-controls="drop1" aria-expanded="false" class="versioner-trigger navbar-link">
      v3.13.0 <i class="fa fa-caret-down"></i>
    </a>
    

    <ul id="drop1" class="navbar-dropdown dropdown-menu f-dropdown" data-dropdown-content aria-hidden="true" tabindex="-1">
      
      <li>
        <a href="https://helm.sh/docs" class="navbar-item">
          v3.13.0 <em>stable</em>
        </a>
      </li>
      
      <li>
        <a href="https://v2.helm.sh/docs" class="navbar-item">
          v2.17.0
        </a>
      </li>
      
    </ul>
  </li>

        <li class="">
          <a class="button not-fixed is-outlined" href="/es/docs/intro/quickstart">Empieza</a>
        </li>
      </ul>
    </div>

    
    <div class="navbar-end is-hidden-tablet">
      <div id="navbarBurger" class="navbar-burger burger" data-target="navMenuDocumentation">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </div>
</nav>

    



<nav class="navbar navbar-top navbar-top-fixed" role="navigation" aria-label="main navigation">
  <div class="container is-fluid">
    
    <div class="navbar-brand">
      <a href="/">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 304 351"><title>Helm</title>
<mask id="a" fill="#fff">
<path d="m0 0h313.303155v159.864865h-313.303155z" fill="#fff" fill-rule="evenodd"/>
</mask>
<mask id="b" fill="#fff">
<path d="m0 0h313.303155v159.864865h-313.303155z" fill="#fff" fill-rule="evenodd"/>
</mask>
<g fill="none" fill-rule="evenodd" transform="translate(-11 -51)">
<path d="m11.6785714 189h19.7858357v26.789h23.9037v-26.789h19.7858358v75.25h-19.7858358v-28.695333h-23.9037v28.695333h-19.7858357zm86.1738429 75.25v-75.25h46.8030427v16.354333h-27.017207v12.240667h23.9037v16.655333h-23.9037v13.846h27.017207v16.153667zm68.4971567 0v-75.25h19.785836v55.384h27.117643v19.866zm77.536372-75.25 30.733328 27.892667 30.632893-27.892667h8.938779v75.25h-19.886272v-38.628333l-19.6854 17.959666-19.785835-17.859333v38.528h-19.886272v-75.25z" fill="#0f1689"/>
<g transform="matrix(1 0 0 -1 11.958136 455)">
<g fill="#0f1689" mask="url(#a)">
<path d="m203.460676 95.6875425c6.93631 0 12.559301-14.8092194 12.559301-33.0773172s-5.622991-33.0773172-12.559301-33.0773172c-6.936311 0-12.559301 14.8092194-12.559301 33.0773172s5.62299 33.0773172 12.559301 33.0773172z" transform="matrix(.81915204 .57357644 -.57357644 .81915204 111.870091 -51.706556)"/>
<path d="m30.1423223 95.6875425c6.9363104 0 12.559301-14.8092194 12.559301-33.0773172s-5.6229906-33.0773172-12.559301-33.0773172-12.5593009 14.8092194-12.5593009 33.0773172 5.6229905 33.0773172 12.5593009 33.0773172z" transform="matrix(-.81915204 .57357644 .57357644 .81915204 58.084611 47.704768)"/>
<path d="m116.732815 66.2752676c6.936311 0 12.559301-14.8092193 12.559301-33.0773172 0-18.2680978-5.62299-33.07731713-12.559301-33.07731713-6.93631 0-12.559301 14.80921933-12.559301 33.07731713 0 18.2680979 5.622991 33.0773172 12.559301 33.0773172z" transform="matrix(-1 0 0 1 272.628524 53.670762)"/>
</g>
<path d="m251.467006 173.099849c-20.230076-33.609969-56.889565-56.067908-98.755776-56.067908-40.720798 0-76.5158766 21.245901-97.0586959 53.334588m2.1981107 129.169534c20.8403036 30.232701 55.5559042 50.026591 94.8605852 50.026591 39.376099 0 74.146424-19.865887 94.974049-50.191495" mask="url(#a)" stroke="#0f1689" stroke-width="20"/>
</g>
<g transform="translate(11.958136)">
<g fill="#0f1689" mask="url(#b)">
<path d="m203.460676 95.6875425c6.93631 0 12.559301-14.8092194 12.559301-33.0773172s-5.622991-33.0773172-12.559301-33.0773172c-6.936311 0-12.559301 14.8092194-12.559301 33.0773172s5.62299 33.0773172 12.559301 33.0773172z" transform="matrix(.81915204 .57357644 -.57357644 .81915204 111.870091 -54.166016)"/>
<path d="m30.1423223 95.6875425c6.9363104 0 12.559301-14.8092194 12.559301-33.0773172s-5.6229906-33.0773172-12.559301-33.0773172-12.5593009 14.8092194-12.5593009 33.0773172 5.6229905 33.0773172 12.5593009 33.0773172z" transform="matrix(-.81915204 .57357644 .57357644 .81915204 58.084611 45.245308)"/>
<path d="m116.732815 66.2752676c6.936311 0 12.559301-14.8092193 12.559301-33.0773172 0-18.2680978-5.62299-33.07731713-12.559301-33.07731713-6.93631 0-12.559301 14.80921933-12.559301 33.07731713 0 18.2680979 5.622991 33.0773172 12.559301 33.0773172z" transform="matrix(-1 0 0 1 272.628524 51.211302)"/>
</g>
<path d="m251.467006 170.64039c-20.230076-33.609969-56.889565-56.067908-98.755776-56.067908-40.720798 0-76.5158766 21.2459-97.0586959 53.334587m2.1981107 129.169534c20.8403036 30.232702 55.5559042 50.026591 94.8605852 50.026591 39.376099 0 74.146424-19.865886 94.974049-50.191494" mask="url(#b)" stroke="#0f1689" stroke-width="20"/>
</g>
</g>
</svg>
      </a>
    </div>

    
    <div class="navbar-menu is-centered" id="navMenuDocumentation">
      
        
          <a href="/es/" class="navbar-item">
            Inicio
          </a>
        
      
        
          <a href="/es/docs" class="navbar-item">
            Docs
          </a>
        
      
        
          <a href="https://hub.helm.sh/" class
          ="navbar-item external" target="_blank">
            Charts <span class="icon"><i class="mdi mdi-open-in-new"></i></span>
          </a>
        
      
        
          <a href="https://helm.sh/blog" class
          ="navbar-item external" target="_blank">
            Blog <span class="icon"><i class="mdi mdi-open-in-new"></i></span>
          </a>
        
      
        
          <a href="https://github.com/helm/community" class
          ="navbar-item external" target="_blank">
            Comunidad <span class="icon"><i class="mdi mdi-open-in-new"></i></span>
          </a>
        
      
    </div>

    <div class="navbar-end is-hidden-mobile">
      <ul class="is-pulled-right">
        





  <li class="versioner l18ner navbar-item has-dropdown is-right is-hoverable">
    <a data-dropdown="drop1" aria-controls="drop1" aria-expanded="false" class="versioner-trigger navbar-link">
      Español <i class="fa fa-caret-down"></i>
    </a>

    <ul id="drop1" class="navbar-dropdown dropdown-menu f-dropdown" data-dropdown-content aria-hidden="true" tabindex="-1">
      
      
      
          
          
              
                
                
                    <li class="navbar-item"><a href="https://sma-rnd.github.io/docs/topics/charts_hooks/"><code>en</code> &nbsp; English</a></li>
                
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
      
          
          
              

            
              

            
              
                
                
                    <li class="navbar-item"><a href="https://sma-rnd.github.io/es/docs/topics/charts_hooks/" class="active"><code>es</code> &nbsp; Español</a></li>
                
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
      
          
          
              

            
              

            
              

            
              

            
              

            
              

            
              
                
                
                    <li class="navbar-item"><a href="https://sma-rnd.github.io/ko/docs/topics/charts_hooks/"><code>ko</code> &nbsp; 한국어</a></li>
                
              

            
              

            
              

            
              

            
      
          
          
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              
                
                
                    <li class="navbar-item"><a href="https://sma-rnd.github.io/zh/docs/topics/charts_hooks/"><code>zh</code> &nbsp; 中文</a></li>
                
              

            
      
      <li class="navbar-item l18n-prompt"><a href="https://github.com/helm/helm-www#internationalization--translation"><small>Traduzca esta pagina</small></a></li>
    </ul>
  </li>
  

        




  <li class="versioner navbar-item has-dropdown is-right is-hoverable">
    
    <a data-dropdown="drop1" aria-controls="drop1" aria-expanded="false" class="versioner-trigger navbar-link">
      v3.13.0 <i class="fa fa-caret-down"></i>
    </a>
    

    <ul id="drop1" class="navbar-dropdown dropdown-menu f-dropdown" data-dropdown-content aria-hidden="true" tabindex="-1">
      
      <li>
        <a href="https://helm.sh/docs" class="navbar-item">
          v3.13.0 <em>stable</em>
        </a>
      </li>
      
      <li>
        <a href="https://v2.helm.sh/docs" class="navbar-item">
          v2.17.0
        </a>
      </li>
      
    </ul>
  </li>

        <li>
          <a class="button not-fixed is-outlined" href="/es/docs/intro/quickstart">Empieza</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

  </header>

  <div class="columns" id="helm">
    <aside class="column is-narrow is-gapless sidebar-wrapper">
      

<input type="checkbox" class="hamburger-trigger" />
<small class="hamburger">
  <span></span>
  <span></span>
  <span></span>
</small>

<div class="sidebar">
  <div class="is-visible-mobile is-hidden-tablet" id="sidebar-toggle">Browse Docs <span class="icon"><i class="mdi mdi-arrow-down"></i></span></div>

  <div class="sidebar-content-wrapper">
    <div class="search-container">
      <input id="q" placeholder="Search..." autofocus>
      <span class="icon"><i class="mdi mdi-magnify"></i></span>
    </div>

    
    <nav class="sidebar-nav">

      <ul class="current sidebar-main">
        <li class="sidebar-nav-item toctree-l1">
          <a class="reference internal" href="/es/docs/" state="">
            <span class="ripple">
              Docs Inicio
            </span>
          </a>
        </li>

        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
              <li class="sidebar-nav-item toctree-l1">
  <a class="reference internal" href="/es/docs/intro/">
    <span class="ripple">
      Introducción
    </span>
  </a>

  
  <ul class="current">
    
    <li class="toctree-12">
      <a href="/es/docs/intro/quickstart/" title="Switch to Guía de inicio rápido">
        Guía de inicio rápido
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/es/docs/intro/install/" title="Switch to Instalar Helm">
        Instalar Helm
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/es/docs/intro/using_helm/" title="Switch to Uso de Helm">
        Uso de Helm
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/es/docs/intro/cheatsheet/" title="Switch to ">
        
      </a>
    </li>
    
  </ul>
  
</li>

            
          
            
              <li class="sidebar-nav-item toctree-l1">
  <a class="reference internal" href="/es/docs/howto/">
    <span class="ripple">
      Cómo Hacer
    </span>
  </a>

  
  <ul class="current">
    
    <li class="toctree-12">
      <a href="/es/docs/howto/charts_tips_and_tricks/" title="Switch to Consejos y Trucos para el Desarrollo de Charts">
        Consejos y Trucos para el Desarrollo de Charts
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/es/docs/howto/chart_repository_sync_example/" title="Switch to Sincronizar tu Repositorio de Charts">
        Sincronizar tu Repositorio de Charts
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/es/docs/howto/chart_releaser_action/" title="Switch to Chart Releaser Action para automatizar página GitHub de Charts">
        Chart Releaser Action para automatizar página GitHub de Charts
      </a>
    </li>
    
  </ul>
  
</li>

            
          
            
              <li class="sidebar-nav-item toctree-l1">
  <a class="reference internal" href="/es/docs/topics/">
    <span class="ripple">
      Temas
    </span>
  </a>

  
  <ul class="current">
    
    <li class="toctree-12">
      <a href="/es/docs/topics/charts/" title="Switch to Charts">
        Charts
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/es/docs/topics/charts_hooks/" title="Switch to Ganchos de Chart">
        Ganchos de Chart
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/es/docs/topics/chart_tests/" title="Switch to Pruebas de Chart">
        Pruebas de Chart
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/es/docs/topics/library_charts/" title="Switch to Charts de Bibliotecas">
        Charts de Bibliotecas
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/es/docs/topics/provenance/" title="Switch to Procedencia e Integridad de Helm">
        Procedencia e Integridad de Helm
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/es/docs/topics/architecture/" title="Switch to Arquitectura Helm">
        Arquitectura Helm
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/es/docs/topics/advanced/" title="Switch to Técnicas avanzadas de Helm">
        Técnicas avanzadas de Helm
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/es/docs/topics/kubernetes_distros/" title="Switch to Guía de distribución de Kubernetes">
        Guía de distribución de Kubernetes
      </a>
    </li>
    
  </ul>
  
</li>

            
          
        

      </ul>
    </nav>

    <aside class="sidebar-buttons is-hidden-mobile">
      <div class="button-wrap">
        <a href="https://github.com/helm/helm-www#contributing" class="button is-outline is-fullwidth">Contribute to Docs</a>
      </div>
    </aside>
  </div>
</div>
    </aside>
    
    <section class="column content-docs">
      <article class="content-wrapper">
        <h1>Ganchos de Chart</h1>
        
        <p>Helm proporciona un mecanismo de <em>gancho</em> (hook) que permite a los desarrolladores
de charts intervenir en determinados puntos del ciclo de vida de un release. Por
ejemplo, puede utilizar ganchos para:</p>
<ul>
<li>Cargue un ConfigMap o un Secret durante la instalación antes de que se carguen
otros charts.</li>
<li>Ejecute un trabajo para hacer una copia de seguridad de una base de datos antes
de instalar un nuevo chart y luego ejecute un segundo trabajo después de la
actualización para restaurar los datos.</li>
<li>Ejecute un trabajo antes de eliminar un release para retirar un servicio de
rotación antes de eliminarlo.</li>
</ul>
<p>Los ganchos funcionan como plantillas normales, pero tienen anotaciones especiales
que hacen que Helm los utilice de manera diferente. En esta sección, cubrimos el
patrón de uso básico de los ganchos.</p>
<h2 id="los-ganchos-disponibles">Los Ganchos Disponibles</h2>
<p>Se definen los siguientes ganchos:</p>
<table>
<thead>
<tr>
<th>Valor de Anotación</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>pre-install</code></td>
<td>Se ejecuta después de que se procesan las plantillas, pero antes de que se creen recursos en Kubernetes</td>
</tr>
<tr>
<td><code>post-install</code></td>
<td>Se ejecuta después de que todos los recursos se cargan en Kubernetes</td>
</tr>
<tr>
<td><code>pre-delete</code></td>
<td>Ejecuta en una solicitud de eliminación antes de que se eliminen los recursos de Kubernetes</td>
</tr>
<tr>
<td><code>post-delete</code></td>
<td>Se ejecuta en una solicitud de eliminación después de que se hayan eliminado todos los recursos del release</td>
</tr>
<tr>
<td><code>pre-upgrade</code></td>
<td>Se ejecuta en una solicitud de actualización después de que se procesan las plantillas, pero antes de que se actualicen los recursos</td>
</tr>
<tr>
<td><code>post-upgrade</code></td>
<td>Se ejecuta en una solicitud de actualización después de que se hayan actualizado todos los recursos.</td>
</tr>
<tr>
<td><code>pre-rollback</code></td>
<td>Se ejecuta en una solicitud de reversión después de renderizar las plantillas, pero antes de revertir los recursos</td>
</tr>
<tr>
<td><code>post-rollback</code></td>
<td>Se ejecuta en una solicitud de reversión después de que se hayan modificado todos los recursos.</td>
</tr>
<tr>
<td><code>test</code></td>
<td>Se ejecuta cuando se invoca el subcomando Helm test (
<a href="/docs/chart_tests/">ver documentos de prueba</a>)</td>
</tr>
</tbody>
</table>
<p><em>Note que el gancho <code>crd-install</code> se ha eliminado a favor del directorio <code>crds/</code>
en Helm 3.</em></p>
<h2 id="ganchos-y-el-ciclo-de-vida-del-release">Ganchos y el Ciclo de Vida del Release</h2>
<p>Los ganchos le brindan a usted, el desarrollador de charts, la oportunidad de
realizar operaciones en puntos estratégicos del ciclo de vida de un release. Por
ejemplo, considere el ciclo de vida de un <code>helm install</code>. De forma predeterminada,
el ciclo de vida se ve así:</p>
<ol>
<li>El usuario ejecuta <code>helm install foo</code></li>
<li>La API de instalación de la biblioteca Helm se llama</li>
<li>Después de cierta verificación, la biblioteca renderiza las plantillas de <code>foo</code></li>
<li>La biblioteca carga los recursos resultantes en Kubernetes.</li>
<li>La biblioteca devuelve el objeto de release (y otros datos) al cliente.</li>
<li>El cliente sale</li>
</ol>
<p>Helm define dos ganchos para el ciclo de vida de <code>install</code>: <code>pre-install</code> y
<code>post-install</code>. Si el desarrollador del chart <code>foo</code> implementa ambos ganchos, el
ciclo de vida se modifica así:</p>
<ol>
<li>El usuario ejecuta <code>helm install foo</code></li>
<li>La API de instalación de la biblioteca Helm se llama</li>
<li>Se instalan los CRD del directorio <code>crds/</code></li>
<li>Después de cierta verificación, la biblioteca renderiza las plantillas de <code>foo</code></li>
<li>La biblioteca se prepara para ejecutar los ganchos de <code>pre-install</code> (cargando
los recursos del gancho en Kubernetes)</li>
<li>La biblioteca ordena los ganchos por peso (asignando un peso de 0 de forma predeterminada),
por tipo de recurso y finalmente por nombre en orden ascendente.</li>
<li>Luego, la biblioteca carga primero el gancho con el peso más bajo (negativo a
positivo)</li>
<li>La biblioteca espera hasta que el enlace esté &quot;Listo&quot; (excepto para los CRD).</li>
<li>La biblioteca carga los recursos resultantes en Kubernetes. Tenga en cuenta
que si la bandera <code>--wait</code> está configurada, la biblioteca esperará hasta que
todos los recursos estén en un estado &quot;Listo&quot; y no ejecutará el gancho <code>post-install</code>
hasta que estén listos.</li>
<li>La biblioteca ejecuta el gancho <code>post-install</code> (cargando recursos del gancho)</li>
<li>La biblioteca espera hasta que el gancho esté &quot;Listo&quot;.</li>
<li>La biblioteca devuelve el objeto de release (y otros datos) al cliente.</li>
<li>El cliente sale</li>
</ol>
<p>¿Qué significa esperar hasta que un gancho esté listo? Esto depende del recurso
declarado en el gancho. Si el recurso es del tipo <code>Job</code> o <code>Pod</code>, Helm esperará
hasta que se complete correctamente. Y si el gancho falla, el release fallará.
Esta es una <em>operación de bloqueo</em>, por lo que el cliente de Helm se detendrá
mientras se ejecuta el Job.</p>
<p>Para todos los demás tipos, tan pronto como Kubernetes marca el recurso como
cargado (agregado o actualizado), el recurso se considera &quot;Listo&quot;. Cuando se
declaran muchos recursos en un gancho, los recursos se ejecutan en serie. Si
tienen pesos de gancho (ver más abajo), se ejecutan en orden ponderado. A partir
de Helm 3.2.0, los recursos de ganchos con el mismo peso se instalan en el mismo
orden que los recursos normales que no son de gancho. De lo contrario, el ordenamiento
no está garantizado. (En Helm 2.3.0 y posteriores, se ordenan alfabéticamente.
Sin embargo, ese comportamiento no se considera vinculante y podría cambiar en
el futuro). Se considera una buena práctica agregar un peso de gancho y establecerlo
en <code>0</code> si el peso no es importante.</p>
<h3 id="los-recursos-del-gancho-no-se-administran-con-los-releases-correspondientes">Los recursos del gancho no se administran con los releases correspondientes</h3>
<p>Los recursos que crea un gancho no se rastrean ni administran actualmente como parte
del release. Una vez que Helm verifica que el gancho ha alcanzado su estado listo,
dejará solo el recurso de gancho. La recolección de basura de los recursos del
gancho cuando se elimina el release correspondiente se puede agregar a Helm 3 en
el futuro, por lo que cualquier recurso del gancho que nunca deba eliminarse debe
anotarse con <code>helm.sh/resource-policy: keep</code>.</p>
<p>En términos prácticos, esto significa que si crea recursos en un gancho, no puede
confiar en <code>helm uninstall</code> para eliminar los recursos. Para destruir dichos
recursos, debe 
<a href="#pol%c3%adticas-de-eliminaci%c3%b3n-de-ganchos">agregar una anotación personalizada <code>helm.sh/hook-delete-policy</code></a>
al archivo de plantilla de gancho, o 
<a href="https://kubernetes.io/docs/concepts/workloads/controllers/ttlafterfinished/" target="_blank">establecer el campo de tiempo de vida (TTL)
de un recurso Job</a>.</p>
<h2 id="escribir-un-gancho">Escribir un Gancho</h2>
<p>Los enganches son solo archivos de manifiesto de Kubernetes con anotaciones
especiales en la sección <code>metadata</code>. Debido a que son archivos de plantilla,
puede utilizar todas las funciones normales de la plantilla, incluida la lectura
de <code>.Values</code>, <code>.Release</code> y <code>.Template</code>.</p>
<p>Por ejemplo, esta plantilla, almacenada en <code>templates/post-install-job.yaml</code>,
declara que un Job se ejecutará en <code>post-install</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#309;font-weight:bold">apiVersion</span>:<span style="color:#bbb"> </span>batch/v1<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">kind</span>:<span style="color:#bbb"> </span>Job<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">metadata</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">name</span>:<span style="color:#bbb"> </span><span style="color:#c30">&#34;{{ .Release.Name }}&#34;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">labels</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">app.kubernetes.io/managed-by</span>:<span style="color:#bbb"> </span>{{<span style="color:#bbb"> </span>.Release.Service | quote }}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">app.kubernetes.io/instance</span>:<span style="color:#bbb"> </span>{{<span style="color:#bbb"> </span>.Release.Name | quote }}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">app.kubernetes.io/version</span>:<span style="color:#bbb"> </span>{{<span style="color:#bbb"> </span>.Chart.AppVersion }}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">helm.sh/chart</span>:<span style="color:#bbb"> </span><span style="color:#c30">&#34;{{ .Chart.Name }}-{{ .Chart.Version }}&#34;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">annotations</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#09f;font-style:italic"># Esto es lo que define este recurso como un gancho. Sin esta línea, </span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#09f;font-style:italic"># el trabajo se considera parte del release.</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">&#34;helm.sh/hook&#34;: </span>post-install<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">&#34;helm.sh/hook-weight&#34;: </span><span style="color:#c30">&#34;-5&#34;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">&#34;helm.sh/hook-delete-policy&#34;: </span>hook-succeeded<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">spec</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">template</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">metadata</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#309;font-weight:bold">name</span>:<span style="color:#bbb"> </span><span style="color:#c30">&#34;{{ .Release.Name }}&#34;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#309;font-weight:bold">labels</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#309;font-weight:bold">app.kubernetes.io/managed-by</span>:<span style="color:#bbb"> </span>{{<span style="color:#bbb"> </span>.Release.Service | quote }}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#309;font-weight:bold">app.kubernetes.io/instance</span>:<span style="color:#bbb"> </span>{{<span style="color:#bbb"> </span>.Release.Name | quote }}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#309;font-weight:bold">helm.sh/chart</span>:<span style="color:#bbb"> </span><span style="color:#c30">&#34;{{ .Chart.Name }}-{{ .Chart.Version }}&#34;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">spec</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#309;font-weight:bold">restartPolicy</span>:<span style="color:#bbb"> </span>Never<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#309;font-weight:bold">containers</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span>- <span style="color:#309;font-weight:bold">name</span>:<span style="color:#bbb"> </span>post-install-job<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#309;font-weight:bold">image</span>:<span style="color:#bbb"> </span><span style="color:#c30">&#34;alpine:3.3&#34;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#309;font-weight:bold">command</span>:<span style="color:#bbb"> </span>[<span style="color:#c30">&#34;/bin/sleep&#34;</span>,<span style="color:#c30">&#34;{{ default &#34;</span><span style="color:#f60">10</span><span style="color:#c30">&#34; .Values.sleepyTime }}&#34;</span>]<span style="color:#bbb">
</span></span></span></code></pre></div><p>Lo que hace que esta plantilla sea un gancho es la anotación:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#309;font-weight:bold">annotations</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">&#34;helm.sh/hook&#34;: </span>post-install<span style="color:#bbb">
</span></span></span></code></pre></div><p>Un recurso puede implementar varios ganchos:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#309;font-weight:bold">annotations</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">&#34;helm.sh/hook&#34;: </span>post-install,post-upgrade<span style="color:#bbb">
</span></span></span></code></pre></div><p>De manera similar, no hay límite para la cantidad de recursos diferentes que
pueden implementar un gancho determinado. Por ejemplo, uno podría declarar tanto
un ConfigMap y un Secret como un gancho de pre-install.</p>
<p>Cuando los sub-charts declaran ganchos, también se evalúan. No hay forma de que
un chart de nivel superior deshabilite los ganchos declarados por los sub-charts.</p>
<p>Es posible definir un peso para un gancho que ayudará a construir un orden de
ejecución determinista. Los pesos se definen mediante la siguiente anotación:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#309;font-weight:bold">annotations</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">&#34;helm.sh/hook-weight&#34;: </span><span style="color:#c30">&#34;5&#34;</span><span style="color:#bbb">
</span></span></span></code></pre></div><p>Los pesos de los ganchos pueden ser números positivos o negativos, pero deben
representarse como cadenas. Cuando Helm inicia el ciclo de ejecución de ganchos
de un tipo particular, los ordenará en orden ascendente.</p>
<h3 id="políticas-de-eliminación-de-ganchos">Políticas de eliminación de ganchos</h3>
<p>Es posible definir políticas que determinen cuándo eliminar los recursos de
gancho correspondientes. Las políticas de eliminación de ganchos se definen
mediante la siguiente anotación:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#309;font-weight:bold">annotations</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">&#34;helm.sh/hook-delete-policy&#34;: </span>before-hook-creation,hook-succeeded<span style="color:#bbb">
</span></span></span></code></pre></div><p>Puede elegir uno o más valores de anotación definidos:</p>
<table>
<thead>
<tr>
<th>Valor de Anotación</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>before-hook-creation</code></td>
<td>Elimina el recurso anterior antes de que se lance un nuevo gancho (predeterminado)</td>
</tr>
<tr>
<td><code>hook-succeeded</code></td>
<td>Eliminar el recurso después de que el gancho se ejecute correctamente</td>
</tr>
<tr>
<td><code>hook-failed</code></td>
<td>Eliminar el recurso si el gancho falló durante la ejecución</td>
</tr>
</tbody>
</table>
<p>Si no se especifica ninguna anotación de política de eliminación de ganchos, el
comportamiento <code>before-hook-creation</code> se aplica de forma predeterminada.</p>


        <nav class="level prev-next">
          <div class="level-left level-item">
            
            <a class="" href="https://sma-rnd.github.io/es/docs/topics/charts/" title="Ganchos de Chart">
              <small class="heading">Prev</small>
              <p class="title">← Charts</p>
            </a>
            
          </div>
          
          <div class="level-right level-item has-text-right">
            
            <a class="" href="https://sma-rnd.github.io/es/docs/topics/chart_tests/" title="Ganchos de Chart">
              <small class="heading">Next</small>
              <p class="title">Pruebas de Chart →</p>
            </a>
            
          </div>
        </nav>
      </article>
    </section>
  </div>
</div>



<section class="container footer-links">
  <div class="columns clearfix">
    <dl class="column">
      <dt><a href="https://github.com/helm/helm">Helm Project</a></dt>
      <dd><a href="/blog">Blog</a></dd>
      <dd><a href="https://www.cncf.io/community/kubecon-cloudnativecon-events/">Events</a></dd>
      <dd><a href="/docs/intro/quickstart/">Quick Start Guide</a></dd>
      <dd><a href="https://github.com/cncf/foundation/blob/master/code-of-conduct.md">Code of Conduct</a></dd>
    </dl>

    <dl class="column">
      <dt><a href="https://hub.helm.sh">Charts</a></dt>
      <dd><a href="/docs/topics/charts/">Introduction</a></dd>
      <dd><a href="/docs/howto/charts_tips_and_tricks/">Chart tips &amp; tricks</a></dd>
      <dd><a href="/docs/chart_template_guide/">Developing Charts</a></dd>
      <dd><a href="https://hub.helm.sh">Search 800+ Charts</a> <i class="fa fa-external"></i></dd>
    </dl>

    <dl class="column">
      <dt><a href="https://github.com/helm/community/blob/main/communication.md">Development</a></dt>
      <dd><a href="https://kubernetes.slack.com/messages/C51E88VDG">#helm-dev</a> <em>(slack)</em></dd>
      <dd><a href="https://github.com/helm/helm/blob/main/CONTRIBUTING.md">Contribution Guide</a></dd>
      <dd><a href="https://github.com/helm/helm/blob/main/OWNERS">Maintainers</a></dd>
      <dd><a href="https://github.com/helm/community/blob/main/communication.md#meetings">Weekly Meetings</a></dd>
    </dl>

    <dl class="column">
      <dt><a href="https://github.com/helm/community">Community</a></dt>
      <dd><a href="https://kubernetes.slack.com/messages/C0NH30761" title="#helm-users on Slack">#helm-users</a> <em>(slack)</em></dd>
      <dd><a href="https://lists.cncf.io/g/cncf-helm/topics">Mailing List</a></dd>
      <dd><a href="https://github.com/cncf/artwork/tree/master/projects/helm">Logos</a> &amp; <a href="https://github.com/helm/community/tree/main/art">Art</a></dd>
      <dd><a href="https://twitter.com/helmpack">Twitter</a></dd>
    </dl>
  </div>

  <div class="columns has-text-left cncf-wrap">
    <div class="column is-two-thirds">
      <a href="https://www.cncf.io/" title="Cloud Native Computing Foundation" target="_blank">
        <p class="lead">Somos un proyecto graduado de Cloud Native Computing Foundation.</p>
      </a>
    </div>

    <div class="column is-one-third has-text-right">
      <a href="https://www.cncf.io/" title="Cloud Native Computing Foundation" target="_blank">
        <img src="/img/cncf-white.svg" alt="We are a Cloud Native Computing Foundation project" class="">
      </a>
    </div>
  </div>

  <hr />

  <div class="copyright">
    <p>
      &copy; Helm Authors 2024 | Documentation distributed under <a href="https://creativecommons.org/licenses/by/4.0">CC-BY-4.0</a>
    </p>

    <p>
      &copy; 2024 The Linux Foundation. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href="https://www.linuxfoundation.org/trademark-usage/">Trademark Usage</a> page.
    </p>
  </div>
</section>



    
    

    











































<script src="/js/jquery.min.91911616059b1420d1a7e93cdb684177d9a8bcef473731743e5f72a796662698.js" integrity="sha256-kZEWFgWbFCDRp&#43;k822hBd9movO9HNzF0Pl9yp5ZmJpg="></script>




<script src="/js/bundle.min.019ebc0ad20ee895d8c4abd8ac9285f0dff63d29231c6ace4e5d022ea590e038.js" integrity="sha256-AZ68CtIO6JXYxKvYrJKF8N/2PSkjHGrOTl0CLqWQ4Dg="></script>



<script async src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js" onload="docsearch({
  apiKey: '8bca76b0664b04581dc9f9854e844a90',
  indexName: 'helm',
  inputSelector: '#q',
  debug: false // Set debug to true if you want to inspect the dropdown
  })"></script>


    
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42867143-2', 'auto');
  ga('send', 'pageview');
</script>

  </body>
</html>
