



<!DOCTYPE html>
<html lang="en">
  <head>
    <title>
      
Helm | Deprecated Kubernetes APIs

    </title>

    







<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width,initial-scale=1.0">


<meta name="description" content="Explains deprecated Kubernetes APIs in Helm">


<meta property="og:title" content="Deprecated Kubernetes APIs">
<meta property="og:title" content="Deprecated Kubernetes APIs">
<meta property="og:url" content="https://zou-zongming.github.houston.softwaregrp.net/docs/topics/kubernetes_apis/">
<meta property="og:description" content="Explains deprecated Kubernetes APIs in Helm" />

<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://zou-zongming.github.houston.softwaregrp.net/img/og-image.png">
<meta name="twitter:title" content="Helm | Deprecated Kubernetes APIs">
<meta name="twitter:description" content="Explains deprecated Kubernetes APIs in Helm">

<meta name="google-site-verification" content="dCa3wS47cErhx0IpaxbB85NfcOP-vFxevknVk6fzf5I">

<link rel="icon" href="https://zou-zongming.github.houston.softwaregrp.net/img/favicon-152.png" type="image/x-icon">
<link rel="apple-touch-icon-precomposed" href="/img/apple-touch-icon-precomposed.png">














<link rel="stylesheet" href="/css/style.bb9a3f16cd8b057bc29c79565ae0d4a0d40d2088a9939d614209a479d640b7bb.css" integrity="sha256-u5o/Fs2LBXvCnHlWWuDUoNQNIIipk51hQgmkedZAt7s=">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />





  </head>

  
    <body id="landing" class="en"></body>
  
    

<div id="helm" class="page-docs page-wrapper page-docs-list">
  <header>
    
    



<nav class="navbar navbar-top" role="navigation" aria-label="main navigation">
  <div class="container is-fluid is-vcentered">
    <div class="navbar-brand">
      <a href="/">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 304 351"><title>Helm</title>
<mask id="a" fill="#fff">
<path d="m0 0h313.303155v159.864865h-313.303155z" fill="#fff" fill-rule="evenodd"/>
</mask>
<mask id="b" fill="#fff">
<path d="m0 0h313.303155v159.864865h-313.303155z" fill="#fff" fill-rule="evenodd"/>
</mask>
<g fill="none" fill-rule="evenodd" transform="translate(-11 -51)">
<path d="m11.6785714 189h19.7858357v26.789h23.9037v-26.789h19.7858358v75.25h-19.7858358v-28.695333h-23.9037v28.695333h-19.7858357zm86.1738429 75.25v-75.25h46.8030427v16.354333h-27.017207v12.240667h23.9037v16.655333h-23.9037v13.846h27.017207v16.153667zm68.4971567 0v-75.25h19.785836v55.384h27.117643v19.866zm77.536372-75.25 30.733328 27.892667 30.632893-27.892667h8.938779v75.25h-19.886272v-38.628333l-19.6854 17.959666-19.785835-17.859333v38.528h-19.886272v-75.25z" fill="#0f1689"/>
<g transform="matrix(1 0 0 -1 11.958136 455)">
<g fill="#0f1689" mask="url(#a)">
<path d="m203.460676 95.6875425c6.93631 0 12.559301-14.8092194 12.559301-33.0773172s-5.622991-33.0773172-12.559301-33.0773172c-6.936311 0-12.559301 14.8092194-12.559301 33.0773172s5.62299 33.0773172 12.559301 33.0773172z" transform="matrix(.81915204 .57357644 -.57357644 .81915204 111.870091 -51.706556)"/>
<path d="m30.1423223 95.6875425c6.9363104 0 12.559301-14.8092194 12.559301-33.0773172s-5.6229906-33.0773172-12.559301-33.0773172-12.5593009 14.8092194-12.5593009 33.0773172 5.6229905 33.0773172 12.5593009 33.0773172z" transform="matrix(-.81915204 .57357644 .57357644 .81915204 58.084611 47.704768)"/>
<path d="m116.732815 66.2752676c6.936311 0 12.559301-14.8092193 12.559301-33.0773172 0-18.2680978-5.62299-33.07731713-12.559301-33.07731713-6.93631 0-12.559301 14.80921933-12.559301 33.07731713 0 18.2680979 5.622991 33.0773172 12.559301 33.0773172z" transform="matrix(-1 0 0 1 272.628524 53.670762)"/>
</g>
<path d="m251.467006 173.099849c-20.230076-33.609969-56.889565-56.067908-98.755776-56.067908-40.720798 0-76.5158766 21.245901-97.0586959 53.334588m2.1981107 129.169534c20.8403036 30.232701 55.5559042 50.026591 94.8605852 50.026591 39.376099 0 74.146424-19.865887 94.974049-50.191495" mask="url(#a)" stroke="#0f1689" stroke-width="20"/>
</g>
<g transform="translate(11.958136)">
<g fill="#0f1689" mask="url(#b)">
<path d="m203.460676 95.6875425c6.93631 0 12.559301-14.8092194 12.559301-33.0773172s-5.622991-33.0773172-12.559301-33.0773172c-6.936311 0-12.559301 14.8092194-12.559301 33.0773172s5.62299 33.0773172 12.559301 33.0773172z" transform="matrix(.81915204 .57357644 -.57357644 .81915204 111.870091 -54.166016)"/>
<path d="m30.1423223 95.6875425c6.9363104 0 12.559301-14.8092194 12.559301-33.0773172s-5.6229906-33.0773172-12.559301-33.0773172-12.5593009 14.8092194-12.5593009 33.0773172 5.6229905 33.0773172 12.5593009 33.0773172z" transform="matrix(-.81915204 .57357644 .57357644 .81915204 58.084611 45.245308)"/>
<path d="m116.732815 66.2752676c6.936311 0 12.559301-14.8092193 12.559301-33.0773172 0-18.2680978-5.62299-33.07731713-12.559301-33.07731713-6.93631 0-12.559301 14.80921933-12.559301 33.07731713 0 18.2680979 5.622991 33.0773172 12.559301 33.0773172z" transform="matrix(-1 0 0 1 272.628524 51.211302)"/>
</g>
<path d="m251.467006 170.64039c-20.230076-33.609969-56.889565-56.067908-98.755776-56.067908-40.720798 0-76.5158766 21.2459-97.0586959 53.334587m2.1981107 129.169534c20.8403036 30.232702 55.5559042 50.026591 94.8605852 50.026591 39.376099 0 74.146424-19.865886 94.974049-50.191494" mask="url(#b)" stroke="#0f1689" stroke-width="20"/>
</g>
</g>
</svg>
      </a>
    </div>

    
    <div class="navbar-menu is-centered" id="navMenuDocumentation">
      
        
          <a href="/" class="navbar-item">
            Home
          </a>
        
      
        
          <a href="/docs" class="navbar-item">
            Docs
          </a>
        
      
        
          <a href="https://hub.helm.sh/" class="navbar-item external" target="_blank">
            Charts <span class="icon"><i class="mdi mdi-open-in-new"></i></span>
          </a>
        
      
        
          <a href="/blog" class="navbar-item">
            Blog
          </a>
        
      
        
          <a href="https://github.com/helm/community" class="navbar-item external" target="_blank">
            Community <span class="icon"><i class="mdi mdi-open-in-new"></i></span>
          </a>
        
      
    </div>

    <div class="navbar-end is-hidden-mobile">
      <ul class="is-pulled-right">
        





  <li class="versioner l18ner navbar-item has-dropdown is-right is-hoverable">
    <a data-dropdown="drop1" aria-controls="drop1" aria-expanded="false" class="versioner-trigger navbar-link">
      English <i class="fa fa-caret-down"></i>
    </a>

    <ul id="drop1" class="navbar-dropdown dropdown-menu f-dropdown" data-dropdown-content aria-hidden="true" tabindex="-1">
      
      
      
          
          
              
                
                
                    <li class="navbar-item"><a href="https://zou-zongming.github.houston.softwaregrp.net/docs/topics/kubernetes_apis/" class="active"><code>en</code> &nbsp; English</a></li>
                
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
      
          
          
              

            
              

            
              

            
              

            
              

            
              

            
              
                
                
                    <li class="navbar-item"><a href="https://zou-zongming.github.houston.softwaregrp.net/ko/docs/topics/kubernetes_apis/"><code>ko</code> &nbsp; 한국어</a></li>
                
              

            
              

            
              

            
              

            
      
          
          
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              
                
                
                    <li class="navbar-item"><a href="https://zou-zongming.github.houston.softwaregrp.net/zh/docs/topics/kubernetes_apis/"><code>zh</code> &nbsp; 中文</a></li>
                
              

            
      
      <li class="navbar-item l18n-prompt"><a href="https://github.com/helm/helm-www#internationalization--translation"><small>Translate this page</small></a></li>
    </ul>
  </li>
  

        




  <li class="versioner navbar-item has-dropdown is-right is-hoverable">
    
    <a data-dropdown="drop1" aria-controls="drop1" aria-expanded="false" class="versioner-trigger navbar-link">
      v3.13.0 <i class="fa fa-caret-down"></i>
    </a>
    

    <ul id="drop1" class="navbar-dropdown dropdown-menu f-dropdown" data-dropdown-content aria-hidden="true" tabindex="-1">
      
      <li>
        <a href="https://helm.sh/docs" class="navbar-item">
          v3.13.0 <em>stable</em>
        </a>
      </li>
      
      <li>
        <a href="https://v2.helm.sh/docs" class="navbar-item">
          v2.17.0
        </a>
      </li>
      
    </ul>
  </li>

        <li class="">
          <a class="button not-fixed is-outlined" href="/docs/intro/quickstart">Get Started</a>
        </li>
      </ul>
    </div>

    
    <div class="navbar-end is-hidden-tablet">
      <div id="navbarBurger" class="navbar-burger burger" data-target="navMenuDocumentation">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </div>
</nav>

    



<nav class="navbar navbar-top navbar-top-fixed" role="navigation" aria-label="main navigation">
  <div class="container is-fluid">
    
    <div class="navbar-brand">
      <a href="/">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 304 351"><title>Helm</title>
<mask id="a" fill="#fff">
<path d="m0 0h313.303155v159.864865h-313.303155z" fill="#fff" fill-rule="evenodd"/>
</mask>
<mask id="b" fill="#fff">
<path d="m0 0h313.303155v159.864865h-313.303155z" fill="#fff" fill-rule="evenodd"/>
</mask>
<g fill="none" fill-rule="evenodd" transform="translate(-11 -51)">
<path d="m11.6785714 189h19.7858357v26.789h23.9037v-26.789h19.7858358v75.25h-19.7858358v-28.695333h-23.9037v28.695333h-19.7858357zm86.1738429 75.25v-75.25h46.8030427v16.354333h-27.017207v12.240667h23.9037v16.655333h-23.9037v13.846h27.017207v16.153667zm68.4971567 0v-75.25h19.785836v55.384h27.117643v19.866zm77.536372-75.25 30.733328 27.892667 30.632893-27.892667h8.938779v75.25h-19.886272v-38.628333l-19.6854 17.959666-19.785835-17.859333v38.528h-19.886272v-75.25z" fill="#0f1689"/>
<g transform="matrix(1 0 0 -1 11.958136 455)">
<g fill="#0f1689" mask="url(#a)">
<path d="m203.460676 95.6875425c6.93631 0 12.559301-14.8092194 12.559301-33.0773172s-5.622991-33.0773172-12.559301-33.0773172c-6.936311 0-12.559301 14.8092194-12.559301 33.0773172s5.62299 33.0773172 12.559301 33.0773172z" transform="matrix(.81915204 .57357644 -.57357644 .81915204 111.870091 -51.706556)"/>
<path d="m30.1423223 95.6875425c6.9363104 0 12.559301-14.8092194 12.559301-33.0773172s-5.6229906-33.0773172-12.559301-33.0773172-12.5593009 14.8092194-12.5593009 33.0773172 5.6229905 33.0773172 12.5593009 33.0773172z" transform="matrix(-.81915204 .57357644 .57357644 .81915204 58.084611 47.704768)"/>
<path d="m116.732815 66.2752676c6.936311 0 12.559301-14.8092193 12.559301-33.0773172 0-18.2680978-5.62299-33.07731713-12.559301-33.07731713-6.93631 0-12.559301 14.80921933-12.559301 33.07731713 0 18.2680979 5.622991 33.0773172 12.559301 33.0773172z" transform="matrix(-1 0 0 1 272.628524 53.670762)"/>
</g>
<path d="m251.467006 173.099849c-20.230076-33.609969-56.889565-56.067908-98.755776-56.067908-40.720798 0-76.5158766 21.245901-97.0586959 53.334588m2.1981107 129.169534c20.8403036 30.232701 55.5559042 50.026591 94.8605852 50.026591 39.376099 0 74.146424-19.865887 94.974049-50.191495" mask="url(#a)" stroke="#0f1689" stroke-width="20"/>
</g>
<g transform="translate(11.958136)">
<g fill="#0f1689" mask="url(#b)">
<path d="m203.460676 95.6875425c6.93631 0 12.559301-14.8092194 12.559301-33.0773172s-5.622991-33.0773172-12.559301-33.0773172c-6.936311 0-12.559301 14.8092194-12.559301 33.0773172s5.62299 33.0773172 12.559301 33.0773172z" transform="matrix(.81915204 .57357644 -.57357644 .81915204 111.870091 -54.166016)"/>
<path d="m30.1423223 95.6875425c6.9363104 0 12.559301-14.8092194 12.559301-33.0773172s-5.6229906-33.0773172-12.559301-33.0773172-12.5593009 14.8092194-12.5593009 33.0773172 5.6229905 33.0773172 12.5593009 33.0773172z" transform="matrix(-.81915204 .57357644 .57357644 .81915204 58.084611 45.245308)"/>
<path d="m116.732815 66.2752676c6.936311 0 12.559301-14.8092193 12.559301-33.0773172 0-18.2680978-5.62299-33.07731713-12.559301-33.07731713-6.93631 0-12.559301 14.80921933-12.559301 33.07731713 0 18.2680979 5.622991 33.0773172 12.559301 33.0773172z" transform="matrix(-1 0 0 1 272.628524 51.211302)"/>
</g>
<path d="m251.467006 170.64039c-20.230076-33.609969-56.889565-56.067908-98.755776-56.067908-40.720798 0-76.5158766 21.2459-97.0586959 53.334587m2.1981107 129.169534c20.8403036 30.232702 55.5559042 50.026591 94.8605852 50.026591 39.376099 0 74.146424-19.865886 94.974049-50.191494" mask="url(#b)" stroke="#0f1689" stroke-width="20"/>
</g>
</g>
</svg>
      </a>
    </div>

    
    <div class="navbar-menu is-centered" id="navMenuDocumentation">
      
        
          <a href="/" class="navbar-item">
            Home
          </a>
        
      
        
          <a href="/docs" class="navbar-item">
            Docs
          </a>
        
      
        
          <a href="https://hub.helm.sh/" class
          ="navbar-item external" target="_blank">
            Charts <span class="icon"><i class="mdi mdi-open-in-new"></i></span>
          </a>
        
      
        
          <a href="/blog" class="navbar-item">
            Blog
          </a>
        
      
        
          <a href="https://github.com/helm/community" class
          ="navbar-item external" target="_blank">
            Community <span class="icon"><i class="mdi mdi-open-in-new"></i></span>
          </a>
        
      
    </div>

    <div class="navbar-end is-hidden-mobile">
      <ul class="is-pulled-right">
        





  <li class="versioner l18ner navbar-item has-dropdown is-right is-hoverable">
    <a data-dropdown="drop1" aria-controls="drop1" aria-expanded="false" class="versioner-trigger navbar-link">
      English <i class="fa fa-caret-down"></i>
    </a>

    <ul id="drop1" class="navbar-dropdown dropdown-menu f-dropdown" data-dropdown-content aria-hidden="true" tabindex="-1">
      
      
      
          
          
              
                
                
                    <li class="navbar-item"><a href="https://zou-zongming.github.houston.softwaregrp.net/docs/topics/kubernetes_apis/" class="active"><code>en</code> &nbsp; English</a></li>
                
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
      
          
          
              

            
              

            
              

            
              

            
              

            
              

            
              
                
                
                    <li class="navbar-item"><a href="https://zou-zongming.github.houston.softwaregrp.net/ko/docs/topics/kubernetes_apis/"><code>ko</code> &nbsp; 한국어</a></li>
                
              

            
              

            
              

            
              

            
      
          
          
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              
                
                
                    <li class="navbar-item"><a href="https://zou-zongming.github.houston.softwaregrp.net/zh/docs/topics/kubernetes_apis/"><code>zh</code> &nbsp; 中文</a></li>
                
              

            
      
      <li class="navbar-item l18n-prompt"><a href="https://github.com/helm/helm-www#internationalization--translation"><small>Translate this page</small></a></li>
    </ul>
  </li>
  

        




  <li class="versioner navbar-item has-dropdown is-right is-hoverable">
    
    <a data-dropdown="drop1" aria-controls="drop1" aria-expanded="false" class="versioner-trigger navbar-link">
      v3.13.0 <i class="fa fa-caret-down"></i>
    </a>
    

    <ul id="drop1" class="navbar-dropdown dropdown-menu f-dropdown" data-dropdown-content aria-hidden="true" tabindex="-1">
      
      <li>
        <a href="https://helm.sh/docs" class="navbar-item">
          v3.13.0 <em>stable</em>
        </a>
      </li>
      
      <li>
        <a href="https://v2.helm.sh/docs" class="navbar-item">
          v2.17.0
        </a>
      </li>
      
    </ul>
  </li>

        <li>
          <a class="button not-fixed is-outlined" href="/docs/intro/quickstart">Get Started</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

  </header>

  <div class="columns" id="helm">
    <aside class="column is-narrow is-gapless sidebar-wrapper">
      

<input type="checkbox" class="hamburger-trigger" />
<small class="hamburger">
  <span></span>
  <span></span>
  <span></span>
</small>

<div class="sidebar">
  <div class="is-visible-mobile is-hidden-tablet" id="sidebar-toggle">Browse Docs <span class="icon"><i class="mdi mdi-arrow-down"></i></span></div>

  <div class="sidebar-content-wrapper">
    <div class="search-container">
      <input id="q" placeholder="Search..." autofocus>
      <span class="icon"><i class="mdi mdi-magnify"></i></span>
    </div>

    
    <nav class="sidebar-nav">

      <ul class="current sidebar-main">
        <li class="sidebar-nav-item toctree-l1">
          <a class="reference internal" href="/docs/" state="">
            <span class="ripple">
              Docs Home
            </span>
          </a>
        </li>

        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
              <li class="sidebar-nav-item toctree-l1">
  <a class="reference internal" href="/docs/intro/">
    <span class="ripple">
      Introduction
    </span>
  </a>

  
  <ul class="current">
    
    <li class="toctree-12">
      <a href="/docs/intro/quickstart/" title="Switch to Quickstart Guide">
        Quickstart Guide
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/intro/install/" title="Switch to Installing Helm">
        Installing Helm
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/intro/using_helm/" title="Switch to Using Helm">
        Using Helm
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/intro/cheatsheet/" title="Switch to Cheat Sheet">
        Cheat Sheet
      </a>
    </li>
    
  </ul>
  
</li>

            
          
            
              <li class="sidebar-nav-item toctree-l1">
  <a class="reference internal" href="/docs/howto/">
    <span class="ripple">
      How-to
    </span>
  </a>

  
  <ul class="current">
    
    <li class="toctree-12">
      <a href="/docs/howto/charts_tips_and_tricks/" title="Switch to Chart Development Tips and Tricks">
        Chart Development Tips and Tricks
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/howto/chart_repository_sync_example/" title="Switch to Syncing Your Chart Repository">
        Syncing Your Chart Repository
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/howto/chart_releaser_action/" title="Switch to Chart Releaser Action to Automate GitHub Page Charts">
        Chart Releaser Action to Automate GitHub Page Charts
      </a>
    </li>
    
  </ul>
  
</li>

            
          
            
              <li class="sidebar-nav-item toctree-l1">
  <a class="reference internal" href="/docs/topics/">
    <span class="ripple">
      Topics
    </span>
  </a>

  
  <ul class="current">
    
    <li class="toctree-12">
      <a href="/docs/topics/charts/" title="Switch to Charts">
        Charts
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/topics/charts_hooks/" title="Switch to Chart Hooks">
        Chart Hooks
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/topics/chart_tests/" title="Switch to Chart Tests">
        Chart Tests
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/topics/library_charts/" title="Switch to Library Charts">
        Library Charts
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/topics/provenance/" title="Switch to Helm Provenance and Integrity">
        Helm Provenance and Integrity
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/topics/chart_repository/" title="Switch to The Chart Repository Guide">
        The Chart Repository Guide
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/topics/registries/" title="Switch to Use OCI-based registries">
        Use OCI-based registries
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/topics/architecture/" title="Switch to Helm Architecture">
        Helm Architecture
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/topics/advanced/" title="Switch to Advanced Helm Techniques">
        Advanced Helm Techniques
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/topics/kubernetes_distros/" title="Switch to Kubernetes Distribution Guide">
        Kubernetes Distribution Guide
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/topics/rbac/" title="Switch to Role-based Access Control">
        Role-based Access Control
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/topics/plugins/" title="Switch to The Helm Plugins Guide">
        The Helm Plugins Guide
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/topics/v2_v3_migration/" title="Switch to Migrating Helm v2 to v3">
        Migrating Helm v2 to v3
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/topics/kubernetes_apis/" title="Switch to Deprecated Kubernetes APIs">
        Deprecated Kubernetes APIs
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/topics/version_skew/" title="Switch to Helm Version Support Policy">
        Helm Version Support Policy
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/topics/permissions_sql_storage_backend/" title="Switch to Permissions management for SQL storage backend">
        Permissions management for SQL storage backend
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/topics/release_policy/" title="Switch to Release schedule policy">
        Release schedule policy
      </a>
    </li>
    
  </ul>
  
</li>

            
          
            
              <li class="sidebar-nav-item toctree-l1">
  <a class="reference internal" href="/docs/chart_best_practices/">
    <span class="ripple">
      Best Practices
    </span>
  </a>

  
  <ul class="current">
    
    <li class="toctree-12">
      <a href="/docs/chart_best_practices/conventions/" title="Switch to General Conventions">
        General Conventions
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/chart_best_practices/values/" title="Switch to Values">
        Values
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/chart_best_practices/templates/" title="Switch to Templates">
        Templates
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/chart_best_practices/dependencies/" title="Switch to Dependencies">
        Dependencies
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/chart_best_practices/labels/" title="Switch to Labels and Annotations">
        Labels and Annotations
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/chart_best_practices/pods/" title="Switch to Pods and PodTemplates">
        Pods and PodTemplates
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/chart_best_practices/custom_resource_definitions/" title="Switch to Custom Resource Definitions">
        Custom Resource Definitions
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/chart_best_practices/rbac/" title="Switch to Role-Based Access Control">
        Role-Based Access Control
      </a>
    </li>
    
  </ul>
  
</li>

            
          
            
              <li class="sidebar-nav-item toctree-l1">
  <a class="reference internal" href="/docs/chart_template_guide/">
    <span class="ripple">
      Chart Template Guide
    </span>
  </a>

  
  <ul class="current">
    
    <li class="toctree-12">
      <a href="/docs/chart_template_guide/getting_started/" title="Switch to Getting Started">
        Getting Started
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/chart_template_guide/builtin_objects/" title="Switch to Built-in Objects">
        Built-in Objects
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/chart_template_guide/values_files/" title="Switch to Values Files">
        Values Files
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/chart_template_guide/functions_and_pipelines/" title="Switch to Template Functions and Pipelines">
        Template Functions and Pipelines
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/chart_template_guide/function_list/" title="Switch to Template Function List">
        Template Function List
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/chart_template_guide/control_structures/" title="Switch to Flow Control">
        Flow Control
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/chart_template_guide/variables/" title="Switch to Variables">
        Variables
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/chart_template_guide/named_templates/" title="Switch to Named Templates">
        Named Templates
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/chart_template_guide/accessing_files/" title="Switch to Accessing Files Inside Templates">
        Accessing Files Inside Templates
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/chart_template_guide/notes_files/" title="Switch to Creating a NOTES.txt File">
        Creating a NOTES.txt File
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/chart_template_guide/subcharts_and_globals/" title="Switch to Subcharts and Global Values">
        Subcharts and Global Values
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/chart_template_guide/helm_ignore_file/" title="Switch to The .helmignore file">
        The .helmignore file
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/chart_template_guide/debugging/" title="Switch to Debugging Templates">
        Debugging Templates
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/chart_template_guide/wrapping_up/" title="Switch to Next Steps">
        Next Steps
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/chart_template_guide/yaml_techniques/" title="Switch to Appendix: YAML Techniques">
        Appendix: YAML Techniques
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/chart_template_guide/data_types/" title="Switch to Appendix: Go Data Types and Templates">
        Appendix: Go Data Types and Templates
      </a>
    </li>
    
  </ul>
  
</li>

            
          
            
              <li class="sidebar-nav-item toctree-l1">
  <a class="reference internal" href="/docs/helm/">
    <span class="ripple">
      Helm Commands
    </span>
  </a>

  
  <ul class="current">
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_delete/" title="Switch to ">
        
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_init/" title="Switch to ">
        
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_inspect/" title="Switch to ">
        
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm/" title="Switch to Helm">
        Helm
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_completion/" title="Switch to Helm Completion">
        Helm Completion
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_completion_bash/" title="Switch to Helm Completion Bash">
        Helm Completion Bash
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_completion_fish/" title="Switch to Helm Completion Fish">
        Helm Completion Fish
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_completion_powershell/" title="Switch to Helm Completion Powershell">
        Helm Completion Powershell
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_completion_zsh/" title="Switch to Helm Completion Zsh">
        Helm Completion Zsh
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_create/" title="Switch to Helm Create">
        Helm Create
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_dependency/" title="Switch to Helm Dependency">
        Helm Dependency
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_dependency_build/" title="Switch to Helm Dependency Build">
        Helm Dependency Build
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_dependency_list/" title="Switch to Helm Dependency List">
        Helm Dependency List
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_dependency_update/" title="Switch to Helm Dependency Update">
        Helm Dependency Update
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_env/" title="Switch to Helm Env">
        Helm Env
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_get/" title="Switch to Helm Get">
        Helm Get
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_get_all/" title="Switch to Helm Get All">
        Helm Get All
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_get_hooks/" title="Switch to Helm Get Hooks">
        Helm Get Hooks
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_get_manifest/" title="Switch to Helm Get Manifest">
        Helm Get Manifest
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_get_metadata/" title="Switch to Helm Get Metadata">
        Helm Get Metadata
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_get_notes/" title="Switch to Helm Get Notes">
        Helm Get Notes
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_get_values/" title="Switch to Helm Get Values">
        Helm Get Values
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_history/" title="Switch to Helm History">
        Helm History
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_install/" title="Switch to Helm Install">
        Helm Install
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_lint/" title="Switch to Helm Lint">
        Helm Lint
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_list/" title="Switch to Helm List">
        Helm List
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_package/" title="Switch to Helm Package">
        Helm Package
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_plugin/" title="Switch to Helm Plugin">
        Helm Plugin
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_plugin_install/" title="Switch to Helm Plugin Install">
        Helm Plugin Install
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_plugin_list/" title="Switch to Helm Plugin List">
        Helm Plugin List
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_plugin_uninstall/" title="Switch to Helm Plugin Uninstall">
        Helm Plugin Uninstall
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_plugin_update/" title="Switch to Helm Plugin Update">
        Helm Plugin Update
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_pull/" title="Switch to Helm Pull">
        Helm Pull
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_push/" title="Switch to Helm Push">
        Helm Push
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_registry/" title="Switch to Helm Registry">
        Helm Registry
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_registry_login/" title="Switch to Helm Registry Login">
        Helm Registry Login
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_registry_logout/" title="Switch to Helm Registry Logout">
        Helm Registry Logout
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_repo/" title="Switch to Helm Repo">
        Helm Repo
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_repo_add/" title="Switch to Helm Repo Add">
        Helm Repo Add
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_repo_index/" title="Switch to Helm Repo Index">
        Helm Repo Index
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_repo_list/" title="Switch to Helm Repo List">
        Helm Repo List
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_repo_remove/" title="Switch to Helm Repo Remove">
        Helm Repo Remove
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_repo_update/" title="Switch to Helm Repo Update">
        Helm Repo Update
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_rollback/" title="Switch to Helm Rollback">
        Helm Rollback
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_search/" title="Switch to Helm Search">
        Helm Search
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_search_hub/" title="Switch to Helm Search Hub">
        Helm Search Hub
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_search_repo/" title="Switch to Helm Search Repo">
        Helm Search Repo
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_show/" title="Switch to Helm Show">
        Helm Show
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_show_all/" title="Switch to Helm Show All">
        Helm Show All
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_show_chart/" title="Switch to Helm Show Chart">
        Helm Show Chart
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_show_crds/" title="Switch to Helm Show Crds">
        Helm Show Crds
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_show_readme/" title="Switch to Helm Show Readme">
        Helm Show Readme
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_show_values/" title="Switch to Helm Show Values">
        Helm Show Values
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_status/" title="Switch to Helm Status">
        Helm Status
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_template/" title="Switch to Helm Template">
        Helm Template
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_test/" title="Switch to Helm Test">
        Helm Test
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_uninstall/" title="Switch to Helm Uninstall">
        Helm Uninstall
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_upgrade/" title="Switch to Helm Upgrade">
        Helm Upgrade
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_verify/" title="Switch to Helm Verify">
        Helm Verify
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/helm/helm_version/" title="Switch to Helm Version">
        Helm Version
      </a>
    </li>
    
  </ul>
  
</li>

            
          
            
              <li class="sidebar-nav-item toctree-l1">
  <a class="reference internal" href="/docs/community/">
    <span class="ripple">
      Community
    </span>
  </a>

  
  <ul class="current">
    
    <li class="toctree-12">
      <a href="/docs/community/developers/" title="Switch to Developer Guide">
        Developer Guide
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/community/release_checklist/" title="Switch to Release Checklist">
        Release Checklist
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/community/related/" title="Switch to Related Projects and Documentation">
        Related Projects and Documentation
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/community/history/" title="Switch to The History of the Project">
        The History of the Project
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/community/localization/" title="Switch to Localizing Helm Documentation">
        Localizing Helm Documentation
      </a>
    </li>
    
  </ul>
  
</li>

            
          
            
              <li class="sidebar-nav-item toctree-l1">
  <a class="reference internal" href="/docs/faq/">
    <span class="ripple">
      Frequently Asked Questions
    </span>
  </a>

  
  <ul class="current">
    
    <li class="toctree-12">
      <a href="/docs/faq/changes_since_helm2/" title="Switch to Changes Since Helm 2">
        Changes Since Helm 2
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/faq/installing/" title="Switch to Installing">
        Installing
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/faq/uninstalling/" title="Switch to Uninstalling">
        Uninstalling
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/docs/faq/troubleshooting/" title="Switch to Troubleshooting">
        Troubleshooting
      </a>
    </li>
    
  </ul>
  
</li>

            
          
            
              <li class="sidebar-nav-item toctree-l1">
  <a class="reference internal" href="/docs/glossary/">
    <span class="ripple">
      Glossary
    </span>
  </a>

  
</li>

            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        

      </ul>
    </nav>

    <aside class="sidebar-buttons is-hidden-mobile">
      <div class="button-wrap">
        <a href="https://github.com/helm/helm-www#contributing" class="button is-outline is-fullwidth">Contribute to Docs</a>
      </div>
    </aside>
  </div>
</div>
    </aside>
    
    <section class="column content-docs">
      <article class="content-wrapper">
        <h1>Deprecated Kubernetes APIs</h1>
        
        <p>Kubernetes is an API-driven system and the API evolves over time to reflect the
evolving understanding of the problem space. This is common practice across
systems and their APIs. An important part of evolving APIs is a good deprecation
policy and process to inform users of how changes to APIs are implemented. In
other words, consumers of your API need to know in advance and in what release
an API will be removed or changed. This removes the element of surprise and
breaking changes to consumers.</p>
<p>The 
<a href="https://kubernetes.io/docs/reference/using-api/deprecation-policy/" target="_blank">Kubernetes deprecation
policy</a>
documents how Kubernetes handles the changes to its API versions. The policy for
deprecation states the timeframe that API versions will be supported following a
deprecation announcement. It is therefore important to be aware of deprecation
announcements and know when API versions will be removed, to help minimize the
effect.</p>
<p>This is an example of an announcement 
<a href="https://kubernetes.io/blog/2019/07/18/api-deprecations-in-1-16/" target="_blank">for the removal of deprecated API
versions in Kubernetes
1.16</a> and was
advertised a few months prior to the release. These API versions would have been
announced for deprecation prior to this again. This shows that there is a good
policy in place which informs consumers of API version support.</p>
<p>Helm templates specify a 
<a href="https://kubernetes.io/docs/concepts/overview/kubernetes-api/#api-groups" target="_blank">Kubernetes API
group</a>
when defining a Kubernetes object, similar to a Kubernetes manifest file. It is
specified in the <code>apiVersion</code> field of the template and it identifies the API
version of the Kubernetes object. This means that Helm users and chart
maintainers need to be aware when Kubernetes API versions have been deprecated
and in what Kubernetes version they will be removed.</p>
<h2 id="chart-maintainers">Chart Maintainers</h2>
<p>You should audit your charts checking for Kubernetes API versions that are
deprecated or are removed in a Kubernetes version. The API versions found as due
to be or that are now out of support, should be updated to the supported version
and a new version of the chart released. The API version is defined by the
<code>kind</code> and <code>apiVersion</code> fields. For example, here is a removed <code>Deployment</code>
object API version in Kubernetes 1.16:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#309;font-weight:bold">apiVersion</span>:<span style="color:#bbb"> </span>apps/v1beta1<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">kind</span>:<span style="color:#bbb"> </span>Deployment<span style="color:#bbb">
</span></span></span></code></pre></div><h2 id="helm-users">Helm Users</h2>
<p>You should audit the charts that you use (similar to 
<a href="#chart-maintainers">chart
maintainers</a>) and identify any charts where API versions are
deprecated or removed in a Kubernetes version. For the charts identified, you
need to check for the latest version of the chart (which has supported API
versions) or update the chart yourself.</p>
<p>Additionally, you also need to audit any charts deployed (i.e. Helm releases)
checking again for any deprecated or removed API versions. This can be done by
getting details of a release using the <code>helm get manifest</code> command.</p>
<p>The means for updating a Helm release to supported APIs depends on your findings
as follows:</p>
<ol>
<li>If you find deprecated API versions only then:</li>
</ol>
<ul>
<li>Perform a <code>helm upgrade</code> with a version of the chart with supported
Kubernetes API versions</li>
<li>Add a description in the upgrade, something along the lines to not perform a
rollback to a Helm version prior to this current version</li>
</ul>
<ol start="2">
<li>If you find any API version(s) that is/are removed in a Kubernetes version
then:</li>
</ol>
<ul>
<li>If you are running a Kubernetes version where the API version(s) are still
available (for example, you are on Kubernetes 1.15 and found you use APIs
that will be removed in Kubernetes 1.16):
<ul>
<li>Follow the step 1 procedure</li>
</ul>
</li>
<li>Otherwise (for example, you are already running a Kubernetes version where
some API versions reported by <code>helm get manifest</code> are no longer available):
<ul>
<li>You need to edit the release manifest that is stored in the cluster to
update the API versions to supported APIs. See 
<a href="#updating-api-versions-of-a-release-manifest">Updating API Versions of a
Release Manifest</a> for more
details</li>
</ul>
</li>
</ul>
<blockquote>
<p>Note: In all cases of updating a Helm release with supported APIs, you should
never rollback the release to a version prior to the release version with the
supported APIs.</p>
</blockquote>
<blockquote>
<p>Recommendation: The best practice is to upgrade releases using deprecated API
versions to supported API versions, prior to upgrading to a kubernetes cluster
that removes those API versions.</p>
</blockquote>
<p>If you don't update a release as suggested previously, you will have an error
similar to the following when trying to upgrade a release in a Kubernetes
version where its API version(s) is/are removed:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>Error: UPGRADE FAILED: current release manifest contains removed kubernetes api(s)
</span></span><span style="display:flex;"><span>for this kubernetes version and it is therefore unable to build the kubernetes
</span></span><span style="display:flex;"><span>objects for performing the diff. error from kubernetes: unable to recognize &#34;&#34;:
</span></span><span style="display:flex;"><span>no matches for kind &#34;Deployment&#34; in version &#34;apps/v1beta1&#34;
</span></span></code></pre></div><p>Helm fails in this scenario because it attempts to create a diff patch between
the current deployed release (which contains the Kubernetes APIs that are
removed in this Kubernetes version) against the chart you are passing with the
updated/supported API versions. The underlying reason for failure is that when
Kubernetes removes an API version, the Kubernetes Go client library can no
longer parse the deprecated objects and Helm therefore fails when calling the
library. Helm unfortunately is unable to recover from this situation and is no
longer able to manage such a release. See 
<a href="#updating-api-versions-of-a-release-manifest">Updating API Versions of a Release
Manifest</a> for more details on how
to recover from this scenario.</p>
<h2 id="updating-api-versions-of-a-release-manifest">Updating API Versions of a Release Manifest</h2>
<p>The manifest is a property of the Helm release object which is stored in the
data field of a Secret (default) or ConfigMap in the cluster. The data field
contains a gzipped object which is base 64 encoded (there is an additional base
64 encoding for a Secret). There is a Secret/ConfigMap per release
version/revision in the namespace of the release.</p>
<p>You can use the Helm 
<a href="https://github.com/helm/helm-mapkubeapis" target="_blank">mapkubeapis</a>
plugin to perform the update of a release to supported APIs. Check out the
readme for more details.</p>
<p>Alternatively, you can follow these manual steps to perform an update of the API
versions of a release manifest. Depending on your configuration you will follow
the steps for the Secret or ConfigMap backend.</p>
<ul>
<li>Get the name of the Secret or Configmap associated with the latest deployed
release:
<ul>
<li>Secrets backend: <code>kubectl get secret -l owner=helm,status=deployed,name=&lt;release_name&gt; --namespace &lt;release_namespace&gt; | awk '{print $1}' | grep -v NAME</code></li>
<li>ConfigMap backend: <code>kubectl get configmap -l owner=helm,status=deployed,name=&lt;release_name&gt; --namespace &lt;release_namespace&gt; | awk '{print $1}' | grep -v NAME</code></li>
</ul>
</li>
<li>Get latest deployed release details:
<ul>
<li>Secrets backend: <code>kubectl get secret &lt;release_secret_name&gt; -n &lt;release_namespace&gt; -o yaml &gt; release.yaml</code></li>
<li>ConfigMap backend: <code>kubectl get configmap &lt;release_configmap_name&gt; -n &lt;release_namespace&gt; -o yaml &gt; release.yaml</code></li>
</ul>
</li>
<li>Backup the release in case you need to restore if something goes wrong:
<ul>
<li><code>cp release.yaml release.bak</code></li>
<li>In case of emergency, restore: <code>kubectl apply -f release.bak -n &lt;release_namespace&gt;</code></li>
</ul>
</li>
<li>Decode the release object:
<ul>
<li>Secrets backend:<code>cat release.yaml | grep -oP '(?&lt;=release: ).*' | base64 -d | base64 -d | gzip -d &gt; release.data.decoded</code></li>
<li>ConfigMap backend: <code>cat release.yaml | grep -oP '(?&lt;=release: ).*' | base64 -d | gzip -d &gt; release.data.decoded</code></li>
</ul>
</li>
<li>Change API versions of the manifests. Can use any tool (e.g. editor) to make
the changes. This is in the <code>manifest</code> field of your decoded release object
(<code>release.data.decoded</code>)</li>
<li>Encode the release object:
<ul>
<li>Secrets backend: <code>cat release.data.decoded | gzip | base64 | base64</code></li>
<li>ConfigMap backend: <code>cat release.data.decoded | gzip | base64</code></li>
</ul>
</li>
<li>Replace <code>data.release</code> property value in the deployed release file
(<code>release.yaml</code>) with the new encoded release object</li>
<li>Apply file to namespace: <code>kubectl apply -f release.yaml -n &lt;release_namespace&gt;</code></li>
<li>Perform a <code>helm upgrade</code> with a version of the chart with supported Kubernetes
API versions</li>
<li>Add a description in the upgrade, something along the lines to not perform a
rollback to a Helm version prior to this current version</li>
</ul>


        <nav class="level prev-next">
          <div class="level-left level-item">
            
            <a class="" href="https://zou-zongming.github.houston.softwaregrp.net/docs/topics/v2_v3_migration/" title="Deprecated Kubernetes APIs">
              <small class="heading">Prev</small>
              <p class="title">← Migrating Helm v2 to v3</p>
            </a>
            
          </div>
          
          <div class="level-right level-item has-text-right">
            
            <a class="" href="https://zou-zongming.github.houston.softwaregrp.net/docs/topics/version_skew/" title="Deprecated Kubernetes APIs">
              <small class="heading">Next</small>
              <p class="title">Helm Version Support Policy →</p>
            </a>
            
          </div>
        </nav>
      </article>
    </section>
  </div>
</div>



<section class="container footer-links">
  <div class="columns clearfix">
    <dl class="column">
      <dt><a href="https://github.com/helm/helm">Helm Project</a></dt>
      <dd><a href="/blog">Blog</a></dd>
      <dd><a href="https://www.cncf.io/community/kubecon-cloudnativecon-events/">Events</a></dd>
      <dd><a href="/docs/intro/quickstart/">Quick Start Guide</a></dd>
      <dd><a href="https://github.com/cncf/foundation/blob/master/code-of-conduct.md">Code of Conduct</a></dd>
    </dl>

    <dl class="column">
      <dt><a href="https://hub.helm.sh">Charts</a></dt>
      <dd><a href="/docs/topics/charts/">Introduction</a></dd>
      <dd><a href="/docs/howto/charts_tips_and_tricks/">Chart tips &amp; tricks</a></dd>
      <dd><a href="/docs/chart_template_guide/">Developing Charts</a></dd>
      <dd><a href="https://hub.helm.sh">Search 800+ Charts</a> <i class="fa fa-external"></i></dd>
    </dl>

    <dl class="column">
      <dt><a href="https://github.com/helm/community/blob/main/communication.md">Development</a></dt>
      <dd><a href="https://kubernetes.slack.com/messages/C51E88VDG">#helm-dev</a> <em>(slack)</em></dd>
      <dd><a href="https://github.com/helm/helm/blob/main/CONTRIBUTING.md">Contribution Guide</a></dd>
      <dd><a href="https://github.com/helm/helm/blob/main/OWNERS">Maintainers</a></dd>
      <dd><a href="https://github.com/helm/community/blob/main/communication.md#meetings">Weekly Meetings</a></dd>
    </dl>

    <dl class="column">
      <dt><a href="https://github.com/helm/community">Community</a></dt>
      <dd><a href="https://kubernetes.slack.com/messages/C0NH30761" title="#helm-users on Slack">#helm-users</a> <em>(slack)</em></dd>
      <dd><a href="https://lists.cncf.io/g/cncf-helm/topics">Mailing List</a></dd>
      <dd><a href="https://github.com/cncf/artwork/tree/master/projects/helm">Logos</a> &amp; <a href="https://github.com/helm/community/tree/main/art">Art</a></dd>
      <dd><a href="https://twitter.com/helmpack">Twitter</a></dd>
    </dl>
  </div>

  <div class="columns has-text-left cncf-wrap">
    <div class="column is-two-thirds">
      <a href="https://www.cncf.io/" title="Cloud Native Computing Foundation" target="_blank">
        <p class="lead">We are a Cloud Native Computing Foundation graduated project.</p>
      </a>
    </div>

    <div class="column is-one-third has-text-right">
      <a href="https://www.cncf.io/" title="Cloud Native Computing Foundation" target="_blank">
        <img src="/img/cncf-white.svg" alt="We are a Cloud Native Computing Foundation project" class="">
      </a>
    </div>
  </div>

  <hr />

  <div class="copyright">
    <p>
      &copy; Helm Authors 2024 | Documentation distributed under <a href="https://creativecommons.org/licenses/by/4.0">CC-BY-4.0</a>
    </p>

    <p>
      &copy; 2024 The Linux Foundation. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href="https://www.linuxfoundation.org/trademark-usage/">Trademark Usage</a> page.
    </p>
  </div>
</section>



    
    

    











































<script src="/js/jquery.min.91911616059b1420d1a7e93cdb684177d9a8bcef473731743e5f72a796662698.js" integrity="sha256-kZEWFgWbFCDRp&#43;k822hBd9movO9HNzF0Pl9yp5ZmJpg="></script>




<script src="/js/bundle.min.019ebc0ad20ee895d8c4abd8ac9285f0dff63d29231c6ace4e5d022ea590e038.js" integrity="sha256-AZ68CtIO6JXYxKvYrJKF8N/2PSkjHGrOTl0CLqWQ4Dg="></script>



<script async src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js" onload="docsearch({
  apiKey: '8bca76b0664b04581dc9f9854e844a90',
  indexName: 'helm',
  inputSelector: '#q',
  debug: false // Set debug to true if you want to inspect the dropdown
  })"></script>


    
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42867143-2', 'auto');
  ga('send', 'pageview');
</script>

  </body>
</html>
