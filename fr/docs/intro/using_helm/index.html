



<!DOCTYPE html>
<html lang="fr">
  <head>
    <title>
      
Helm | Utilisation de Helm

    </title>

    







<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width,initial-scale=1.0">


<meta name="description" content="Explique la base de Helm.">


<meta property="og:title" content="Utilisation de Helm">
<meta property="og:title" content="Utilisation de Helm">
<meta property="og:url" content="https://helm.sh/fr/docs/intro/using_helm/">
<meta property="og:description" content="Explique la base de Helm." />

<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://helm.sh/img/og-image.png">
<meta name="twitter:title" content="Helm | Utilisation de Helm">
<meta name="twitter:description" content="Explique la base de Helm.">

<meta name="google-site-verification" content="dCa3wS47cErhx0IpaxbB85NfcOP-vFxevknVk6fzf5I">

<link rel="icon" href="https://helm.sh/img/favicon-152.png" type="image/x-icon">
<link rel="apple-touch-icon-precomposed" href="/img/apple-touch-icon-precomposed.png">














<link rel="stylesheet" href="/css/style.bb9a3f16cd8b057bc29c79565ae0d4a0d40d2088a9939d614209a479d640b7bb.css" integrity="sha256-u5o/Fs2LBXvCnHlWWuDUoNQNIIipk51hQgmkedZAt7s=">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />





  </head>

  
    <body id="landing" class="fr"></body>
  
    

<div id="helm" class="page-docs page-wrapper page-docs-list">
  <header>
    
    



<nav class="navbar navbar-top" role="navigation" aria-label="main navigation">
  <div class="container is-fluid is-vcentered">
    <div class="navbar-brand">
      <a href="/">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 304 351"><title>Helm</title>
<mask id="a" fill="#fff">
<path d="m0 0h313.303155v159.864865h-313.303155z" fill="#fff" fill-rule="evenodd"/>
</mask>
<mask id="b" fill="#fff">
<path d="m0 0h313.303155v159.864865h-313.303155z" fill="#fff" fill-rule="evenodd"/>
</mask>
<g fill="none" fill-rule="evenodd" transform="translate(-11 -51)">
<path d="m11.6785714 189h19.7858357v26.789h23.9037v-26.789h19.7858358v75.25h-19.7858358v-28.695333h-23.9037v28.695333h-19.7858357zm86.1738429 75.25v-75.25h46.8030427v16.354333h-27.017207v12.240667h23.9037v16.655333h-23.9037v13.846h27.017207v16.153667zm68.4971567 0v-75.25h19.785836v55.384h27.117643v19.866zm77.536372-75.25 30.733328 27.892667 30.632893-27.892667h8.938779v75.25h-19.886272v-38.628333l-19.6854 17.959666-19.785835-17.859333v38.528h-19.886272v-75.25z" fill="#0f1689"/>
<g transform="matrix(1 0 0 -1 11.958136 455)">
<g fill="#0f1689" mask="url(#a)">
<path d="m203.460676 95.6875425c6.93631 0 12.559301-14.8092194 12.559301-33.0773172s-5.622991-33.0773172-12.559301-33.0773172c-6.936311 0-12.559301 14.8092194-12.559301 33.0773172s5.62299 33.0773172 12.559301 33.0773172z" transform="matrix(.81915204 .57357644 -.57357644 .81915204 111.870091 -51.706556)"/>
<path d="m30.1423223 95.6875425c6.9363104 0 12.559301-14.8092194 12.559301-33.0773172s-5.6229906-33.0773172-12.559301-33.0773172-12.5593009 14.8092194-12.5593009 33.0773172 5.6229905 33.0773172 12.5593009 33.0773172z" transform="matrix(-.81915204 .57357644 .57357644 .81915204 58.084611 47.704768)"/>
<path d="m116.732815 66.2752676c6.936311 0 12.559301-14.8092193 12.559301-33.0773172 0-18.2680978-5.62299-33.07731713-12.559301-33.07731713-6.93631 0-12.559301 14.80921933-12.559301 33.07731713 0 18.2680979 5.622991 33.0773172 12.559301 33.0773172z" transform="matrix(-1 0 0 1 272.628524 53.670762)"/>
</g>
<path d="m251.467006 173.099849c-20.230076-33.609969-56.889565-56.067908-98.755776-56.067908-40.720798 0-76.5158766 21.245901-97.0586959 53.334588m2.1981107 129.169534c20.8403036 30.232701 55.5559042 50.026591 94.8605852 50.026591 39.376099 0 74.146424-19.865887 94.974049-50.191495" mask="url(#a)" stroke="#0f1689" stroke-width="20"/>
</g>
<g transform="translate(11.958136)">
<g fill="#0f1689" mask="url(#b)">
<path d="m203.460676 95.6875425c6.93631 0 12.559301-14.8092194 12.559301-33.0773172s-5.622991-33.0773172-12.559301-33.0773172c-6.936311 0-12.559301 14.8092194-12.559301 33.0773172s5.62299 33.0773172 12.559301 33.0773172z" transform="matrix(.81915204 .57357644 -.57357644 .81915204 111.870091 -54.166016)"/>
<path d="m30.1423223 95.6875425c6.9363104 0 12.559301-14.8092194 12.559301-33.0773172s-5.6229906-33.0773172-12.559301-33.0773172-12.5593009 14.8092194-12.5593009 33.0773172 5.6229905 33.0773172 12.5593009 33.0773172z" transform="matrix(-.81915204 .57357644 .57357644 .81915204 58.084611 45.245308)"/>
<path d="m116.732815 66.2752676c6.936311 0 12.559301-14.8092193 12.559301-33.0773172 0-18.2680978-5.62299-33.07731713-12.559301-33.07731713-6.93631 0-12.559301 14.80921933-12.559301 33.07731713 0 18.2680979 5.622991 33.0773172 12.559301 33.0773172z" transform="matrix(-1 0 0 1 272.628524 51.211302)"/>
</g>
<path d="m251.467006 170.64039c-20.230076-33.609969-56.889565-56.067908-98.755776-56.067908-40.720798 0-76.5158766 21.2459-97.0586959 53.334587m2.1981107 129.169534c20.8403036 30.232702 55.5559042 50.026591 94.8605852 50.026591 39.376099 0 74.146424-19.865886 94.974049-50.191494" mask="url(#b)" stroke="#0f1689" stroke-width="20"/>
</g>
</g>
</svg>
      </a>
    </div>

    
    <div class="navbar-menu is-centered" id="navMenuDocumentation">
      
        
          <a href="/fr/" class="navbar-item">
            Accueil
          </a>
        
      
        
          <a href="/fr/docs" class="navbar-item">
            Docs
          </a>
        
      
        
          <a href="https://hub.helm.sh/" class="navbar-item external" target="_blank">
            Charts <span class="icon"><i class="mdi mdi-open-in-new"></i></span>
          </a>
        
      
        
          <a href="https://helm.sh/blog" class="navbar-item external" target="_blank">
            Blog <span class="icon"><i class="mdi mdi-open-in-new"></i></span>
          </a>
        
      
        
          <a href="https://github.com/helm/community" class="navbar-item external" target="_blank">
            Communauté <span class="icon"><i class="mdi mdi-open-in-new"></i></span>
          </a>
        
      
    </div>

    <div class="navbar-end is-hidden-mobile">
      <ul class="is-pulled-right">
        





  <li class="versioner l18ner navbar-item has-dropdown is-right is-hoverable">
    <a data-dropdown="drop1" aria-controls="drop1" aria-expanded="false" class="versioner-trigger navbar-link">
      Français <i class="fa fa-caret-down"></i>
    </a>

    <ul id="drop1" class="navbar-dropdown dropdown-menu f-dropdown" data-dropdown-content aria-hidden="true" tabindex="-1">
      
      
      
          
          
              
                
                
                    <li class="navbar-item"><a href="https://helm.sh/docs/intro/using_helm/"><code>en</code> &nbsp; English</a></li>
                
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
      
          
          
              

            
              
                
                
                    <li class="navbar-item"><a href="https://helm.sh/de/docs/intro/using_helm/"><code>de</code> &nbsp; Deutsch</a></li>
                
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
      
          
          
              

            
              

            
              
                
                
                    <li class="navbar-item"><a href="https://helm.sh/es/docs/intro/using_helm/"><code>es</code> &nbsp; Español</a></li>
                
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
      
          
          
              

            
              

            
              

            
              
                
                
                    <li class="navbar-item"><a href="https://helm.sh/fr/docs/intro/using_helm/" class="active"><code>fr</code> &nbsp; Français</a></li>
                
              

            
              

            
              

            
              

            
              

            
              

            
              

            
      
          
          
              

            
              

            
              

            
              

            
              

            
              
                
                
                    <li class="navbar-item"><a href="https://helm.sh/ja/docs/intro/using_helm/"><code>ja</code> &nbsp; 日本語</a></li>
                
              

            
              

            
              

            
              

            
              

            
      
          
          
              

            
              

            
              

            
              

            
              

            
              

            
              
                
                
                    <li class="navbar-item"><a href="https://helm.sh/ko/docs/intro/using_helm/"><code>ko</code> &nbsp; 한국어</a></li>
                
              

            
              

            
              

            
              

            
      
          
          
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              
                
                
                    <li class="navbar-item"><a href="https://helm.sh/ru/docs/intro/using_helm/"><code>ru</code> &nbsp; Русский</a></li>
                
              

            
              

            
      
          
          
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              
                
                
                    <li class="navbar-item"><a href="https://helm.sh/zh/docs/intro/using_helm/"><code>zh</code> &nbsp; 中文</a></li>
                
              

            
      
      <li class="navbar-item l18n-prompt"><a href="https://github.com/helm/helm-www#internationalization--translation"><small>Traduire cette page</small></a></li>
    </ul>
  </li>
  

        




  <li class="versioner navbar-item has-dropdown is-right is-hoverable">
    
    <a data-dropdown="drop1" aria-controls="drop1" aria-expanded="false" class="versioner-trigger navbar-link">
      v3.13.0 <i class="fa fa-caret-down"></i>
    </a>
    

    <ul id="drop1" class="navbar-dropdown dropdown-menu f-dropdown" data-dropdown-content aria-hidden="true" tabindex="-1">
      
      <li>
        <a href="https://helm.sh/docs" class="navbar-item">
          v3.13.0 <em>stable</em>
        </a>
      </li>
      
      <li>
        <a href="https://v2.helm.sh/docs" class="navbar-item">
          v2.17.0
        </a>
      </li>
      
    </ul>
  </li>

        <li class="">
          <a class="button not-fixed is-outlined" href="/fr/docs/intro/quickstart">Commencer</a>
        </li>
      </ul>
    </div>

    
    <div class="navbar-end is-hidden-tablet">
      <div id="navbarBurger" class="navbar-burger burger" data-target="navMenuDocumentation">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </div>
</nav>

    



<nav class="navbar navbar-top navbar-top-fixed" role="navigation" aria-label="main navigation">
  <div class="container is-fluid">
    
    <div class="navbar-brand">
      <a href="/">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 304 351"><title>Helm</title>
<mask id="a" fill="#fff">
<path d="m0 0h313.303155v159.864865h-313.303155z" fill="#fff" fill-rule="evenodd"/>
</mask>
<mask id="b" fill="#fff">
<path d="m0 0h313.303155v159.864865h-313.303155z" fill="#fff" fill-rule="evenodd"/>
</mask>
<g fill="none" fill-rule="evenodd" transform="translate(-11 -51)">
<path d="m11.6785714 189h19.7858357v26.789h23.9037v-26.789h19.7858358v75.25h-19.7858358v-28.695333h-23.9037v28.695333h-19.7858357zm86.1738429 75.25v-75.25h46.8030427v16.354333h-27.017207v12.240667h23.9037v16.655333h-23.9037v13.846h27.017207v16.153667zm68.4971567 0v-75.25h19.785836v55.384h27.117643v19.866zm77.536372-75.25 30.733328 27.892667 30.632893-27.892667h8.938779v75.25h-19.886272v-38.628333l-19.6854 17.959666-19.785835-17.859333v38.528h-19.886272v-75.25z" fill="#0f1689"/>
<g transform="matrix(1 0 0 -1 11.958136 455)">
<g fill="#0f1689" mask="url(#a)">
<path d="m203.460676 95.6875425c6.93631 0 12.559301-14.8092194 12.559301-33.0773172s-5.622991-33.0773172-12.559301-33.0773172c-6.936311 0-12.559301 14.8092194-12.559301 33.0773172s5.62299 33.0773172 12.559301 33.0773172z" transform="matrix(.81915204 .57357644 -.57357644 .81915204 111.870091 -51.706556)"/>
<path d="m30.1423223 95.6875425c6.9363104 0 12.559301-14.8092194 12.559301-33.0773172s-5.6229906-33.0773172-12.559301-33.0773172-12.5593009 14.8092194-12.5593009 33.0773172 5.6229905 33.0773172 12.5593009 33.0773172z" transform="matrix(-.81915204 .57357644 .57357644 .81915204 58.084611 47.704768)"/>
<path d="m116.732815 66.2752676c6.936311 0 12.559301-14.8092193 12.559301-33.0773172 0-18.2680978-5.62299-33.07731713-12.559301-33.07731713-6.93631 0-12.559301 14.80921933-12.559301 33.07731713 0 18.2680979 5.622991 33.0773172 12.559301 33.0773172z" transform="matrix(-1 0 0 1 272.628524 53.670762)"/>
</g>
<path d="m251.467006 173.099849c-20.230076-33.609969-56.889565-56.067908-98.755776-56.067908-40.720798 0-76.5158766 21.245901-97.0586959 53.334588m2.1981107 129.169534c20.8403036 30.232701 55.5559042 50.026591 94.8605852 50.026591 39.376099 0 74.146424-19.865887 94.974049-50.191495" mask="url(#a)" stroke="#0f1689" stroke-width="20"/>
</g>
<g transform="translate(11.958136)">
<g fill="#0f1689" mask="url(#b)">
<path d="m203.460676 95.6875425c6.93631 0 12.559301-14.8092194 12.559301-33.0773172s-5.622991-33.0773172-12.559301-33.0773172c-6.936311 0-12.559301 14.8092194-12.559301 33.0773172s5.62299 33.0773172 12.559301 33.0773172z" transform="matrix(.81915204 .57357644 -.57357644 .81915204 111.870091 -54.166016)"/>
<path d="m30.1423223 95.6875425c6.9363104 0 12.559301-14.8092194 12.559301-33.0773172s-5.6229906-33.0773172-12.559301-33.0773172-12.5593009 14.8092194-12.5593009 33.0773172 5.6229905 33.0773172 12.5593009 33.0773172z" transform="matrix(-.81915204 .57357644 .57357644 .81915204 58.084611 45.245308)"/>
<path d="m116.732815 66.2752676c6.936311 0 12.559301-14.8092193 12.559301-33.0773172 0-18.2680978-5.62299-33.07731713-12.559301-33.07731713-6.93631 0-12.559301 14.80921933-12.559301 33.07731713 0 18.2680979 5.622991 33.0773172 12.559301 33.0773172z" transform="matrix(-1 0 0 1 272.628524 51.211302)"/>
</g>
<path d="m251.467006 170.64039c-20.230076-33.609969-56.889565-56.067908-98.755776-56.067908-40.720798 0-76.5158766 21.2459-97.0586959 53.334587m2.1981107 129.169534c20.8403036 30.232702 55.5559042 50.026591 94.8605852 50.026591 39.376099 0 74.146424-19.865886 94.974049-50.191494" mask="url(#b)" stroke="#0f1689" stroke-width="20"/>
</g>
</g>
</svg>
      </a>
    </div>

    
    <div class="navbar-menu is-centered" id="navMenuDocumentation">
      
        
          <a href="/fr/" class="navbar-item">
            Accueil
          </a>
        
      
        
          <a href="/fr/docs" class="navbar-item">
            Docs
          </a>
        
      
        
          <a href="https://hub.helm.sh/" class
          ="navbar-item external" target="_blank">
            Charts <span class="icon"><i class="mdi mdi-open-in-new"></i></span>
          </a>
        
      
        
          <a href="https://helm.sh/blog" class
          ="navbar-item external" target="_blank">
            Blog <span class="icon"><i class="mdi mdi-open-in-new"></i></span>
          </a>
        
      
        
          <a href="https://github.com/helm/community" class
          ="navbar-item external" target="_blank">
            Communauté <span class="icon"><i class="mdi mdi-open-in-new"></i></span>
          </a>
        
      
    </div>

    <div class="navbar-end is-hidden-mobile">
      <ul class="is-pulled-right">
        





  <li class="versioner l18ner navbar-item has-dropdown is-right is-hoverable">
    <a data-dropdown="drop1" aria-controls="drop1" aria-expanded="false" class="versioner-trigger navbar-link">
      Français <i class="fa fa-caret-down"></i>
    </a>

    <ul id="drop1" class="navbar-dropdown dropdown-menu f-dropdown" data-dropdown-content aria-hidden="true" tabindex="-1">
      
      
      
          
          
              
                
                
                    <li class="navbar-item"><a href="https://helm.sh/docs/intro/using_helm/"><code>en</code> &nbsp; English</a></li>
                
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
      
          
          
              

            
              
                
                
                    <li class="navbar-item"><a href="https://helm.sh/de/docs/intro/using_helm/"><code>de</code> &nbsp; Deutsch</a></li>
                
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
      
          
          
              

            
              

            
              
                
                
                    <li class="navbar-item"><a href="https://helm.sh/es/docs/intro/using_helm/"><code>es</code> &nbsp; Español</a></li>
                
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
      
          
          
              

            
              

            
              

            
              
                
                
                    <li class="navbar-item"><a href="https://helm.sh/fr/docs/intro/using_helm/" class="active"><code>fr</code> &nbsp; Français</a></li>
                
              

            
              

            
              

            
              

            
              

            
              

            
              

            
      
          
          
              

            
              

            
              

            
              

            
              

            
              
                
                
                    <li class="navbar-item"><a href="https://helm.sh/ja/docs/intro/using_helm/"><code>ja</code> &nbsp; 日本語</a></li>
                
              

            
              

            
              

            
              

            
              

            
      
          
          
              

            
              

            
              

            
              

            
              

            
              

            
              
                
                
                    <li class="navbar-item"><a href="https://helm.sh/ko/docs/intro/using_helm/"><code>ko</code> &nbsp; 한국어</a></li>
                
              

            
              

            
              

            
              

            
      
          
          
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              
                
                
                    <li class="navbar-item"><a href="https://helm.sh/ru/docs/intro/using_helm/"><code>ru</code> &nbsp; Русский</a></li>
                
              

            
              

            
      
          
          
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              
                
                
                    <li class="navbar-item"><a href="https://helm.sh/zh/docs/intro/using_helm/"><code>zh</code> &nbsp; 中文</a></li>
                
              

            
      
      <li class="navbar-item l18n-prompt"><a href="https://github.com/helm/helm-www#internationalization--translation"><small>Traduire cette page</small></a></li>
    </ul>
  </li>
  

        




  <li class="versioner navbar-item has-dropdown is-right is-hoverable">
    
    <a data-dropdown="drop1" aria-controls="drop1" aria-expanded="false" class="versioner-trigger navbar-link">
      v3.13.0 <i class="fa fa-caret-down"></i>
    </a>
    

    <ul id="drop1" class="navbar-dropdown dropdown-menu f-dropdown" data-dropdown-content aria-hidden="true" tabindex="-1">
      
      <li>
        <a href="https://helm.sh/docs" class="navbar-item">
          v3.13.0 <em>stable</em>
        </a>
      </li>
      
      <li>
        <a href="https://v2.helm.sh/docs" class="navbar-item">
          v2.17.0
        </a>
      </li>
      
    </ul>
  </li>

        <li>
          <a class="button not-fixed is-outlined" href="/fr/docs/intro/quickstart">Commencer</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

  </header>

  <div class="columns" id="helm">
    <aside class="column is-narrow is-gapless sidebar-wrapper">
      

<input type="checkbox" class="hamburger-trigger" />
<small class="hamburger">
  <span></span>
  <span></span>
  <span></span>
</small>

<div class="sidebar">
  <div class="is-visible-mobile is-hidden-tablet" id="sidebar-toggle">Browse Docs <span class="icon"><i class="mdi mdi-arrow-down"></i></span></div>

  <div class="sidebar-content-wrapper">
    <div class="search-container">
      <input id="q" placeholder="Search..." autofocus>
      <span class="icon"><i class="mdi mdi-magnify"></i></span>
    </div>

    
    <nav class="sidebar-nav">

      <ul class="current sidebar-main">
        <li class="sidebar-nav-item toctree-l1">
          <a class="reference internal" href="/fr/docs/" state="">
            <span class="ripple">
              Accueil Documentations
            </span>
          </a>
        </li>

        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
              <li class="sidebar-nav-item toctree-l1">
  <a class="reference internal" href="/fr/docs/intro/">
    <span class="ripple">
      Introduction
    </span>
  </a>

  
  <ul class="current">
    
    <li class="toctree-12">
      <a href="/fr/docs/intro/quickstart/" title="Switch to Guide de démarrage rapide">
        Guide de démarrage rapide
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/fr/docs/intro/install/" title="Switch to Installation de Helm">
        Installation de Helm
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="/fr/docs/intro/using_helm/" title="Switch to Utilisation de Helm">
        Utilisation de Helm
      </a>
    </li>
    
  </ul>
  
</li>

            
          
            
              <li class="sidebar-nav-item toctree-l1">
  <a class="reference internal" href="/fr/docs/howto/">
    <span class="ripple">
      Comment faire
    </span>
  </a>

  
</li>

            
          
            
              <li class="sidebar-nav-item toctree-l1">
  <a class="reference internal" href="/fr/docs/topics/">
    <span class="ripple">
      Thèmes
    </span>
  </a>

  
</li>

            
          
            
              <li class="sidebar-nav-item toctree-l1">
  <a class="reference internal" href="/fr/docs/helm/">
    <span class="ripple">
      Commandes Helm
    </span>
  </a>

  
  <ul class="current">
    
    <li class="toctree-12">
      <a href="/fr/docs/helm/helm/" title="Switch to Helm">
        Helm
      </a>
    </li>
    
  </ul>
  
</li>

            
          
            
              <li class="sidebar-nav-item toctree-l1">
  <a class="reference internal" href="/fr/docs/community/">
    <span class="ripple">
      Communauté
    </span>
  </a>

  
</li>

            
          
        
          
        

      </ul>
    </nav>

    <aside class="sidebar-buttons is-hidden-mobile">
      <div class="button-wrap">
        <a href="https://github.com/helm/helm-www#contributing" class="button is-outline is-fullwidth">Contribute to Docs</a>
      </div>
    </aside>
  </div>
</div>
    </aside>
    
    <section class="column content-docs">
      <article class="content-wrapper">
        <h1>Utilisation de Helm</h1>
        
        <p>Ce guide explique les bases de l'utilisation de Helm pour gérer les packages sur votre cluster Kubernetes. Nous partons du principe que vous avez déjà 
<a href="https://helm.sh/fr/docs/intro/install/">installé</a> le client Helm.</p>
<p>Si vous souhaitez simplement exécuter quelques commandes rapides, vous pouvez commencer par le 
<a href="https://helm.sh/fr/docs/intro/quickstart/">Guide de démarrage rapide</a>. Ce chapitre couvre les différentes commandes Helm et explique comment les utiliser.</p>
<h2 id="trois-grands-concepts">Trois grands concepts</h2>
<p>Un <em>Chart</em> est un package Helm. Il contient toutes les définitions des ressources nécessaires pour exécuter une application, un outil ou un service à l'intérieur d'un cluster Kubernetes. Voyez cela comme l'équivalent Kubernetes d'une formule pour Homebrew, d'un dpkg pour Apt , ou d'un fichier RPM pour Yum.</p>
<p>Un <em>Dépot</em> est le lieu où les charts peuvent être collectés et partagés. C'est comme les 
<a href="https://www.cpan.org" target="_blank">archives CPAN de Perl</a> ou la 
<a href="https://src.fedoraproject.org/" target="_blank">base de données de packages Fedora</a>, mais pour les packages de Kubernetes.</p>
<p>Une <em>Release</em> est une instance d'un chart s'exécutant dans un cluster Kubernetes. Un chart peut être installé plusieurs fois dans le même cluster. Et à chaque fois qu'il est à nouveau installé, une nouvelle <em>release</em> est créé. Prenons un chart MySQL, si vous voulez deux bases de données s'exécutant dans votre cluster, vous pouvez installer ce chart deux fois. Chacune aura sa propre <em>release</em>, qui à son tour aura son propre <em>release name</em>.</p>
<p>Maintenant que vous maîtrisez ces concepts, nous pouvons aborder Helm de la manière suivante :</p>
<p>Helm installe des <em>charts</em> dans Kubernetes, créant une nouvelle <em>release</em> pour chaque installation. Et pour trouver de nouveaux charts, vous pouvez rechercher des <em>repositories</em> (dépots) de charts Helm.</p>
<h2 id="helm-search-la-recherche-de-charts">'helm search': La recherche de charts</h2>
<p>Helm est livré avec une puissante commande de recherche. Elle peut être utilisée pour rechercher deux différents types de ressources :</p>
<ul>
<li><code>helm search hub</code> recherche sur le 
<a href="https://artifacthub.io" target="_blank">Artifact Hub</a>, qui liste les charts Helm depuis une douzaines de dépôts.</li>
<li><code>helm search repo</code> recherche sur les dépots que vous avez ajouté a votre config (via <code>helm repo add</code>). Cette recherche est faite sur le réseau privé et ne nécessite pas de connexion à internet.</li>
</ul>
<p>Vous pouvez trouver un chart sur les dépôts publique avec la commande <code>helm search hub</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span><span style="color:#009;font-weight:bold">$</span> helm search hub wordpress
</span></span><span style="display:flex;"><span><span style="color:#aaa">URL                                                 CHART VERSION APP VERSION DESCRIPTION
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">https://hub.helm.sh/charts/bitnami/wordpress        7.6.7         5.2.4       Web publishing platform for building blogs and ...
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">https://hub.helm.sh/charts/presslabs/wordpress-...  v0.6.3        v0.6.3      Presslabs WordPress Operator Helm Chart
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">https://hub.helm.sh/charts/presslabs/wordpress-...  v0.7.1        v0.7.1      A Helm chart for deploying a WordPress site on ...
</span></span></span></code></pre></div><p>La commande ci-dessus recherche toutes les charts <code>wordpress</code> sur Artifact Hub.</p>
<p>En utilisant <code>helm search repo</code>, vous pouvez trouver les noms des charts dans les dépots que vous avez ajouté manuellement :</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span><span style="color:#009;font-weight:bold">$</span> helm repo add brigade https://brigadecore.github.io/charts
</span></span><span style="display:flex;"><span><span style="color:#aaa">&#34;brigade&#34; has been added to your repositories
</span></span></span><span style="display:flex;"><span><span style="color:#aaa"></span><span style="color:#009;font-weight:bold">$</span> helm search repo brigade
</span></span><span style="display:flex;"><span><span style="color:#aaa">NAME                          CHART VERSION APP VERSION DESCRIPTION
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">brigade/brigade               1.3.2         v1.2.1      Brigade provides event-driven scripting of Kube...
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">brigade/brigade-github-app    0.4.1         v0.2.1      The Brigade GitHub App, an advanced gateway for...
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">brigade/brigade-github-oauth  0.2.0         v0.20.0     The legacy OAuth GitHub Gateway for Brigade
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">brigade/brigade-k8s-gateway   0.1.0                     A Helm chart for Kubernetes
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">brigade/brigade-project       1.0.0         v1.0.0      Create a Brigade project
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">brigade/kashti                0.4.0         v0.4.0      A Helm chart for Kubernetes
</span></span></span></code></pre></div><p>La commande de recherche de Helm utilise un algorithme de correspondance de chaîne de charactères, vous pouvez donc saisir des mots ou une partie de phrase :</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span><span style="color:#009;font-weight:bold">$</span> helm search repo kash
</span></span><span style="display:flex;"><span><span style="color:#aaa">NAME            CHART VERSION APP VERSION DESCRIPTION
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">brigade/kashti  0.4.0         v0.4.0      A Helm chart for Kubernetes
</span></span></span></code></pre></div><p>La recherche est un bon moyen de trouver les packages disponibles. Une fois que vous avez trouvé une application que vous souhaitez installer, vous pouvez utiliser <code>helm install</code> pour l'installer.</p>
<h2 id="helm-install-installation-dun-package">'helm install': Installation d'un package</h2>
<p>Pour installer un nouveau package, utilisez la commande <code>helm install</code>. Dans sa forme la plus simple, elle prend deux arguments: le nom de la version voulue et le nom du chart que vous
voulez installer.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span><span style="color:#009;font-weight:bold">$</span> helm install happy-panda bitnami/wordpress
</span></span><span style="display:flex;"><span><span style="color:#aaa">NAME: happy-panda
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">LAST DEPLOYED: Tue Jan 26 10:27:17 2021
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">NAMESPACE: default
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">STATUS: deployed
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">REVISION: 1
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">NOTES:
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">** Please be patient while the chart is being deployed **
</span></span></span><span style="display:flex;"><span><span style="color:#aaa"></span><span style="color:#a00;background-color:#faa">
</span></span></span><span style="display:flex;"><span><span style="color:#a00;background-color:#faa"></span><span style="color:#aaa">Your WordPress site can be accessed through the following DNS name from within your cluster:
</span></span></span><span style="display:flex;"><span><span style="color:#aaa"></span><span style="color:#a00;background-color:#faa">
</span></span></span><span style="display:flex;"><span><span style="color:#a00;background-color:#faa"></span><span style="color:#aaa">    happy-panda-wordpress.default.svc.cluster.local (port 80)
</span></span></span><span style="display:flex;"><span><span style="color:#aaa"></span><span style="color:#a00;background-color:#faa">
</span></span></span><span style="display:flex;"><span><span style="color:#a00;background-color:#faa"></span><span style="color:#aaa">To access your WordPress site from outside the cluster follow the steps below:
</span></span></span><span style="display:flex;"><span><span style="color:#aaa"></span><span style="color:#a00;background-color:#faa">
</span></span></span><span style="display:flex;"><span><span style="color:#a00;background-color:#faa"></span><span style="color:#aaa">1. Get the WordPress URL by running these commands:
</span></span></span><span style="display:flex;"><span><span style="color:#aaa"></span><span style="color:#a00;background-color:#faa">
</span></span></span><span style="display:flex;"><span><span style="color:#a00;background-color:#faa"></span><span style="color:#aaa">  NOTE: It may take a few minutes for the LoadBalancer IP to be available.
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">        Watch the status with: &#39;kubectl get svc --namespace default -w happy-panda-wordpress&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#aaa"></span><span style="color:#a00;background-color:#faa">
</span></span></span><span style="display:flex;"><span><span style="color:#a00;background-color:#faa"></span><span style="color:#aaa">   export SERVICE_IP=$(kubectl get svc --namespace default happy-panda-wordpress --template &#34;{{ range (index .status.loadBalancer.ingress 0) }}{{.}}{{ end }}&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">   echo &#34;WordPress URL: http://$SERVICE_IP/&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">   echo &#34;WordPress Admin URL: http://$SERVICE_IP/admin&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#aaa"></span><span style="color:#a00;background-color:#faa">
</span></span></span><span style="display:flex;"><span><span style="color:#a00;background-color:#faa"></span><span style="color:#aaa">2. Open a browser and access WordPress using the obtained URL.
</span></span></span><span style="display:flex;"><span><span style="color:#aaa"></span><span style="color:#a00;background-color:#faa">
</span></span></span><span style="display:flex;"><span><span style="color:#a00;background-color:#faa"></span><span style="color:#aaa">3. Login with the following credentials below to see your blog:
</span></span></span><span style="display:flex;"><span><span style="color:#aaa"></span><span style="color:#a00;background-color:#faa">
</span></span></span><span style="display:flex;"><span><span style="color:#a00;background-color:#faa"></span><span style="color:#aaa">  echo Username: user
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">  echo Password: $(kubectl get secret --namespace default happy-panda-wordpress -o jsonpath=&#34;{.data.wordpress-password}&#34; | base64 --decode)
</span></span></span></code></pre></div><p>Le chart <code>wordpress</code> est maintenant installé. Notez que l'installation d'un chart crée un nouvel objet <em>release</em>. La version ci-dessus est nommée «happy-panda». (Si vous voulez que Helm génère un nom pour vous, oubliez le nom de la version et utilisez <code>--generate-name</code>.)</p>
<p>Lors de l'installation, le client <code>helm</code> affichera des informations utiles sur les ressources qui ont été créées, l'état de la version et si il y a des étapes de configurations supplémentaires que vous pouvez ou devez suivre.</p>
<p>Helm n'attend pas que toutes les ressources soient en cours d'exécution avant de quitter. De nombreuses charts nécessitent des images Docker de plus de 600 Mo et peuvent prendre du temps à s'installer dans le cluster.</p>
<p>Pour suivre l'état d'une release ou pour relire les informations de configuration, vous pouvez utiliser <code>helm status</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span><span style="color:#009;font-weight:bold">$</span> helm status happy-panda
</span></span><span style="display:flex;"><span><span style="color:#aaa">NAME: happy-panda
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">LAST DEPLOYED: Tue Jan 26 10:27:17 2021
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">NAMESPACE: default
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">STATUS: deployed
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">REVISION: 1
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">NOTES:
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">** Please be patient while the chart is being deployed **
</span></span></span><span style="display:flex;"><span><span style="color:#aaa"></span><span style="color:#a00;background-color:#faa">
</span></span></span><span style="display:flex;"><span><span style="color:#a00;background-color:#faa"></span><span style="color:#aaa">Your WordPress site can be accessed through the following DNS name from within your cluster:
</span></span></span><span style="display:flex;"><span><span style="color:#aaa"></span><span style="color:#a00;background-color:#faa">
</span></span></span><span style="display:flex;"><span><span style="color:#a00;background-color:#faa"></span><span style="color:#aaa">    happy-panda-wordpress.default.svc.cluster.local (port 80)
</span></span></span><span style="display:flex;"><span><span style="color:#aaa"></span><span style="color:#a00;background-color:#faa">
</span></span></span><span style="display:flex;"><span><span style="color:#a00;background-color:#faa"></span><span style="color:#aaa">To access your WordPress site from outside the cluster follow the steps below:
</span></span></span><span style="display:flex;"><span><span style="color:#aaa"></span><span style="color:#a00;background-color:#faa">
</span></span></span><span style="display:flex;"><span><span style="color:#a00;background-color:#faa"></span><span style="color:#aaa">1. Get the WordPress URL by running these commands:
</span></span></span><span style="display:flex;"><span><span style="color:#aaa"></span><span style="color:#a00;background-color:#faa">
</span></span></span><span style="display:flex;"><span><span style="color:#a00;background-color:#faa"></span><span style="color:#aaa">  NOTE: It may take a few minutes for the LoadBalancer IP to be available.
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">        Watch the status with: &#39;kubectl get svc --namespace default -w happy-panda-wordpress&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#aaa"></span><span style="color:#a00;background-color:#faa">
</span></span></span><span style="display:flex;"><span><span style="color:#a00;background-color:#faa"></span><span style="color:#aaa">   export SERVICE_IP=$(kubectl get svc --namespace default happy-panda-wordpress --template &#34;{{ range (index .status.loadBalancer.ingress 0) }}{{.}}{{ end }}&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">   echo &#34;WordPress URL: http://$SERVICE_IP/&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">   echo &#34;WordPress Admin URL: http://$SERVICE_IP/admin&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#aaa"></span><span style="color:#a00;background-color:#faa">
</span></span></span><span style="display:flex;"><span><span style="color:#a00;background-color:#faa"></span><span style="color:#aaa">2. Open a browser and access WordPress using the obtained URL.
</span></span></span><span style="display:flex;"><span><span style="color:#aaa"></span><span style="color:#a00;background-color:#faa">
</span></span></span><span style="display:flex;"><span><span style="color:#a00;background-color:#faa"></span><span style="color:#aaa">3. Login with the following credentials below to see your blog:
</span></span></span><span style="display:flex;"><span><span style="color:#aaa"></span><span style="color:#a00;background-color:#faa">
</span></span></span><span style="display:flex;"><span><span style="color:#a00;background-color:#faa"></span><span style="color:#aaa">  echo Username: user
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">  echo Password: $(kubectl get secret --namespace default happy-panda-wordpress -o jsonpath=&#34;{.data.wordpress-password}&#34; | base64 --decode)
</span></span></span></code></pre></div><p>La commande ci-dessus montre l'état actuel de votre release.</p>
<h3 id="personnalisation-dun-chart-avant-son-installation">Personnalisation d'un chart avant son installation</h3>
<p>L'installation comme nous l'avons fait ici n'utilisera que les options de configuration par défaut. Il peut arriver que vous souhaitiez personnaliser le chart pour utiliser une
configuration personalisée.</p>
<p>Pour voir quelles options sont configurables sur un chart, utilisez <code>helm show values</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span><span style="color:#009;font-weight:bold">$</span> helm show values bitnami/wordpress
</span></span><span style="display:flex;"><span><span style="color:#009;font-weight:bold">#</span><span style="color:#09f;font-style:italic"># Global Docker image parameters</span>
</span></span><span style="display:flex;"><span><span style="color:#009;font-weight:bold">#</span><span style="color:#09f;font-style:italic"># Please, note that this will override the image parameters, including dependencies, configured to use the global value</span>
</span></span><span style="display:flex;"><span><span style="color:#009;font-weight:bold">#</span><span style="color:#09f;font-style:italic"># Current available global Docker image parameters: imageRegistry and imagePullSecrets</span>
</span></span><span style="display:flex;"><span><span style="color:#009;font-weight:bold">#</span><span style="color:#09f;font-style:italic">#</span>
</span></span><span style="display:flex;"><span><span style="color:#009;font-weight:bold">#</span> global:
</span></span><span style="display:flex;"><span><span style="color:#009;font-weight:bold">#</span>   imageRegistry: myRegistryName
</span></span><span style="display:flex;"><span><span style="color:#009;font-weight:bold">#</span>   imagePullSecrets:
</span></span><span style="display:flex;"><span><span style="color:#009;font-weight:bold">#</span>     - myRegistryKeySecretName
</span></span><span style="display:flex;"><span><span style="color:#009;font-weight:bold">#</span>   storageClass: myStorageClass
</span></span><span style="display:flex;"><span><span style="color:#a00;background-color:#faa">
</span></span></span><span style="display:flex;"><span><span style="color:#a00;background-color:#faa"></span><span style="color:#009;font-weight:bold">#</span><span style="color:#09f;font-style:italic"># Bitnami WordPress image version</span>
</span></span><span style="display:flex;"><span><span style="color:#009;font-weight:bold">#</span><span style="color:#09f;font-style:italic"># ref: https://hub.docker.com/r/bitnami/wordpress/tags/</span>
</span></span><span style="display:flex;"><span><span style="color:#009;font-weight:bold">#</span><span style="color:#09f;font-style:italic">#</span>
</span></span><span style="display:flex;"><span><span style="color:#aaa">image:
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">  registry: docker.io
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">  repository: bitnami/wordpress
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">  tag: 5.6.0-debian-10-r35
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">  [..]
</span></span></span></code></pre></div><p>Vous pouvez ensuite ecraser la configuration par défaut grâce à un fichier YAML que vous passerez en paramètre lors de l'installation.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span><span style="color:#009;font-weight:bold">$</span> <span style="color:#366">echo</span> <span style="color:#c30">&#39;{mariadb.auth.database: user0db, mariadb.auth.username: user0}&#39;</span> &gt; values.yaml
</span></span><span style="display:flex;"><span><span style="color:#009;font-weight:bold">$</span> helm install -f values.yaml bitnami/wordpress --generate-name
</span></span></code></pre></div><p>La commande ci-dessus créera un utilisateur MariaDB par défaut avec le nom <code>user0</code>, et accordera à cet utilisateur l'accès à la base de données <code>user0db</code> nouvellement créée, mais prendra le reste des valeurs par défaut pour l'installation du chart.</p>
<p>Il existe deux façons de transmettre les données de configuration lors de l'installation:</p>
<ul>
<li><code>--values</code> (ou <code>-f</code>): Spécifie un fichier YAML personnalisé. Vous pouvez spécifier plusieurs fichiers, celui le plus à droite prévaudra.</li>
<li><code>--set</code>: Spécifie une valeur personnalisée en ligne de commande.</li>
</ul>
<p>Si les deux paramètes sont utilisés, les valeurs de <code>--set</code> sont fusionnés dans <code> --values</code> avec une priorité plus élevée. Les remplacements spécifiés avec <code>--set</code> sont conservés dans un fichier ConfigMap.
Les valeurs qui ont été <code>--set</code> peuvent être visualisées pour une release donnée avec <code>helm get values &lt;nom-de-release&gt;</code>.
Les valeurs qui ont été <code>--set</code> peuvent être effacées en exécutant <code>helm upgrade</code> avec <code> --reset-values</code> spécifié.</p>
<h4 id="le-format-et-les-limites-de---set">Le format et les limites de <code>--set</code></h4>
<p>L'option <code>--set</code> prend zéro ou plusieurs paires de nom/valeur. La manière la plus simple d'utilisation est :<br>
<code>--set name = value</code>. L'équivalent YAML serait :</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#309;font-weight:bold">name</span>:<span style="color:#bbb"> </span>value<span style="color:#bbb">
</span></span></span></code></pre></div><p>Vous pouvez entrer plusieurs valeurs en les séparant par une virgule <code>,</code> . Ainsi <code>--set a=b,c=d</code> devient l'équivalent YAML de :</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#309;font-weight:bold">a</span>:<span style="color:#bbb"> </span>b<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">c</span>:<span style="color:#bbb"> </span>d<span style="color:#bbb">
</span></span></span></code></pre></div><p>Des expressions plus complexes sont acceptés. Par exemple l'équivalent de <code>--set outer.inner=value</code> en YAML est :</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#309;font-weight:bold">outer</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">inner</span>:<span style="color:#bbb"> </span>value<span style="color:#bbb">
</span></span></span></code></pre></div><p>Vous pouvez définir des listes grâce à des accolades <code>{</code> et <code>}</code>. Exemple: <code>--set name={a, b, c}</code> devient :</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#309;font-weight:bold">name</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>- a<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>- b<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>- c<span style="color:#bbb">
</span></span></span></code></pre></div><p>Depuis Helm 2.5.0, il est possible d'accéder aux éléments d'une liste en utilisant l'index du tableau.<br>
Exemple : <code>--set servers[0].port=80</code> correspond à :</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#309;font-weight:bold">servers</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>- <span style="color:#309;font-weight:bold">port</span>:<span style="color:#bbb"> </span><span style="color:#f60">80</span><span style="color:#bbb">
</span></span></span></code></pre></div><p>Plusieurs valeurs peuvent être définit de cette manière.<br>
La ligne suivante <code>--set servers[0].port=80,servers[0].host=example</code> devient:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#309;font-weight:bold">servers</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>- <span style="color:#309;font-weight:bold">port</span>:<span style="color:#bbb"> </span><span style="color:#f60">80</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">host</span>:<span style="color:#bbb"> </span>example<span style="color:#bbb">
</span></span></span></code></pre></div><p>Il peut arriver que vous ayez besoin d'utiliser un charactère spécial avec <code>--set</code>. Pour ce faire vous pouvez utiliser un backslash <code>\</code>.<br>
Exemple : <code>--set name=value1\,value2</code> devient :</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#309;font-weight:bold">name</span>:<span style="color:#bbb"> </span><span style="color:#c30">&#34;value1,value2&#34;</span><span style="color:#bbb">
</span></span></span></code></pre></div><p>De la même manière, vous pouvez l'utiliser pour une séquence commençant par un point, ce qui peut être utile lorsque les charts utilisent la fonction <code>toYaml</code> pour analyser les annotations, les étiquettes et les nœuds sélecteurs.<br>
La syntaxe de <code>--set nodeSelector.&quot; Kubernetes \ .io / role &quot;= master</code> devient:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#309;font-weight:bold">nodeSelector</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">kubernetes.io/role</span>:<span style="color:#bbb"> </span>master<span style="color:#bbb">
</span></span></span></code></pre></div><p>Les structures de données profondément imbriquées peuvent être difficiles à exprimer en utilisant <code>--set</code>. Les concepteurs de charts sont encouragés à utiliser un fichier de valeurs au format YAML : <code> values.yaml</code> lorsqu'il y a beaucoup de valeurs à configurer (en savoir plus sur 
<a href="/docs/chart_template_guide/values_files/">les fichiers de valeurs</a>).</p>
<h3 id="autres-methodes-dinstallations">Autres methodes d'installations</h3>
<p>La commande <code>helm install</code> peut installer un package depuis différentes sources:</p>
<ul>
<li>Un dépot de charts (Comme vu précédemment)</li>
<li>Une archive local d'un chart (<code>helm install foo foo-0.1.1.tgz</code>)</li>
<li>Un dossier contenant un chart décompressé (<code>helm install foo path/to/foo</code>)</li>
<li>Une URL pointant vers un chart (<code>helm install foo https://example.com/charts/foo-1.2.3.tgz</code>)</li>
</ul>
<h2 id="helm-upgrade-et-helm-rollback-mettre-à-jour-une-release-et-récupération-dun-echec">'helm upgrade' et 'helm rollback': Mettre à jour une Release, et récupération d'un Echec</h2>
<p>Lorsqu'une nouvelle release d'un chart est publiée, ou lorsque vous souhaitez modifier la configuration de votre release, vous pouvez utiliser la commande <code>helm upgrade</code>.</p>
<p>Une mise à niveau prend une release existante et la met à niveau en fonction des informations que vous fournissez. Étant donné que les charts Kubernetes peuvent être volumineuses et complexes, Helm essaie d'effectuer la mise à niveau la moins invasive. Ainsi il essaiera de mettre à jour uniquement les éléments qui ont changé depuis la dernière version.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span><span style="color:#009;font-weight:bold">$</span> helm upgrade -f panda.yaml happy-panda bitnami/wordpress
</span></span></code></pre></div><p>Dans le cas ci-dessus la release <code>happy-panda</code>  est mis à jour depuis la même chart mais avec un fichier de config YAML différent :</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#309;font-weight:bold">mariadb.auth.username</span>:<span style="color:#bbb"> </span>user1<span style="color:#bbb">
</span></span></span></code></pre></div><p>Vous pouvez utiliser <code>helm get values</code> si votre nouvelle configuration à pris effet ou non :</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span><span style="color:#009;font-weight:bold">$</span> helm get values happy-panda
</span></span><span style="display:flex;"><span><span style="color:#aaa">mariadb:
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">  auth:
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">    username: user1
</span></span></span></code></pre></div><p>La commande <code>helm get</code> est un outil utile pour voir les informations d'une release dans le cluster. Et comme nous venons de le voir ci-dessus, la commande peut également être utilisé pour voir si les nouvelles valeurs de <code>panda.yaml</code> sont bien déployés sur le cluster.</p>
<p>Maintenant admettons que quelque chose ne se passe pas comme prévu lors d'une release, il est facile de revenir à une version précédente en utilisant <code>helm rollback [RELEASE_NAME] [VERSION]</code>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span><span style="color:#009;font-weight:bold">$</span> helm rollback happy-panda <span style="color:#f60">1</span>
</span></span></code></pre></div><p>la commande précédente ramène notre happy-panda à sa toute première version. Une version de release est une révision incrémentielle. Chaque fois qu'une installation, qu'une mise à jour ou qu'une restauration est faite, le numéro de révision est incrémenté de 1. La première release est toujours la version numéro 1. Et vous pouvez utiliser <code>helm history [RELEASE]</code> voir les versions d'une release.</p>
<h2 id="options-utiles-pour-linstallation--la-mise-à-jour--la-restauration">Options utiles pour l'installation / la mise à jour / la restauration</h2>
<p>Il existe d'autres options utiles que vous pouvez spécifier pour personnaliser le comportement de Helm lors d'une installation / d'une mise à jour / d'une restauration. Veuillez noter que la liste qui suit n'est pas exhaustive. Pour voir une description de tous les flags, exécutez simplement <code>helm &lt;commande&gt; --help</code>.</p>
<ul>
<li><code>--timeout</code>: Une 
<a href="https://golang.org/pkg/time/#ParseDuration" target="_blank">durée Go</a> maximale avant de terminer la commande Kubernetes. La valeur par défaut est <code>5m0s</code>.</li>
<li><code>--wait</code>: Attend que tous les pods soient dans un état prêt, les PVCs sont liés, les déploiements ont un minimum (<code>Desired</code> moins <code> maxUnavailable</code>) de pods prêts et les services ont une adresse IP (et une entrée si il y a un <code>LoadBalancer</code>) avant de marquer la release comme réussie. Il attendra au maximum la valeur de <code>--timeout</code>. Si le délai d'expiration est atteint, la release sera marquée comme «FAILED». Remarque: dans les scénarios où le déploiement a <code>réplicas</code> défini sur 1 et <code> maxUnavailable</code> n'est pas défini à 0 dans le cadre de la stratégie de mise à jour progressive, <code>--wait</code> sera marqué comme prêt dès qu'il aura satisfait son nombre minimum de Pods en état prêt.</li>
<li><code>--no-hooks</code>: Permet d'ignorer l'exécution des hooks pour la commande</li>
<li><code>--recreate-pods</code> (seulement disponible pour les <code>upgrade</code> et les <code>rollback</code>): Ce flag permet de recréer tous les pods (à l'exception des pods de deploiements). (DEPRECIE depuis Helm 3)</li>
</ul>
<h2 id="helm-uninstall-désinstallation-dune-release">'helm uninstall': Désinstallation d'une Release</h2>
<p>Quand sera venu le jour ou vous devrez désinstaller une release de votre cluster, utilisez la commande <code>helm uninstall</code> :</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span><span style="color:#009;font-weight:bold">$</span> helm uninstall happy-panda
</span></span></code></pre></div><p>Cela supprimera la release du cluster. Vous pouvez voir toutes vos releases actuellement déployées avec la commande <code>helm list</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span><span style="color:#009;font-weight:bold">$</span> helm list
</span></span><span style="display:flex;"><span><span style="color:#aaa">NAME            VERSION UPDATED                         STATUS          CHART
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">inky-cat        1       Wed Sep 28 12:59:46 2016        DEPLOYED        alpine-0.1.0
</span></span></span></code></pre></div><p>À partir du résultat ci-dessus, nous pouvons voir que la version <code>happy-panda</code> a bien été désinstallé.</p>
<p>Dans les versions précédentes de Helm, lorsqu'une release était supprimée, l'historique entier restait disponible. Depuis Helm 3, la désinstallation supprime également l'historique de la release.
Si vous souhaitez tout de même conserver un enregistrement de l'historique, utilisez <code>helm uninstall --keep-history</code>.<br>
L'utilisation de <code>helm list --uninstalled</code> affichera uniquement les release qui ont été désinstallés avec l'indicateur <code>--keep-history</code>.</p>
<p>L'indicateur <code>helm list --all</code> vous montrera tous les historique de release que Helm a conservés, y compris les historiques des éléments ayant échoué ou ayant été supprimé (si <code>--keep-history</code> était spécifié):</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span><span style="color:#009;font-weight:bold">$</span>  helm list --all
</span></span><span style="display:flex;"><span><span style="color:#aaa">NAME            VERSION UPDATED                         STATUS          CHART
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">happy-panda     2       Wed Sep 28 12:47:54 2016        UNINSTALLED     wordpress-10.4.5.6.0
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">inky-cat        1       Wed Sep 28 12:59:46 2016        DEPLOYED        alpine-0.1.0
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">kindred-angelf  2       Tue Sep 27 16:16:10 2016        UNINSTALLED     alpine-0.1.0
</span></span></span></code></pre></div><p>Notez que les historiques de release étant désormais supprimées par défaut, il n'est plus possible de restaurer une ressource désinstallée.</p>
<h2 id="helm-repo-travailler-avec-des-dépôts">'helm repo': Travailler avec des Dépôts</h2>
<p>Helm 3 n'est plus livré avec un dépôt de charts par défaut. La commande <code>helm repo</code> vous permet entre autre d'ajouter, de répertorier et de supprimer des dépôts.</p>
<p>Vous pouvez voir quels dépôts sont configurés en utilisant <code>helm repo list</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span><span style="color:#009;font-weight:bold">$</span> helm repo list
</span></span><span style="display:flex;"><span><span style="color:#aaa">NAME            URL
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">stable          https://charts.helm.sh/stable
</span></span></span><span style="display:flex;"><span><span style="color:#aaa">mumoshu         https://mumoshu.github.io/charts
</span></span></span></code></pre></div><p>Vous pouvez bien entendu ajouter de nouveaux dépôts avec <code>helm repo add</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span><span style="color:#009;font-weight:bold">$</span> helm repo add dev https://example.com/dev-charts
</span></span></code></pre></div><p>Étant donné que les dépôts de charts changent fréquemment, vous pouvez à tout moment vous assurer que dépot Helm est à jour en exécutant <code>helm repo update</code>.</p>
<p>Les dépôts peuvent être supprimés avec <code>helm repo remove</code>.</p>
<h2 id="création-de-vos-propres-charts">Création de vos propres charts</h2>
<p>Le 
<a href="/docs/topics/charts/">Guide de développement de charts</a> explique comment développer vos propres charts. Mais vous pouvez vous lancer rapidement dans la création de charts avec la commande <code>helm create</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span><span style="color:#009;font-weight:bold">$</span> helm create deis-workflow
</span></span><span style="display:flex;"><span><span style="color:#aaa">Creating deis-workflow
</span></span></span></code></pre></div><p>Il y a maintenant un chart dans <code>./deis-workflow</code>. Vous pouvez le modifier et créer vôtre modèles personalisé.</p>
<p>Lorsque vous modifiez votre chart, vous pouvez vérifier la syntaxe en exécutant <code>helm lint</code>.</p>
<p>Quand vous aurez besoin de packager le chart pour la distribution, vous pourrez exécuter <code>helm package</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span><span style="color:#009;font-weight:bold">$</span> helm package deis-workflow
</span></span><span style="display:flex;"><span><span style="color:#aaa">deis-workflow-0.1.0.tgz
</span></span></span></code></pre></div><p>Le chart est maintenant prêt à l'installation <code>helm install</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span><span style="color:#009;font-weight:bold">$</span> helm install deis-workflow ./deis-workflow-0.1.0.tgz
</span></span><span style="display:flex;"><span><span style="color:#aaa">...
</span></span></span></code></pre></div><p>Les charts packagés peuvent être uploadés dans des dépôts. Jetez un oeil à la

<a href="https://helm.sh/docs/topics/chart_repository/">documentation des dépôts</a> de charts Helm pour plus de détails.</p>
<h2 id="conclusion">Conclusion</h2>
<p>Ce chapitre a couvert les utilisations de base du client <code>helm</code>, y compris la recherche, l'installation, la mise à jour et la désinstallation. Nous avons également vu les commandes utilitaires telles que <code>helm status</code>,<code> helm get</code> ou encore <code>helm repo</code>.</p>
<p>Pour plus d'informations sur ces commandes, consultez l'aide intégrée de Helm: <code>helm help</code>.</p>
<p>Dans le 
<a href="/docs/howto/charts_tips_and_tricks/">chapitre suivant</a>, nous verrons le processus de développement des charts.</p>


        <nav class="level prev-next">
          <div class="level-left level-item">
            
            <a class="" href="https://helm.sh/fr/docs/intro/install/" title="Utilisation de Helm">
              <small class="heading">Prev</small>
              <p class="title">← Installation de Helm</p>
            </a>
            
          </div>
          
          <div class="level-right level-item has-text-right">
            
          </div>
        </nav>
      </article>
    </section>
  </div>
</div>



<section class="container footer-links">
  <div class="columns clearfix">
    <dl class="column">
      <dt><a href="https://github.com/helm/helm">Helm Project</a></dt>
      <dd><a href="/blog">Blog</a></dd>
      <dd><a href="https://www.cncf.io/community/kubecon-cloudnativecon-events/">Events</a></dd>
      <dd><a href="/docs/intro/quickstart/">Quick Start Guide</a></dd>
      <dd><a href="https://github.com/cncf/foundation/blob/master/code-of-conduct.md">Code of Conduct</a></dd>
    </dl>

    <dl class="column">
      <dt><a href="https://hub.helm.sh">Charts</a></dt>
      <dd><a href="/docs/topics/charts/">Introduction</a></dd>
      <dd><a href="/docs/howto/charts_tips_and_tricks/">Chart tips &amp; tricks</a></dd>
      <dd><a href="/docs/chart_template_guide/">Developing Charts</a></dd>
      <dd><a href="https://hub.helm.sh">Search 800+ Charts</a> <i class="fa fa-external"></i></dd>
    </dl>

    <dl class="column">
      <dt><a href="https://github.com/helm/community/blob/main/communication.md">Development</a></dt>
      <dd><a href="https://kubernetes.slack.com/messages/C51E88VDG">#helm-dev</a> <em>(slack)</em></dd>
      <dd><a href="https://github.com/helm/helm/blob/main/CONTRIBUTING.md">Contribution Guide</a></dd>
      <dd><a href="https://github.com/helm/helm/blob/main/OWNERS">Maintainers</a></dd>
      <dd><a href="https://github.com/helm/community/blob/main/communication.md#meetings">Weekly Meetings</a></dd>
    </dl>

    <dl class="column">
      <dt><a href="https://github.com/helm/community">Community</a></dt>
      <dd><a href="https://kubernetes.slack.com/messages/C0NH30761" title="#helm-users on Slack">#helm-users</a> <em>(slack)</em></dd>
      <dd><a href="https://lists.cncf.io/g/cncf-helm/topics">Mailing List</a></dd>
      <dd><a href="https://github.com/cncf/artwork/tree/master/projects/helm">Logos</a> &amp; <a href="https://github.com/helm/community/tree/main/art">Art</a></dd>
      <dd><a href="https://twitter.com/helmpack">Twitter</a></dd>
    </dl>
  </div>

  <div class="columns has-text-left cncf-wrap">
    <div class="column is-two-thirds">
      <a href="https://www.cncf.io/" title="Cloud Native Computing Foundation" target="_blank">
        <p class="lead">Nous sommes un projet diplômé de la Cloud Native Computing Foundation.</p>
      </a>
    </div>

    <div class="column is-one-third has-text-right">
      <a href="https://www.cncf.io/" title="Cloud Native Computing Foundation" target="_blank">
        <img src="/img/cncf-white.svg" alt="We are a Cloud Native Computing Foundation project" class="">
      </a>
    </div>
  </div>

  <hr />

  <div class="copyright">
    <p>
      &copy; Helm Authors 2024 | Documentation distributed under <a href="https://creativecommons.org/licenses/by/4.0">CC-BY-4.0</a>
    </p>

    <p>
      &copy; 2024 The Linux Foundation. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href="https://www.linuxfoundation.org/trademark-usage/">Trademark Usage</a> page.
    </p>
  </div>
</section>



    
    

    











































<script src="/js/jquery.min.91911616059b1420d1a7e93cdb684177d9a8bcef473731743e5f72a796662698.js" integrity="sha256-kZEWFgWbFCDRp&#43;k822hBd9movO9HNzF0Pl9yp5ZmJpg="></script>




<script src="/js/bundle.min.019ebc0ad20ee895d8c4abd8ac9285f0dff63d29231c6ace4e5d022ea590e038.js" integrity="sha256-AZ68CtIO6JXYxKvYrJKF8N/2PSkjHGrOTl0CLqWQ4Dg="></script>



<script async src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js" onload="docsearch({
  apiKey: '8bca76b0664b04581dc9f9854e844a90',
  indexName: 'helm',
  inputSelector: '#q',
  debug: false // Set debug to true if you want to inspect the dropdown
  })"></script>


    
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42867143-2', 'auto');
  ga('send', 'pageview');
</script>

  </body>
</html>
