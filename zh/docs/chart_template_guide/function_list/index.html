



<!DOCTYPE html>
<html lang="zh">
  <head>
    <title>
      
Helm | 模板函数列表

    </title>

    







<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width,initial-scale=1.0">


<meta name="description" content="Helm中模板函数变量的列表">


<meta property="og:title" content="模板函数列表">
<meta property="og:title" content="模板函数列表">
<meta property="og:url" content="https://zou-zongming.github.io/zh/docs/chart_template_guide/function_list/">
<meta property="og:description" content="Helm中模板函数变量的列表" />

<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://zou-zongming.github.io/img/og-image.png">
<meta name="twitter:title" content="Helm | 模板函数列表">
<meta name="twitter:description" content="Helm中模板函数变量的列表">

<meta name="google-site-verification" content="dCa3wS47cErhx0IpaxbB85NfcOP-vFxevknVk6fzf5I">

<link rel="icon" href="https://zou-zongming.github.io/img/favicon-152.png" type="image/x-icon">
<link rel="apple-touch-icon-precomposed" href="https://zou-zongming.github.io/img/apple-touch-icon-precomposed.png">














<link rel="stylesheet" href="https://zou-zongming.github.io/css/style.bb9a3f16cd8b057bc29c79565ae0d4a0d40d2088a9939d614209a479d640b7bb.css" integrity="sha256-u5o/Fs2LBXvCnHlWWuDUoNQNIIipk51hQgmkedZAt7s=">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />





  </head>

  
    <body id="landing" class="zh"></body>
  
    

<div id="helm" class="page-docs page-wrapper page-docs-list">
  <header>
    
    



<nav class="navbar navbar-top" role="navigation" aria-label="main navigation">
  <div class="container is-fluid is-vcentered">
    <div class="navbar-brand">
      <a href="https://zou-zongming.github.io/">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 304 351"><title>Helm</title>
<mask id="a" fill="#fff">
<path d="m0 0h313.303155v159.864865h-313.303155z" fill="#fff" fill-rule="evenodd"/>
</mask>
<mask id="b" fill="#fff">
<path d="m0 0h313.303155v159.864865h-313.303155z" fill="#fff" fill-rule="evenodd"/>
</mask>
<g fill="none" fill-rule="evenodd" transform="translate(-11 -51)">
<path d="m11.6785714 189h19.7858357v26.789h23.9037v-26.789h19.7858358v75.25h-19.7858358v-28.695333h-23.9037v28.695333h-19.7858357zm86.1738429 75.25v-75.25h46.8030427v16.354333h-27.017207v12.240667h23.9037v16.655333h-23.9037v13.846h27.017207v16.153667zm68.4971567 0v-75.25h19.785836v55.384h27.117643v19.866zm77.536372-75.25 30.733328 27.892667 30.632893-27.892667h8.938779v75.25h-19.886272v-38.628333l-19.6854 17.959666-19.785835-17.859333v38.528h-19.886272v-75.25z" fill="#0f1689"/>
<g transform="matrix(1 0 0 -1 11.958136 455)">
<g fill="#0f1689" mask="url(#a)">
<path d="m203.460676 95.6875425c6.93631 0 12.559301-14.8092194 12.559301-33.0773172s-5.622991-33.0773172-12.559301-33.0773172c-6.936311 0-12.559301 14.8092194-12.559301 33.0773172s5.62299 33.0773172 12.559301 33.0773172z" transform="matrix(.81915204 .57357644 -.57357644 .81915204 111.870091 -51.706556)"/>
<path d="m30.1423223 95.6875425c6.9363104 0 12.559301-14.8092194 12.559301-33.0773172s-5.6229906-33.0773172-12.559301-33.0773172-12.5593009 14.8092194-12.5593009 33.0773172 5.6229905 33.0773172 12.5593009 33.0773172z" transform="matrix(-.81915204 .57357644 .57357644 .81915204 58.084611 47.704768)"/>
<path d="m116.732815 66.2752676c6.936311 0 12.559301-14.8092193 12.559301-33.0773172 0-18.2680978-5.62299-33.07731713-12.559301-33.07731713-6.93631 0-12.559301 14.80921933-12.559301 33.07731713 0 18.2680979 5.622991 33.0773172 12.559301 33.0773172z" transform="matrix(-1 0 0 1 272.628524 53.670762)"/>
</g>
<path d="m251.467006 173.099849c-20.230076-33.609969-56.889565-56.067908-98.755776-56.067908-40.720798 0-76.5158766 21.245901-97.0586959 53.334588m2.1981107 129.169534c20.8403036 30.232701 55.5559042 50.026591 94.8605852 50.026591 39.376099 0 74.146424-19.865887 94.974049-50.191495" mask="url(#a)" stroke="#0f1689" stroke-width="20"/>
</g>
<g transform="translate(11.958136)">
<g fill="#0f1689" mask="url(#b)">
<path d="m203.460676 95.6875425c6.93631 0 12.559301-14.8092194 12.559301-33.0773172s-5.622991-33.0773172-12.559301-33.0773172c-6.936311 0-12.559301 14.8092194-12.559301 33.0773172s5.62299 33.0773172 12.559301 33.0773172z" transform="matrix(.81915204 .57357644 -.57357644 .81915204 111.870091 -54.166016)"/>
<path d="m30.1423223 95.6875425c6.9363104 0 12.559301-14.8092194 12.559301-33.0773172s-5.6229906-33.0773172-12.559301-33.0773172-12.5593009 14.8092194-12.5593009 33.0773172 5.6229905 33.0773172 12.5593009 33.0773172z" transform="matrix(-.81915204 .57357644 .57357644 .81915204 58.084611 45.245308)"/>
<path d="m116.732815 66.2752676c6.936311 0 12.559301-14.8092193 12.559301-33.0773172 0-18.2680978-5.62299-33.07731713-12.559301-33.07731713-6.93631 0-12.559301 14.80921933-12.559301 33.07731713 0 18.2680979 5.622991 33.0773172 12.559301 33.0773172z" transform="matrix(-1 0 0 1 272.628524 51.211302)"/>
</g>
<path d="m251.467006 170.64039c-20.230076-33.609969-56.889565-56.067908-98.755776-56.067908-40.720798 0-76.5158766 21.2459-97.0586959 53.334587m2.1981107 129.169534c20.8403036 30.232702 55.5559042 50.026591 94.8605852 50.026591 39.376099 0 74.146424-19.865886 94.974049-50.191494" mask="url(#b)" stroke="#0f1689" stroke-width="20"/>
</g>
</g>
</svg>
      </a>
    </div>

    
    <div class="navbar-menu is-centered" id="navMenuDocumentation">
      
        
          <a href="https://zou-zongming.github.io/zh/" class="navbar-item">
            首页
          </a>
        
      
        
          <a href="https://zou-zongming.github.io/zh/docs" class="navbar-item">
            文档
          </a>
        
      
        
          <a href="https://hub.helm.sh/" class="navbar-item external" target="_blank">
            应用中心 <span class="icon"><i class="mdi mdi-open-in-new"></i></span>
          </a>
        
      
        
          <a href="https://helm.sh/blog" class="navbar-item external" target="_blank">
            博客 <span class="icon"><i class="mdi mdi-open-in-new"></i></span>
          </a>
        
      
        
          <a href="https://github.com/helm/community" class="navbar-item external" target="_blank">
            社区 <span class="icon"><i class="mdi mdi-open-in-new"></i></span>
          </a>
        
      
    </div>

    <div class="navbar-end is-hidden-mobile">
      <ul class="is-pulled-right">
        





  <li class="versioner l18ner navbar-item has-dropdown is-right is-hoverable">
    <a data-dropdown="drop1" aria-controls="drop1" aria-expanded="false" class="versioner-trigger navbar-link">
      中文 <i class="fa fa-caret-down"></i>
    </a>

    <ul id="drop1" class="navbar-dropdown dropdown-menu f-dropdown" data-dropdown-content aria-hidden="true" tabindex="-1">
      
      
      
          
          
              
                
                
                    <li class="navbar-item"><a href="https://zou-zongming.github.io/docs/chart_template_guide/function_list/"><code>en</code> &nbsp; English</a></li>
                
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
      
          
          
              

            
              

            
              

            
              

            
              

            
              

            
              
                
                
                    <li class="navbar-item"><a href="https://zou-zongming.github.io/ko/docs/chart_template_guide/function_list/"><code>ko</code> &nbsp; 한국어</a></li>
                
              

            
              

            
              

            
              

            
      
          
          
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              
                
                
                    <li class="navbar-item"><a href="https://zou-zongming.github.io/zh/docs/chart_template_guide/function_list/" class="active"><code>zh</code> &nbsp; 中文</a></li>
                
              

            
      
      <li class="navbar-item l18n-prompt"><a href="https://github.com/helm/helm-www#internationalization--translation"><small>翻译这个页面</small></a></li>
    </ul>
  </li>
  

        




  <li class="versioner navbar-item has-dropdown is-right is-hoverable">
    
    <a data-dropdown="drop1" aria-controls="drop1" aria-expanded="false" class="versioner-trigger navbar-link">
      v3.13.0 <i class="fa fa-caret-down"></i>
    </a>
    

    <ul id="drop1" class="navbar-dropdown dropdown-menu f-dropdown" data-dropdown-content aria-hidden="true" tabindex="-1">
      
      <li>
        <a href="https://helm.sh/docs" class="navbar-item">
          v3.13.0 <em>stable</em>
        </a>
      </li>
      
      <li>
        <a href="https://v2.helm.sh/docs" class="navbar-item">
          v2.17.0
        </a>
      </li>
      
    </ul>
  </li>

        <li class="">
          <a class="button not-fixed is-outlined" href="https://zou-zongming.github.io/zh/docs/intro/quickstart">从这里开始</a>
        </li>
      </ul>
    </div>

    
    <div class="navbar-end is-hidden-tablet">
      <div id="navbarBurger" class="navbar-burger burger" data-target="navMenuDocumentation">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </div>
</nav>

    



<nav class="navbar navbar-top navbar-top-fixed" role="navigation" aria-label="main navigation">
  <div class="container is-fluid">
    
    <div class="navbar-brand">
      <a href="https://zou-zongming.github.io/">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 304 351"><title>Helm</title>
<mask id="a" fill="#fff">
<path d="m0 0h313.303155v159.864865h-313.303155z" fill="#fff" fill-rule="evenodd"/>
</mask>
<mask id="b" fill="#fff">
<path d="m0 0h313.303155v159.864865h-313.303155z" fill="#fff" fill-rule="evenodd"/>
</mask>
<g fill="none" fill-rule="evenodd" transform="translate(-11 -51)">
<path d="m11.6785714 189h19.7858357v26.789h23.9037v-26.789h19.7858358v75.25h-19.7858358v-28.695333h-23.9037v28.695333h-19.7858357zm86.1738429 75.25v-75.25h46.8030427v16.354333h-27.017207v12.240667h23.9037v16.655333h-23.9037v13.846h27.017207v16.153667zm68.4971567 0v-75.25h19.785836v55.384h27.117643v19.866zm77.536372-75.25 30.733328 27.892667 30.632893-27.892667h8.938779v75.25h-19.886272v-38.628333l-19.6854 17.959666-19.785835-17.859333v38.528h-19.886272v-75.25z" fill="#0f1689"/>
<g transform="matrix(1 0 0 -1 11.958136 455)">
<g fill="#0f1689" mask="url(#a)">
<path d="m203.460676 95.6875425c6.93631 0 12.559301-14.8092194 12.559301-33.0773172s-5.622991-33.0773172-12.559301-33.0773172c-6.936311 0-12.559301 14.8092194-12.559301 33.0773172s5.62299 33.0773172 12.559301 33.0773172z" transform="matrix(.81915204 .57357644 -.57357644 .81915204 111.870091 -51.706556)"/>
<path d="m30.1423223 95.6875425c6.9363104 0 12.559301-14.8092194 12.559301-33.0773172s-5.6229906-33.0773172-12.559301-33.0773172-12.5593009 14.8092194-12.5593009 33.0773172 5.6229905 33.0773172 12.5593009 33.0773172z" transform="matrix(-.81915204 .57357644 .57357644 .81915204 58.084611 47.704768)"/>
<path d="m116.732815 66.2752676c6.936311 0 12.559301-14.8092193 12.559301-33.0773172 0-18.2680978-5.62299-33.07731713-12.559301-33.07731713-6.93631 0-12.559301 14.80921933-12.559301 33.07731713 0 18.2680979 5.622991 33.0773172 12.559301 33.0773172z" transform="matrix(-1 0 0 1 272.628524 53.670762)"/>
</g>
<path d="m251.467006 173.099849c-20.230076-33.609969-56.889565-56.067908-98.755776-56.067908-40.720798 0-76.5158766 21.245901-97.0586959 53.334588m2.1981107 129.169534c20.8403036 30.232701 55.5559042 50.026591 94.8605852 50.026591 39.376099 0 74.146424-19.865887 94.974049-50.191495" mask="url(#a)" stroke="#0f1689" stroke-width="20"/>
</g>
<g transform="translate(11.958136)">
<g fill="#0f1689" mask="url(#b)">
<path d="m203.460676 95.6875425c6.93631 0 12.559301-14.8092194 12.559301-33.0773172s-5.622991-33.0773172-12.559301-33.0773172c-6.936311 0-12.559301 14.8092194-12.559301 33.0773172s5.62299 33.0773172 12.559301 33.0773172z" transform="matrix(.81915204 .57357644 -.57357644 .81915204 111.870091 -54.166016)"/>
<path d="m30.1423223 95.6875425c6.9363104 0 12.559301-14.8092194 12.559301-33.0773172s-5.6229906-33.0773172-12.559301-33.0773172-12.5593009 14.8092194-12.5593009 33.0773172 5.6229905 33.0773172 12.5593009 33.0773172z" transform="matrix(-.81915204 .57357644 .57357644 .81915204 58.084611 45.245308)"/>
<path d="m116.732815 66.2752676c6.936311 0 12.559301-14.8092193 12.559301-33.0773172 0-18.2680978-5.62299-33.07731713-12.559301-33.07731713-6.93631 0-12.559301 14.80921933-12.559301 33.07731713 0 18.2680979 5.622991 33.0773172 12.559301 33.0773172z" transform="matrix(-1 0 0 1 272.628524 51.211302)"/>
</g>
<path d="m251.467006 170.64039c-20.230076-33.609969-56.889565-56.067908-98.755776-56.067908-40.720798 0-76.5158766 21.2459-97.0586959 53.334587m2.1981107 129.169534c20.8403036 30.232702 55.5559042 50.026591 94.8605852 50.026591 39.376099 0 74.146424-19.865886 94.974049-50.191494" mask="url(#b)" stroke="#0f1689" stroke-width="20"/>
</g>
</g>
</svg>
      </a>
    </div>

    
    <div class="navbar-menu is-centered" id="navMenuDocumentation">
      
        
          <a href="https://zou-zongming.github.io/zh/" class="navbar-item">
            首页
          </a>
        
      
        
          <a href="https://zou-zongming.github.io/zh/docs" class="navbar-item">
            文档
          </a>
        
      
        
          <a href="https://hub.helm.sh/" class
          ="navbar-item external" target="_blank">
            应用中心 <span class="icon"><i class="mdi mdi-open-in-new"></i></span>
          </a>
        
      
        
          <a href="https://helm.sh/blog" class
          ="navbar-item external" target="_blank">
            博客 <span class="icon"><i class="mdi mdi-open-in-new"></i></span>
          </a>
        
      
        
          <a href="https://github.com/helm/community" class
          ="navbar-item external" target="_blank">
            社区 <span class="icon"><i class="mdi mdi-open-in-new"></i></span>
          </a>
        
      
    </div>

    <div class="navbar-end is-hidden-mobile">
      <ul class="is-pulled-right">
        





  <li class="versioner l18ner navbar-item has-dropdown is-right is-hoverable">
    <a data-dropdown="drop1" aria-controls="drop1" aria-expanded="false" class="versioner-trigger navbar-link">
      中文 <i class="fa fa-caret-down"></i>
    </a>

    <ul id="drop1" class="navbar-dropdown dropdown-menu f-dropdown" data-dropdown-content aria-hidden="true" tabindex="-1">
      
      
      
          
          
              
                
                
                    <li class="navbar-item"><a href="https://zou-zongming.github.io/docs/chart_template_guide/function_list/"><code>en</code> &nbsp; English</a></li>
                
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
      
          
          
              

            
              

            
              

            
              

            
              

            
              

            
              
                
                
                    <li class="navbar-item"><a href="https://zou-zongming.github.io/ko/docs/chart_template_guide/function_list/"><code>ko</code> &nbsp; 한국어</a></li>
                
              

            
              

            
              

            
              

            
      
          
          
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              

            
              
                
                
                    <li class="navbar-item"><a href="https://zou-zongming.github.io/zh/docs/chart_template_guide/function_list/" class="active"><code>zh</code> &nbsp; 中文</a></li>
                
              

            
      
      <li class="navbar-item l18n-prompt"><a href="https://github.com/helm/helm-www#internationalization--translation"><small>翻译这个页面</small></a></li>
    </ul>
  </li>
  

        




  <li class="versioner navbar-item has-dropdown is-right is-hoverable">
    
    <a data-dropdown="drop1" aria-controls="drop1" aria-expanded="false" class="versioner-trigger navbar-link">
      v3.13.0 <i class="fa fa-caret-down"></i>
    </a>
    

    <ul id="drop1" class="navbar-dropdown dropdown-menu f-dropdown" data-dropdown-content aria-hidden="true" tabindex="-1">
      
      <li>
        <a href="https://helm.sh/docs" class="navbar-item">
          v3.13.0 <em>stable</em>
        </a>
      </li>
      
      <li>
        <a href="https://v2.helm.sh/docs" class="navbar-item">
          v2.17.0
        </a>
      </li>
      
    </ul>
  </li>

        <li>
          <a class="button not-fixed is-outlined" href="https://zou-zongming.github.io/zh/docs/intro/quickstart">从这里开始</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

  </header>

  <div class="columns" id="helm">
    <aside class="column is-narrow is-gapless sidebar-wrapper">
      

<input type="checkbox" class="hamburger-trigger" />
<small class="hamburger">
  <span></span>
  <span></span>
  <span></span>
</small>

<div class="sidebar">
  <div class="is-visible-mobile is-hidden-tablet" id="sidebar-toggle">Browse Docs <span class="icon"><i class="mdi mdi-arrow-down"></i></span></div>

  <div class="sidebar-content-wrapper">
    <div class="search-container">
      <input id="q" placeholder="Search..." autofocus>
      <span class="icon"><i class="mdi mdi-magnify"></i></span>
    </div>

    
    <nav class="sidebar-nav">

      <ul class="current sidebar-main">
        <li class="sidebar-nav-item toctree-l1">
          <a class="reference internal" href="https://zou-zongming.github.io/zh/docs/" state="">
            <span class="ripple">
              文档首页
            </span>
          </a>
        </li>

        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
              <li class="sidebar-nav-item toctree-l1">
  <a class="reference internal" href="https://zou-zongming.github.io/zh/docs/intro/">
    <span class="ripple">
      介绍
    </span>
  </a>

  
  <ul class="current">
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/intro/quickstart/" title="Switch to 快速入门指南">
        快速入门指南
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/intro/install/" title="Switch to 安装Helm">
        安装Helm
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/intro/using_helm/" title="Switch to 使用Helm">
        使用Helm
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/intro/cheatsheet/" title="Switch to ">
        
      </a>
    </li>
    
  </ul>
  
</li>

            
          
            
              <li class="sidebar-nav-item toctree-l1">
  <a class="reference internal" href="https://zou-zongming.github.io/zh/docs/howto/">
    <span class="ripple">
      如何使用
    </span>
  </a>

  
  <ul class="current">
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/howto/charts_tips_and_tricks/" title="Switch to chart开发提示和技巧">
        chart开发提示和技巧
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/howto/chart_repository_sync_example/" title="Switch to 同步你的Chart仓库">
        同步你的Chart仓库
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/howto/chart_releaser_action/" title="Switch to Chart发布操作用以自动化GitHub的页面Chart">
        Chart发布操作用以自动化GitHub的页面Chart
      </a>
    </li>
    
  </ul>
  
</li>

            
          
            
              <li class="sidebar-nav-item toctree-l1">
  <a class="reference internal" href="https://zou-zongming.github.io/zh/docs/topics/">
    <span class="ripple">
      主题
    </span>
  </a>

  
  <ul class="current">
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/topics/charts/" title="Switch to Chart">
        Chart
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/topics/charts_hooks/" title="Switch to Chart Hook">
        Chart Hook
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/topics/chart_tests/" title="Switch to Chart Test">
        Chart Test
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/topics/library_charts/" title="Switch to 库类型Chart">
        库类型Chart
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/topics/provenance/" title="Switch to Helm来源和完整性">
        Helm来源和完整性
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/topics/chart_repository/" title="Switch to Chart仓库指南">
        Chart仓库指南
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/topics/registries/" title="Switch to 使用基于OCI的注册中心">
        使用基于OCI的注册中心
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/topics/architecture/" title="Switch to Helm 架构">
        Helm 架构
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/topics/advanced/" title="Switch to Helm高级技术">
        Helm高级技术
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/topics/kubernetes_distros/" title="Switch to Kubernetes分发指南">
        Kubernetes分发指南
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/topics/rbac/" title="Switch to 基于角色的访问控制">
        基于角色的访问控制
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/topics/plugins/" title="Switch to Helm插件指南">
        Helm插件指南
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/topics/v2_v3_migration/" title="Switch to Helm v2 迁移到 v3">
        Helm v2 迁移到 v3
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/topics/version_skew/" title="Switch to Helm版本支持策略">
        Helm版本支持策略
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/topics/permissions_sql_storage_backend/" title="Switch to SQL存储后端的权限管理">
        SQL存储后端的权限管理
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/topics/release_policy/" title="Switch to 发布计划策略">
        发布计划策略
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/topics/kubernetes_apis/" title="Switch to 弃用的 Kubernetes API">
        弃用的 Kubernetes API
      </a>
    </li>
    
  </ul>
  
</li>

            
          
            
              <li class="sidebar-nav-item toctree-l1">
  <a class="reference internal" href="https://zou-zongming.github.io/zh/docs/chart_best_practices/">
    <span class="ripple">
      最佳实践
    </span>
  </a>

  
  <ul class="current">
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/chart_best_practices/conventions/" title="Switch to 一般惯例">
        一般惯例
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/chart_best_practices/values/" title="Switch to values">
        values
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/chart_best_practices/templates/" title="Switch to 模板">
        模板
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/chart_best_practices/dependencies/" title="Switch to 依赖">
        依赖
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/chart_best_practices/labels/" title="Switch to 标签和注释">
        标签和注释
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/chart_best_practices/pods/" title="Switch to pod和pod模板">
        pod和pod模板
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/chart_best_practices/custom_resource_definitions/" title="Switch to 自定义资源">
        自定义资源
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/chart_best_practices/rbac/" title="Switch to 基于角色的访问控制">
        基于角色的访问控制
      </a>
    </li>
    
  </ul>
  
</li>

            
          
            
              <li class="sidebar-nav-item toctree-l1">
  <a class="reference internal" href="https://zou-zongming.github.io/zh/docs/chart_template_guide/">
    <span class="ripple">
      Chart 模板指南
    </span>
  </a>

  
  <ul class="current">
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/chart_template_guide/getting_started/" title="Switch to 从这里开始吧">
        从这里开始吧
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/chart_template_guide/builtin_objects/" title="Switch to 内置对象">
        内置对象
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/chart_template_guide/values_files/" title="Switch to Values 文件">
        Values 文件
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/chart_template_guide/functions_and_pipelines/" title="Switch to 模板函数和流水线">
        模板函数和流水线
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/chart_template_guide/function_list/" title="Switch to 模板函数列表">
        模板函数列表
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/chart_template_guide/control_structures/" title="Switch to 流控制">
        流控制
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/chart_template_guide/variables/" title="Switch to 变量">
        变量
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/chart_template_guide/named_templates/" title="Switch to 命名模板">
        命名模板
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/chart_template_guide/accessing_files/" title="Switch to 在模板内部访问文件">
        在模板内部访问文件
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/chart_template_guide/notes_files/" title="Switch to 创建一个NOTES.txt文件">
        创建一个NOTES.txt文件
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/chart_template_guide/subcharts_and_globals/" title="Switch to 子chart和全局值">
        子chart和全局值
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/chart_template_guide/helm_ignore_file/" title="Switch to .helmignore 文件">
        .helmignore 文件
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/chart_template_guide/debugging/" title="Switch to 调试模板">
        调试模板
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/chart_template_guide/wrapping_up/" title="Switch to 下一步">
        下一步
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/chart_template_guide/yaml_techniques/" title="Switch to 附录： YAML技术">
        附录： YAML技术
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/chart_template_guide/data_types/" title="Switch to 附录：Go 数据类型和模板">
        附录：Go 数据类型和模板
      </a>
    </li>
    
  </ul>
  
</li>

            
          
            
              <li class="sidebar-nav-item toctree-l1">
  <a class="reference internal" href="https://zou-zongming.github.io/zh/docs/helm/">
    <span class="ripple">
      Helm 命令行
    </span>
  </a>

  
  <ul class="current">
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_delete/" title="Switch to ">
        
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_init/" title="Switch to ">
        
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_inspect/" title="Switch to ">
        
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm/" title="Switch to Helm">
        Helm
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_install/" title="Switch to Helm 安装">
        Helm 安装
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_version/" title="Switch to Helm 版本">
        Helm 版本
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_package/" title="Switch to Helm 包">
        Helm 包
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_env/" title="Switch to Helm 变量">
        Helm 变量
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_completion/" title="Switch to Helm 补全">
        Helm 补全
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_repo/" title="Switch to Helm 仓库">
        Helm 仓库
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_repo_update/" title="Switch to Helm 仓库更新">
        Helm 仓库更新
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_repo_list/" title="Switch to Helm 仓库列表">
        Helm 仓库列表
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_repo_index/" title="Switch to Helm 仓库索引">
        Helm 仓库索引
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_test/" title="Switch to Helm 测试">
        Helm 测试
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_plugin/" title="Switch to Helm 插件">
        Helm 插件
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_plugin_install/" title="Switch to Helm 插件安装">
        Helm 插件安装
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_plugin_list/" title="Switch to Helm 插件列表">
        Helm 插件列表
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_plugin_update/" title="Switch to Helm 插件升级">
        Helm 插件升级
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_plugin_uninstall/" title="Switch to Helm 插件卸载">
        Helm 插件卸载
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_rollback/" title="Switch to Helm 回滚">
        Helm 回滚
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_get_hooks/" title="Switch to Helm 获取钩子">
        Helm 获取钩子
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_get/" title="Switch to Helm 获取扩展">
        Helm 获取扩展
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_get_manifest/" title="Switch to Helm 获取清单">
        Helm 获取清单
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_get_all/" title="Switch to Helm 获取所有">
        Helm 获取所有
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_get_notes/" title="Switch to Helm 获取注释">
        Helm 获取注释
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_pull/" title="Switch to Helm 拉取">
        Helm 拉取
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_history/" title="Switch to Helm 历史">
        Helm 历史
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_list/" title="Switch to Helm 列表">
        Helm 列表
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_template/" title="Switch to Helm 模板">
        Helm 模板
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_repo_remove/" title="Switch to Helm 删除仓库">
        Helm 删除仓库
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_upgrade/" title="Switch to Helm 升级">
        Helm 升级
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_search/" title="Switch to Helm 搜索">
        Helm 搜索
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_search_hub/" title="Switch to Helm 搜索hub">
        Helm 搜索hub
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_search_repo/" title="Switch to Helm 搜索仓库">
        Helm 搜索仓库
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_repo_add/" title="Switch to Helm 添加仓库">
        Helm 添加仓库
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_push/" title="Switch to Helm 推送">
        Helm 推送
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_uninstall/" title="Switch to Helm 卸载">
        Helm 卸载
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_lint/" title="Switch to Helm 验证">
        Helm 验证
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_verify/" title="Switch to Helm 验证">
        Helm 验证
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_dependency/" title="Switch to Helm 依赖">
        Helm 依赖
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_dependency_list/" title="Switch to Helm 依赖列表">
        Helm 依赖列表
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_show/" title="Switch to Helm 展示">
        Helm 展示
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_show_chart/" title="Switch to Helm 展示chart">
        Helm 展示chart
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_show_crds/" title="Switch to Helm 展示Crd">
        Helm 展示Crd
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_show_readme/" title="Switch to Helm 展示readme">
        Helm 展示readme
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_show_values/" title="Switch to Helm 展示value">
        Helm 展示value
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_show_all/" title="Switch to Helm 展示所有">
        Helm 展示所有
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_registry/" title="Switch to Helm 注册表">
        Helm 注册表
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_registry_logout/" title="Switch to Helm 注册表登出">
        Helm 注册表登出
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_registry_login/" title="Switch to Helm 注册表登录">
        Helm 注册表登录
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_status/" title="Switch to Helm 状态">
        Helm 状态
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_completion_bash/" title="Switch to Helm补全 - bash">
        Helm补全 - bash
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_completion_fish/" title="Switch to Helm补全 - fish">
        Helm补全 - fish
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_completion_powershell/" title="Switch to Helm补全 - Powershell">
        Helm补全 - Powershell
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_completion_zsh/" title="Switch to Helm补全 - zsh">
        Helm补全 - zsh
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_create/" title="Switch to Helm创建">
        Helm创建
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_get_values/" title="Switch to Helm获取Values">
        Helm获取Values
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_dependency_build/" title="Switch to Helm依赖构建">
        Helm依赖构建
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/helm/helm_dependency_update/" title="Switch to Helm依赖升级">
        Helm依赖升级
      </a>
    </li>
    
  </ul>
  
</li>

            
          
            
              <li class="sidebar-nav-item toctree-l1">
  <a class="reference internal" href="https://zou-zongming.github.io/zh/docs/community/">
    <span class="ripple">
      社区
    </span>
  </a>

  
  <ul class="current">
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/community/developers/" title="Switch to 开发者指南">
        开发者指南
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/community/release_checklist/" title="Switch to 版本 Checklist">
        版本 Checklist
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/community/related/" title="Switch to 相关项目及文档">
        相关项目及文档
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/community/history/" title="Switch to 项目历史">
        项目历史
      </a>
    </li>
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/community/localization/" title="Switch to 本地化Helm文档">
        本地化Helm文档
      </a>
    </li>
    
  </ul>
  
</li>

            
          
            
              <li class="sidebar-nav-item toctree-l1">
  <a class="reference internal" href="https://zou-zongming.github.io/zh/docs/faq/">
    <span class="ripple">
      常见问答(FAQ)
    </span>
  </a>

  
</li>

            
          
            
              <li class="sidebar-nav-item toctree-l1">
  <a class="reference internal" href="https://zou-zongming.github.io/zh/docs/glossary/">
    <span class="ripple">
      术语表
    </span>
  </a>

  
</li>

            
          
            
              <li class="sidebar-nav-item toctree-l1">
  <a class="reference internal" href="https://zou-zongming.github.io/zh/docs/example/">
    <span class="ripple">
      集成开发
    </span>
  </a>

  
  <ul class="current">
    
    <li class="toctree-12">
      <a href="https://zou-zongming.github.io/zh/docs/example/golang/" title="Switch to ">
        
      </a>
    </li>
    
  </ul>
  
</li>

            
          
        

      </ul>
    </nav>

    <aside class="sidebar-buttons is-hidden-mobile">
      <div class="button-wrap">
        <a href="https://github.com/helm/helm-www#contributing" class="button is-outline is-fullwidth">Contribute to Docs</a>
      </div>
    </aside>
  </div>
</div>
    </aside>
    
    <section class="column content-docs">
      <article class="content-wrapper">
        <h1>模板函数列表</h1>
        
        <p>Helm 包含了很多可以在模板中利用的模板函数。以下列出了具体分类：</p>
<ul>
<li>
<a href="#cryptographic-and-security-functions">Cryptographic and Security</a></li>
<li>
<a href="#date-functions">Date</a></li>
<li>
<a href="#dictionaries-and-dict-functions">Dictionaries</a></li>
<li>
<a href="#encoding-functions">Encoding</a></li>
<li>
<a href="#file-path-functions">File Path</a></li>
<li>
<a href="#kubernetes-and-chart-functions">Kubernetes and Chart</a></li>
<li>
<a href="#logic-and-flow-control-functions">Logic and Flow Control</a></li>
<li>
<a href="#lists-and-list-functions">Lists</a></li>
<li>
<a href="#math-functions">Math</a></li>
<li>
<a href="#float-math-functions">Float Math</a></li>
<li>
<a href="#network-functions">Network</a></li>
<li>
<a href="#reflection-functions">Reflection</a></li>
<li>
<a href="#regular-expressions">Regular Expressions</a></li>
<li>
<a href="#semantic-version-functions">Semantic Versions</a></li>
<li>
<a href="#string-functions">String</a></li>
<li>
<a href="#type-conversion-functions">Type Conversion</a></li>
<li>
<a href="#url-functions">URL</a></li>
<li>
<a href="#uuid-functions">UUID</a></li>
</ul>
<h2 id="logic-and-flow-control-functions">Logic and Flow Control Functions</h2>
<p>Helm 包括了需要逻辑和流控制函数，包括
<a href="#and">and</a>,
<a href="#coalesce">coalesce</a>, 
<a href="#default">default</a>,

<a href="#empty">empty</a>, 
<a href="#eq">eq</a>,
<a href="#fail">fail</a>, 
<a href="#ge">ge</a>, 
<a href="#gt">gt</a>, 
<a href="#le">le</a>, 
<a href="#lt">lt</a>,

<a href="#ne">ne</a>, 
<a href="#not">not</a>, and 
<a href="#or">or</a>。</p>
<h3 id="and">and</h3>
<p>返回两个参数的and布尔值。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>and .Arg1 .Arg2<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="or">or</h3>
<p>返回两个参数的or布尔值。会返回第一个非空参数或最后一个参数。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>or .Arg1 .Arg2<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="not">not</h3>
<p>返回参数的布尔求反。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>not .Arg<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="eq">eq</h3>
<p>返回参数的布尔等式（比如， Arg1 == Arg2）。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>eq .Arg1 .Arg2<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="ne">ne</h3>
<p>返回参数的布尔非等式（比如 Arg1 != Arg2）。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>ne .Arg1 .Arg2<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="lt">lt</h3>
<p>如果第一参数小于第二参数，返回布尔真。否则返回假（比如， Arg1 &lt; Arg2）。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>lt .Arg1 .Arg2<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="le">le</h3>
<p>如果第一参数小于等于第二参数，返回布尔真，否则返回假（比如， Arg1 &lt;= Arg2）。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>le .Arg1 .Arg2<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="gt">gt</h3>
<p>如果第一参数大于第二参数，返回布尔真，否则返回假（比如， Arg1 &gt; Arg2）。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>gt .Arg1 .Arg2<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="ge">ge</h3>
<p>如果第一参数大于等于第二参数，返回布尔真，否则返回假。（比如， Arg1 &gt;= Arg2）。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>ge .Arg1 .Arg2<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="default">default</h3>
<p>使用<code>default</code>设置一个简单的默认值。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>default &#34;foo&#34; .Bar<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述示例中，如果<code>.Bar</code>是非空值，则使用它，否则会返回<code>foo</code>。</p>
<p>&quot;空&quot;定义取决于以下类型：</p>
<ul>
<li>整型: 0</li>
<li>字符串: &quot;&quot;</li>
<li>列表: <code>[]</code></li>
<li>字典: <code>{}</code></li>
<li>布尔: <code>false</code></li>
<li>以及所有的<code>nil</code> (或 null)</li>
</ul>
<p>对于结构体，没有空的定义，所以结构体从来不会返回默认值。</p>
<h3 id="empty">empty</h3>
<p>如果给定的值被认为是空的，则<code>empty</code>函数返回<code>true</code>，否则返回<code>false</code>。空值列举在<code>default</code>部分。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>empty .Foo<span style="color:#bbb">
</span></span></span></code></pre></div><p>注意在Go模板条件中，空值是为你计算出来的。这样你很少需要 <code>if not empty .Foo</code> ，仅使用 <code>if .Foo</code> 即可。</p>
<h3 id="fail">fail</h3>
<p>无条件地返回带有指定文本的空 <code>string</code> 或者 <code>error</code>。这在其他条件已经确定而模板渲染应该失败的情况下很有用。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>fail &#34;Please accept the end user license agreement&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="coalesce">coalesce</h3>
<p><code>coalesce</code>函数获取一个列表并返回第一个非空值。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>coalesce 0 1 2<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述会返回<code>1</code>。</p>
<p>此函数用于扫描多个变量或值：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>coalesce .name .parent.name &#34;Matt&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述示例会优先检查 <code>.name</code> 是否为空。如果不是，就返回值。如果 <em>是</em> 空, 继续检查<code>.parent.name</code>。
最终，如果 <code>.name</code> 和 <code>.parent.name</code> 都是空，就会返回 <code>Matt</code>。</p>
<h3 id="ternary">ternary</h3>
<p><code>ternary</code>函数获取两个值和一个test值。如果test值是true，则返回第一个值。如果test值是空，则返回第二个值。
这和C或其他编程语言中的的ternary运算符类似。</p>
<h4 id="true-test-value">true test value</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>ternary &#34;foo&#34; &#34;bar&#34; true<span style="color:#bbb">
</span></span></span></code></pre></div><p>或者</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#069;font-weight:bold">true</span><span style="color:#bbb"> </span>| ternary &#34;foo&#34; &#34;bar&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述返回 <code>&quot;foo&quot;</code>。</p>
<h4 id="false-test-value">false test value</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>ternary &#34;foo&#34; &#34;bar&#34; false<span style="color:#bbb">
</span></span></span></code></pre></div><p>或者</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#069;font-weight:bold">false</span><span style="color:#bbb"> </span>| ternary &#34;foo&#34; &#34;bar&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述返回 <code>&quot;bar&quot;</code>.</p>
<h2 id="string-functions">String Functions</h2>
<p>Helm 包含了一下字符串函数： 
<a href="#abbrev">abbrev</a>,

<a href="#abbrevboth">abbrevboth</a>, 
<a href="#camelcase">camelcase</a>, 
<a href="#cat">cat</a>,

<a href="#contains">contains</a>, 
<a href="#hasprefix-and-hassuffix">hasPrefix</a>,

<a href="#hasprefix-and-hassuffix">hasSuffix</a>, 
<a href="#indent">indent</a>, 
<a href="#initials">initials</a>,

<a href="#kebabcase">kebabcase</a>, 
<a href="#lower">lower</a>, 
<a href="#nindent">nindent</a>,

<a href="#nospace">nospace</a>, 
<a href="#plural">plural</a>, 
<a href="#print">print</a>, 
<a href="#printf">printf</a>,

<a href="#println">println</a>, 
<a href="#quote-and-squote">quote</a>,

<a href="#randalphanum-randalpha-randnumeric-and-randascii">randAlpha</a>,

<a href="#randalphanum-randalpha-randnumeric-and-randascii">randAlphaNum</a>,

<a href="#randalphanum-randalpha-randnumeric-and-randascii">randAscii</a>,

<a href="#randalphanum-randalpha-randnumeric-and-randascii">randNumeric</a>,

<a href="#repeat">repeat</a>, 
<a href="#replace">replace</a>, 
<a href="#shuffle">shuffle</a>,

<a href="#snakecase">snakecase</a>, 
<a href="#quote-and-squote">squote</a>, 
<a href="#substr">substr</a>,

<a href="#swapcase">swapcase</a>, 
<a href="#title">title</a>, 
<a href="#trim">trim</a>, 
<a href="#trimall">trimAll</a>,

<a href="#trimprefix">trimPrefix</a>, 
<a href="#trimsuffix">trimSuffix</a>, 
<a href="#trunc">trunc</a>,

<a href="#untitle">untitle</a>, 
<a href="#upper">upper</a>, 
<a href="#wrap">wrap</a>, 和 
<a href="#wrapwith">wrapWith</a></p>
<h3 id="print">print</h3>
<p>返回各部分组合的字符串。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>print &#34;Matt has &#34; .Dogs &#34; dogs&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>如果可能，非字符串类型会被转换成字符串。</p>
<p>注意，当相邻两个参数不是字符串时会在它们之间添加一个空格。</p>
<h3 id="println">println</h3>
<p>和
<a href="#print">print</a>效果一样，但会在末尾新添加一行。</p>
<h3 id="printf">printf</h3>
<p>返回参数按顺序传递的格式化字符串。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>printf &#34;%s has %d dogs.&#34; .Name .NumberDogs<span style="color:#bbb">
</span></span></span></code></pre></div><p>占位符取决于传入的参数类型。这包括：</p>
<p>一般用途：</p>
<ul>
<li><code>%v</code> 默认格式的值
<ul>
<li>当打印字典时，加号参数(<code>%+v</code>)可以添加字段名称</li>
</ul>
</li>
<li><code>%%</code> 字符百分号，不使用值</li>
</ul>
<p>布尔值：</p>
<ul>
<li><code>%t</code> true或false</li>
</ul>
<p>整型：</p>
<ul>
<li><code>%b</code> 二进制</li>
<li><code>%c</code> the character represented by the corresponding Unicode code point</li>
<li><code>%d</code> 十进制</li>
<li><code>%o</code> 8进制</li>
<li><code>%O</code> 带0o前缀的8进制</li>
<li><code>%q</code> 安全转义的单引号字符</li>
<li><code>%x</code> 16进制，使用小写字符a-f</li>
<li><code>%X</code> 16进制，使用小写字符A-F</li>
<li><code>%U</code> Unicode格式： U+1234; 和&quot;U+%04X&quot;相同</li>
</ul>
<p>浮点数和复杂成分</p>
<ul>
<li><code>%b</code> 指数二次幂的无小数科学计数法，比如 -123456p-78</li>
<li><code>%e</code> 科学计数法，比如： -1.234456e+78</li>
<li><code>%E</code> 科学计数法，比如： -1.234456E+78</li>
<li><code>%f</code> 无指数的小数，比如： 123.456</li>
<li><code>%F</code> 与%f同义</li>
<li><code>%g</code> %e的大指数，否则是%f</li>
<li><code>%G</code> %E的大指数，否则是%F</li>
<li><code>%x</code> 十六进制计数法(和两个指数的十进制幂)，比如： -0x1.23abcp+20</li>
<li><code>%X</code> 大写的十六进制计数法，比如： -0X1.23ABCP+20</li>
</ul>
<p>字符串和字节切片：</p>
<ul>
<li><code>%s</code> 未解析的二进制字符串或切片</li>
<li><code>%q</code> 安全转义的双引号字符串</li>
<li><code>%x</code> 十六进制，小写，每个字节两个字符</li>
<li><code>%X</code> 十六进制，大写，每个字节两个字符</li>
</ul>
<p>切片：</p>
<ul>
<li><code>%p</code> 16进制的第0个元素的地址，以0x开头</li>
</ul>
<h3 id="trim">trim</h3>
<p><code>trim</code>行数移除字符串两边的空格：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>trim &#34;   hello    &#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为： <code>hello</code></p>
<h3 id="trimall">trimAll</h3>
<p>从字符串中移除给定的字符：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>trimAll &#34;$&#34; &#34;$5.00&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为：<code>5.00</code> (作为一个字符串)。</p>
<h3 id="trimprefix">trimPrefix</h3>
<p>从字符串中移除前缀：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>trimPrefix &#34;-&#34; &#34;-hello&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为：<code>hello</code></p>
<h3 id="trimsuffix">trimSuffix</h3>
<p>从字符串中移除后缀：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>trimSuffix &#34;-&#34; &#34;hello-&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为： <code>hello</code></p>
<h3 id="lower">lower</h3>
<p>将整个字符串转换成小写：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>lower &#34;HELLO&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为： <code>hello</code></p>
<h3 id="upper">upper</h3>
<p>将整个字符串转换成大写：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>upper &#34;hello&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为： <code>HELLO</code></p>
<h3 id="title">title</h3>
<p>首字母转换成大写：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>title &#34;hello world&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为： <code>Hello World</code></p>
<h3 id="untitle">untitle</h3>
<p>移除首字母大写：<code>untitle &quot;Hello World&quot;</code> 会得到 <code>hello world</code>.</p>
<h3 id="repeat">repeat</h3>
<p>重复字符串多次：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>repeat 3 &#34;hello&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为： <code>hellohellohello</code></p>
<h3 id="substr">substr</h3>
<p>获取字符串的子串，有三个参数：</p>
<ul>
<li>start (int)</li>
<li>end (int)</li>
<li>string (string)</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>substr 0 5 &#34;hello world&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为： <code>hello</code></p>
<h3 id="nospace">nospace</h3>
<p>去掉字符串中的所有空格：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>nospace &#34;hello w o r l d&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为： <code>helloworld</code></p>
<h3 id="trunc">trunc</h3>
<p>截断字符串。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>trunc 5 &#34;hello world&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为： <code>hello</code>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>trunc -5 &#34;hello world&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为： <code>world</code>.</p>
<h3 id="abbrev">abbrev</h3>
<p>用省略号截断字符串 (<code>...</code>)</p>
<p>参数：</p>
<ul>
<li>最大长度</li>
<li>字符串</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>abbrev 5 &#34;hello world&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为： <code>he...</code>， 因为将省略号算进了长度中。</p>
<h3 id="abbrevboth">abbrevboth</h3>
<p>两边都省略</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>abbrevboth 5 10 &#34;1234 5678 9123&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为： <code>...5678...</code></p>
<p>It takes:</p>
<ul>
<li>左侧偏移值</li>
<li>最大长度</li>
<li>字符串</li>
</ul>
<h3 id="initials">initials</h3>
<p>截取给定字符串每个单词的首字母，并组合在一起。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>initials &#34;First Try&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为： <code>FT</code></p>
<h3 id="randalphanum-randalpha-randnumeric-and-randascii">randAlphaNum, randAlpha, randNumeric, and randAscii</h3>
<p>这四个字符串生成加密安全的(使用 <code>crypto/rand</code>)的随机字符串，但是字符集合不同：</p>
<ul>
<li><code>randAlphaNum</code> 使用 <code>0-9a-zA-Z</code></li>
<li><code>randAlpha</code> 使用 <code>a-zA-Z</code></li>
<li><code>randNumeric</code> 使用 <code>0-9</code></li>
<li><code>randAscii</code> 使用所有的可打印ASCII字符</li>
</ul>
<p>每个函数都需要一个参数：字符串的整型长度</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>randNumeric 3<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述会生成三个数字的字符串。</p>
<h3 id="wrap">wrap</h3>
<p>以给定列数给文字换行。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>wrap 80 $someText<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果会以<code>$someText</code>在80列处换行。</p>
<h3 id="wrapwith">wrapWith</h3>
<p><code>wrapWith</code> 和 <code>wrap</code> 类似，但可以以指定字符串换行。(<code>wrap</code> 使用的是 <code>\n</code>)</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>wrapWith 5 &#34;\t&#34; &#34;Hello World&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为： <code>hello world</code> (其中空格是ASCII tab字符)</p>
<h3 id="contains">contains</h3>
<p>测试字符串是否包含在另一个字符串中：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>contains &#34;cat&#34; &#34;catch&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为： <code>true</code> 因为 <code>catch</code> 包含了 <code>cat</code>.</p>
<h3 id="hasprefix-and-hassuffix">hasPrefix and hasSuffix</h3>
<p><code>hasPrefix</code> 和 <code>hasSuffix</code> 函数测试字符串是否有给定的前缀或后缀：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>hasPrefix &#34;cat&#34; &#34;catch&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为： <code>true</code> 因为 <code>catch</code> 有 <code>cat</code>.</p>
<h3 id="quote-and-squote">quote and squote</h3>
<p>该函数将字符串用双引号(<code>quote</code>) 或者单引号(<code>squote</code>)括起来。</p>
<h3 id="cat">cat</h3>
<p><code>cat</code> 函数将多个字符串合并成一个，用空格分隔：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>cat &#34;hello&#34; &#34;beautiful&#34; &#34;world&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为： <code>hello beautiful world</code></p>
<h3 id="indent">indent</h3>
<p><code>indent</code> 以指定长度缩进给定字符串所在行，在对齐多行字符串时很有用：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>indent 4 $lots_of_text<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果会将每行缩进4个空格。</p>
<h3 id="nindent">nindent</h3>
<p><code>nindent</code> 函数和indent函数一样，但可以在字符串开头添加新行。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>nindent 4 $lots_of_text<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果会在字符串所在行缩进4个字符，并且在开头新添加一行。</p>
<h3 id="replace">replace</h3>
<p>执行简单的字符串替换。</p>
<p>需要三个参数</p>
<ul>
<li>待替换字符串</li>
<li>要替换字符串</li>
<li>源字符串</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#c30">&#34;I Am Henry VIII&#34;</span><span style="color:#bbb"> </span>| replace &#34; &#34; &#34;-&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为： <code>I-Am-Henry-VIII</code></p>
<h3 id="plural">plural</h3>
<p>字符串复数化。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>len $fish | plural &#34;one anchovy&#34; &#34;many anchovies&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>如上，如果字符串长度为1，则第一个参数会被打印(<code>one anchovy</code>）。否则，会打印第二个参数(<code>many anchovies</code>）。</p>
<p>参数包括：</p>
<ul>
<li>单数字符串</li>
<li>复数字符串</li>
<li>整型长度</li>
</ul>
<p>注意： Helm 现在不支持多语言复杂的复数规则。<code>0</code>被认为是复数的因为英文中作为(<code>zero anchovies</code>) 对待。</p>
<h3 id="snakecase">snakecase</h3>
<p>将驼峰写法转换成蛇形写法。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>snakecase &#34;FirstName&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为： <code>first_name</code>.</p>
<h3 id="camelcase">camelcase</h3>
<p>将字符串从蛇形写法转换成驼峰写法。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>camelcase &#34;http_server&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为： <code>HttpServer</code>。</p>
<h3 id="kebabcase">kebabcase</h3>
<p>将驼峰写法转换成烤串写法。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>kebabcase &#34;FirstName&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为： <code>first-name</code>.</p>
<h3 id="swapcase">swapcase</h3>
<p>基于单词的算法切换字符串的大小写。</p>
<p>转换算法：</p>
<ul>
<li>大写字符变成小写字母</li>
<li>首字母变成小写字母</li>
<li>空格后或开头的小写字母转换成大写字母</li>
<li>其他小写字母转换成大写字母</li>
<li>通过unicode.IsSpace(char)定义空格</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>swapcase &#34;This Is A.Test&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为： <code>tHIS iS a.tEST</code>.</p>
<h3 id="shuffle">shuffle</h3>
<p>对字符串进行洗牌。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>shuffle &#34;hello&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述<code>hello</code>的随机字符串可能会是<code>oelhl</code>。</p>
<h2 id="type-conversion-functions">Type Conversion Functions</h2>
<p>Helm提供了以下类型转换函数：</p>
<ul>
<li><code>atoi</code>: 字符串转换成整型。</li>
<li><code>float64</code>: 转换成 <code>float64</code>。</li>
<li><code>int</code>: 按系统整型宽度转换成<code>int</code>。</li>
<li><code>int64</code>: 转换成 <code>int64</code>。</li>
<li><code>toDecimal</code>: 将unix八进制转换成<code>int64</code>。</li>
<li><code>toString</code>: 转换成字符串。</li>
<li><code>toStrings</code>: 将列表、切片或数组转换成字符串列表。</li>
<li><code>toJson</code> (<code>mustToJson</code>): 将列表、切片、数组、字典或对象转换成JSON。</li>
<li><code>toPrettyJson</code> (<code>mustToPrettyJson</code>): 将列表、切片、数组、字典或对象转换成格式化JSON。</li>
<li><code>toRawJson</code> (<code>mustToRawJson</code>): 将列表、切片、数组、字典或对象转换成HTML字符未转义的JSON。</li>
<li><code>fromYaml</code>：将YAML字符串转化成对象。</li>
<li><code>fromJson</code>: 将JSON字符串转化成对象。</li>
<li><code>toYaml</code>: 将列表，切片，数组，字典或对象转换成已缩进的yaml，可以从任意源拷贝yaml块。该功能和Go的yaml.Marshal函数一样，文档详见：https://pkg.go.dev/gopkg.in/yaml.v2#Marshal</li>
</ul>
<p>只有<code>atoi</code>需要输入一个特定的类型。其他的会尝试将任何类型转换成目标类型。比如，<code>int64</code>可以把浮点数转换成整型，也可以把字符串转换成整型。</p>
<h3 id="tostrings">toStrings</h3>
<p>给定一个类列表集合，输出字符串切片。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>list 1 2 3 | toStrings<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述会将<code>1</code>转成<code>&quot;1&quot;</code>，<code>2</code>转成<code>&quot;2&quot;</code>，等等，然后将其作为列表返回。</p>
<h3 id="todecimal">toDecimal</h3>
<p>给定一个unix八进制权限，转换成十进制。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#c30">&#34;0777&#34;</span><span style="color:#bbb"> </span>| toDecimal<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述会将 <code>0777</code> 转换成 <code>511</code> 并返回int64的值。</p>
<h3 id="tojson-musttojson">toJson, mustToJson</h3>
<p><code>toJson</code>函数将内容编码为JSON字符串。如果内容无法被转换成JSON会返回空字符串。<code>mustToJson</code>会返回错误以防无法编码成JSON。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>toJson .Item<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为： <code>.Item</code>的JSON字符串表示。</p>
<h3 id="toprettyjson-musttoprettyjson">toPrettyJson, mustToPrettyJson</h3>
<p><code>toPrettyJson</code>函数将内容编码为好看的（缩进的）JSON字符串。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>toPrettyJson .Item<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为： <code>.Item</code>的已缩进的JSON字符串表示。</p>
<h3 id="torawjson-musttorawjson">toRawJson, mustToRawJson</h3>
<p><code>toRawJson</code> 函数将内容编码成包含非转义HTML字符的JSON字符串。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>toRawJson .Item<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为： <code>.Item</code>的非转义的JSON字符串表示。</p>
<h3 id="fromyaml">fromYaml</h3>
<p><code>fromYaml</code> 函数将YAML字符串转换成模板可用的对象。</p>
<p><code>文件位置: yamls/person.yaml</code></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#309;font-weight:bold">name</span>:<span style="color:#bbb"> </span>Bob<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">age</span>:<span style="color:#bbb"> </span><span style="color:#f60">25</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">hobbies</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>- hiking<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>- fishing<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>- cooking<span style="color:#bbb">
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>{{- $person := .Files.Get &#34;yamls/person.yaml&#34; | fromYaml }}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">greeting</span>:<span style="color:#bbb"> </span>|<span style="color:#c30;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#c30;font-style:italic">  Hi, my name is {{ $person.name }} and I am {{ $person.age }} years old.
</span></span></span><span style="display:flex;"><span><span style="color:#c30;font-style:italic">  My hobbies are {{ range $person.hobbies }}{{ . }} {{ end }}.</span><span style="color:#bbb">  
</span></span></span></code></pre></div><h3 id="fromjson">fromJson</h3>
<p><code>fromJson</code> 函数将JSON字符串转换成模板可用的对象。</p>
<p><code>文件位置: jsons/person.json</code></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#309;font-weight:bold">&#34;name&#34;</span>: <span style="color:#c30">&#34;Bob&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#309;font-weight:bold">&#34;age&#34;</span>: <span style="color:#f60">25</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#309;font-weight:bold">&#34;hobbies&#34;</span>: [
</span></span><span style="display:flex;"><span>    <span style="color:#c30">&#34;hiking&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#c30">&#34;fishing&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#c30">&#34;cooking&#34;</span>
</span></span><span style="display:flex;"><span>  ]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>{{- $person := .Files.Get &#34;jsons/person.json&#34; | fromJson }}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">greeting</span>:<span style="color:#bbb"> </span>|<span style="color:#c30;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#c30;font-style:italic">  Hi, my name is {{ $person.name }} and I am {{ $person.age }} years old.
</span></span></span><span style="display:flex;"><span><span style="color:#c30;font-style:italic">  My hobbies are {{ range $person.hobbies }}{{ . }} {{ end }}.</span><span style="color:#bbb">  
</span></span></span></code></pre></div><h2 id="regular-expressions">Regular Expressions</h2>
<p>Helm 包含以下正则表达式函数 
<a href="#regexfindall-mustregexfindall">regexFind(mustRegexFind)</a>,

<a href="#regexfind-mustregexfind">regexFindAll(mustRegexFindAll)</a>, 
<a href="#regexmatch-mustregexmatch">regexMatch
(mustRegexMatch)</a>, 
<a href="#regexreplaceall-mustregexreplaceall">regexReplaceAll
(mustRegexReplaceAll)</a>,

<a href="#regexreplaceallliteral-mustregexreplaceallliteral">regexReplaceAllLiteral(mustRegexReplaceAllLiteral)</a>,

<a href="#regexsplit-mustregexsplit">regexSplit (mustRegexSplit)</a>。</p>
<h3 id="regexmatch-mustregexmatch">regexMatch, mustRegexMatch</h3>
<p>如果输入字符串包含可匹配正则表达式任意字符串，则返回true。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>regexMatch &#34;^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}$&#34; &#34;test@acme.com&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为： <code>true</code></p>
<p><code>regexMatch</code>有问题时会出错， <code>mustRegexMatch</code>有问题时会向模板引擎返回错误。</p>
<h3 id="regexfindall-mustregexfindall">regexFindAll, mustRegexFindAll</h3>
<p>返回输入字符串匹配正则表达式的所有切片。最后一个参数表示要返回的子字符串的数量，-1表示返回所有。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>regexFindAll &#34;[2,4,6,8]&#34; &#34;123456789&#34; -1<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为： <code>[2 4 6 8]</code></p>
<p><code>regexFindAll</code> 有问题时会出错， <code>mustRegexFindAll</code> 有问题时会向模板引擎返回错误。</p>
<h3 id="regexfind-mustregexfind">regexFind, mustRegexFind</h3>
<p>返回输入字符串的第一个 (最左边的) 正则匹配。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>regexFind &#34;[a-zA-Z][1-9]&#34; &#34;abcd1234&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为： <code>d1</code></p>
<p><code>regexFind</code> 有问题时会出错， <code>mustRegexFind</code> 有问题时会向模板引擎返回错误。</p>
<h3 id="regexreplaceall-mustregexreplaceall">regexReplaceAll, mustRegexReplaceAll</h3>
<p>返回输入字符串的拷贝，用替换字符串替换Regexp的匹配项。在替换字符串里面， $ 标志被解释为扩展，因此对于实例来说 $1 表示第一个子匹配的文本</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>regexReplaceAll &#34;a(x*)b&#34; &#34;-ab-axxb-&#34; &#34;${1}W&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为： <code>-W-xxW-</code></p>
<p><code>regexReplaceAll</code> 有问题时会出错， <code>mustRegexReplaceAll</code> 有问题时会向模板引擎返回错误。</p>
<h3 id="regexreplaceallliteral-mustregexreplaceallliteral">regexReplaceAllLiteral, mustRegexReplaceAllLiteral</h3>
<p>返回输入字符串的拷贝，用替换字符串替换Regexp的匹配项。匹配字符串直接替换而不是扩展。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>regexReplaceAllLiteral &#34;a(x*)b&#34; &#34;-ab-axxb-&#34; &#34;${1}&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为： <code>-${1}-${1}-</code></p>
<p><code>regexReplaceAllLiteral</code> 有问题时会出错，<code>mustRegexReplaceAllLiteral</code> 有问题时会向模板引擎返回错误。</p>
<h3 id="regexsplit-mustregexsplit">regexSplit, mustRegexSplit</h3>
<p>将输入字符串切成有表达式分隔的子字符串，并返回表达式匹配项之间的切片。最后一个参数<code>n</code>确定要返回的子字符串数量，<code>-1</code>表示返回所有匹配。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>regexSplit &#34;z+&#34; &#34;pizza&#34; -1<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为： <code>[pi a]</code></p>
<p><code>regexSplit</code> 有问题时会出错，<code>mustRegexSplit</code> 有问题时会向模板引擎返回错误。</p>
<h2 id="cryptographic-and-security-functions">Cryptographic and Security Functions</h2>
<p>Helm提供了一些高级的加密函数。包括了 
<a href="#adler32sum">adler32sum</a>, 
<a href="#buildcustomcert">buildCustomCert</a>,

<a href="#decryptaes">decryptAES</a>, 
<a href="#derivepassword">derivePassword</a>,
<a href="#encryptaes">encryptAES</a>,

<a href="#genca">genCA</a>, 
<a href="#genprivatekey">genPrivateKey</a>, 
<a href="#genselfsignedcert">genSelfSignedCert</a>,

<a href="#gensignedcert">genSignedCert</a>, 
<a href="#htpasswd">htpasswd</a>, 
<a href="#sha1sum">sha1sum</a>， 以及 
<a href="#sha256sum">sha256sum</a>。</p>
<h3 id="sha1sum">sha1sum</h3>
<p><code>sha1sum</code>函数接收一个字符串，并计算它的SHA1摘要。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>sha1sum &#34;Hello world!&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="sha256sum">sha256sum</h3>
<p><code>sha256sum</code> 函数接收一个字符串，并计算它的SHA256摘要。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>sha256sum &#34;Hello world!&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述语句会以“ASCII包装”格式计算SHA 256 校验和，并安全打印出来。</p>
<h3 id="adler32sum">adler32sum</h3>
<p><code>adler32sum</code>函数接收一个字符串，并计算它的Adler-32校验和。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>adler32sum &#34;Hello world!&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="htpasswd">htpasswd</h3>
<p><code>htpasswd</code> 函数使用<code>username</code> 和 <code>password</code> 生成一个密码的<code>bcrypt</code>哈希值。该结果可用于
<a href="https://httpd.apache.org/docs/2.4/misc/password_encryptions.html#basic" target="_blank">Apache HTTP
Server</a> 的基础认证。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>htpasswd &#34;myUser&#34; &#34;myPassword&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>注意，将密码直接存储在模板中并不安全。</p>
<h3 id="derivepassword">derivePassword</h3>
<p><code>derivePassword</code> 函数可用于基于某些共享的“主密码”约束得到特定密码。这方面的算法有
<a href="https://masterpassword.app/masterpassword-algorithm.pdf" target="_blank">详细说明</a>。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>derivePassword 1 &#34;long&#34; &#34;password&#34; &#34;user&#34; &#34;example.com&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>注意，将这部分直接存储在模板中并不安全。</p>
<h3 id="genprivatekey">genPrivateKey</h3>
<p><code>genPrivateKey</code> 函数生成一个编码成PEM块的新私钥。</p>
<p>第一个参数会采用以下某个值：</p>
<ul>
<li><code>ecdsa</code>: 生成椭圆曲线 DSA key (P256)</li>
<li><code>dsa</code>: 生成 DSA key (L2048N256)</li>
<li><code>rsa</code>: 生成 RSA 4096 key</li>
</ul>
<h3 id="buildcustomcert">buildCustomCert</h3>
<p><code>buildCustomCert</code> 函数允许自定义证书。</p>
<p>会采用以下字符串参数：</p>
<ul>
<li>base64 编码PEM格式证书</li>
<li>base64 编码PEM格式私钥</li>
</ul>
<p>返回包含以下属性的整数对象：</p>
<ul>
<li><code>Cert</code>:PEM编码证书</li>
<li><code>Key</code>: PEM编码私钥</li>
</ul>
<p>示例：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>$ca := buildCustomCert &#34;base64-encoded-ca-crt&#34; &#34;base64-encoded-ca-key&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>注意返回的对象可以使用这个CA传递给<code>genSignedCert</code>函数进行签名。</p>
<h3 id="genca">genCA</h3>
<p><code>genCA</code> 函数生成一个新的，自签名的x509 证书机构。</p>
<p>会采用以下参数：</p>
<ul>
<li>主体通用名 (cn)</li>
<li>证书有效期（天）</li>
</ul>
<p>会返回一个包含以下属性的对象：</p>
<ul>
<li><code>Cert</code>: PEM编码证书</li>
<li><code>Key</code>: PEM编码私钥</li>
</ul>
<p>示例：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>$ca := genCA &#34;foo-ca&#34; 365<span style="color:#bbb">
</span></span></span></code></pre></div><p>注意返回的对象可以使用这个CA传递给<code>genSignedCert</code>函数进行签名。</p>
<h3 id="genselfsignedcert">genSelfSignedCert</h3>
<p>The <code>genSelfSignedCert</code> 函数生成一个新的，自签名的x509 证书。</p>
<p>会采用下列参数：</p>
<ul>
<li>主体通用名 (cn)</li>
<li>可选IP列表；可以为空</li>
<li>可选备用DNS名称列表；可以为空</li>
<li>证书有效期（天）</li>
</ul>
<p>会返回一个包含以下属性的对象：</p>
<ul>
<li><code>Cert</code>: PEM编码证书</li>
<li><code>Key</code>: PEM编码私钥</li>
</ul>
<p>示例：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>$cert := genSelfSignedCert &#34;foo.com&#34; (list &#34;10.0.0.1&#34; &#34;10.0.0.2&#34;) (list &#34;bar.com&#34; &#34;bat.com&#34;) 365<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="gensignedcert">genSignedCert</h3>
<p><code>genSignedCert</code> 通过指定的CA签名生成一个新的， x509证书</p>
<p>会采用以下参数：</p>
<ul>
<li>主体通用名 (cn)</li>
<li>可选IP列表；可以为空</li>
<li>可选备用DNS名称列表；可以为空</li>
<li>证书有效期（天）</li>
<li>CA (查看 <code>genCA</code>)</li>
</ul>
<p>示例：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>$ca := genCA &#34;foo-ca&#34; 365<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>$cert := genSignedCert &#34;foo.com&#34; (list &#34;10.0.0.1&#34; &#34;10.0.0.2&#34;) (list &#34;bar.com&#34; &#34;bat.com&#34;) 365 $ca<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="encryptaes">encryptAES</h3>
<p><code>encryptAES</code> 函数使用AES-256 CBC 加密文本并返回一个base64编码字符串。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>encryptAES &#34;secretkey&#34; &#34;plaintext&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="decryptaes">decryptAES</h3>
<p><code>decryptAES</code>函数接收一个AES-256 CBC编码的字符串并返回解密文本。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#c30">&#34;30tEfhuJSVRhpG97XCuWgz2okj7L8vQ1s6V9zVUPeDQ=&#34;</span><span style="color:#bbb"> </span>| decryptAES &#34;secretkey&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><h2 id="date-functions">Date Functions</h2>
<p>Helm 包含以下可以在模板中使用的函数：
<a href="#ago">ago</a>, 
<a href="#date">date</a>, 
<a href="#dateinzone">dateInZone</a>,

<a href="#datemodify-mustdatemodify">dateModify(mustDateModify)</a>, 
<a href="#duration">duration</a>,

<a href="#durationround">durationRound</a>, 
<a href="#htmldate">htmlDate</a>,

<a href="#htmldateinzone">htmlDateInZone</a>, 
<a href="#now">now</a>,

<a href="#todate-musttodate">toDate(mustToDate)</a>, and 
<a href="#unixepoch">unixEpoch</a>。</p>
<h3 id="now">now</h3>
<p>当前日期/时间。和其他日期函数一起使用。</p>
<h3 id="ago">ago</h3>
<p><code>ago</code> 函数返回距time.Now的以秒为单位的间隔时间。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>ago .CreatedAt<span style="color:#bbb">
</span></span></span></code></pre></div><p>返回<code>time.Duration</code>的字符串格式</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>2h34m7s<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="date">date</h3>
<p><code>date</code>函数格式化日期</p>
<p>日期格式化为YEAR-MONTH-DAY：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>now | date &#34;2006-01-02&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>日期格式化在Go中有
<a href="https://pauladamsmith.com/blog/2011/05/go_time.html" target="_blank">一些不同</a>。</p>
<p>简言之，以此为基准日期：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>Mon Jan 2 15:04:05 MST 2006<span style="color:#bbb">
</span></span></span></code></pre></div><p>将其写成你想要的格式，上面的例子中，<code>2006-01-02</code> 是同一个日期，却是我们需要的格式。</p>
<h3 id="dateinzone">dateInZone</h3>
<p>和 <code>date</code> 一样，但是和时区一起。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>dateInZone &#34;2006-01-02&#34; (now) &#34;UTC&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="duration">duration</h3>
<p>将给定的秒数格式化为<code>time.Duration</code>。</p>
<p>这会返回 1m35s。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>duration 95<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="durationround">durationRound</h3>
<p>将给定时间舍入到最重要的单位。当<code>time.Time</code>计算为一个自某个时刻以来的时间，字符串和<code>time.Duration</code>被解析为一个时间段。</p>
<p>这会返回2h</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>durationRound &#34;2h10m5s&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>这会返回3mo</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>durationRound &#34;2400h10m5s&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="unixepoch">unixEpoch</h3>
<p>返回<code>time.Time</code>的unix时间戳。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>now | unixEpoch<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="datemodify-mustdatemodify">dateModify, mustDateModify</h3>
<p><code>dateModify</code> 给定一个修改日期并返回时间戳。</p>
<p>从当前时间减去一个小时三十分钟：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>now | date_modify &#34;-1.5h&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>如果修改格式错误， <code>dateModify</code>会返回日期未定义。而<code>mustDateModify</code>会返回错误。</p>
<h3 id="htmldate">htmlDate</h3>
<p><code>htmlDate</code>函数用于格式化插入到HTML日期选择器输入字段的日期。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>now | htmlDate<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="htmldateinzone">htmlDateInZone</h3>
<p>和htmlDate一样，但多了个时区。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>htmlDateInZone (now) &#34;UTC&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="todate-musttodate">toDate, mustToDate</h3>
<p><code>toDate</code> 将字符串转换成日期。第一个参数是日期格式，第二个参数是日期字符串。
如果字符串无法转换就会返回0值。<code>mustToDate</code>以防无法转换会返回错误。</p>
<p>这在你将日期字符串转换成其他格式时很有用（使用pipe）。下面的例子会将&quot;2017-12-31&quot; 转换成 &quot;31/12/2017&quot;。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>toDate &#34;2006-01-02&#34; &#34;2017-12-31&#34; | date &#34;02/01/2006&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><h2 id="dictionaries-and-dict-functions">Dictionaries and Dict Functions</h2>
<p>Helm 提供了一个key/value存储类型称为<code>dict</code>（&quot;dictionary&quot;的简称，Python中也有）。<code>dict</code>是无序类型。</p>
<p>字典的key <strong>必须是字符串</strong>。但值可以是任意类型，甚至是另一个<code>dict</code> 或 <code>list</code>。</p>
<p>不像<code>list</code>， <code>dict</code>不是不可变的。<code>set</code>和<code>unset</code>函数会修改字典的内容。</p>
<p>Helm 提供了以下函数支持使用字典：
<a href="#deepcopy-mustdeepcopy">deepCopy(mustDeepCopy)</a>,

<a href="#dict">dict</a>, 
<a href="#dig">dig</a>, 
<a href="#get">get</a>,
<a href="#haskey">hasKey</a>, 
<a href="#keys">keys</a>, 
<a href="#merge-mustmerge">merge (mustMerge)</a>,

<a href="#mergeoverwrite-mustmergeoverwrite">mergeOverwrite (mustMergeOverwrite)</a>,

<a href="#omit">omit</a>, 
<a href="#pick">pick</a>, 
<a href="#pluck">pluck</a>, 
<a href="#set">set</a>, 
<a href="#unset">unset</a>,和
<a href="#values">values</a>。</p>
<h3 id="dict">dict</h3>
<p>通过调用<code>dict</code>函数并传递一个键值对列表创建字典。</p>
<p>下面是创建三个键值对的字典：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>$myDict := dict &#34;name1&#34; &#34;value1&#34; &#34;name2&#34; &#34;value2&#34; &#34;name3&#34; &#34;value 3&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="get">get</h3>
<p>给定一个映射和一个键，从映射中获取值。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>get $myDict &#34;name1&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为： <code>&quot;value1&quot;</code></p>
<p>注意如果没有找到，会简单返回<code>&quot;&quot;</code>。不会生成error。</p>
<h3 id="set">set</h3>
<p>使用<code>set</code>给字典添加一个键值对。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>$_ := set $myDict &#34;name4&#34; &#34;value4&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>注意<code>set</code> <em>返回字典</em> (Go模板函数的一个要求)，因此你可能需要像上面那样使用使用<code>$_</code>赋值来获取值。</p>
<h3 id="unset">unset</h3>
<p>给定一个映射和key，从映射中删除这个key。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>$_ := unset $myDict &#34;name4&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>和<code>set</code>一样，需要返回字典。</p>
<p>注意，如果key没有找到，这个操作会简单返回，不会生成错误。</p>
<h3 id="haskey">hasKey</h3>
<p><code>hasKey</code>函数会在给定字典中包含了给定key时返回<code>true</code>。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>hasKey $myDict &#34;name1&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>如果key没找到，会返回<code>false</code>。</p>
<h3 id="pluck">pluck</h3>
<p><code>pluck</code> 函数给定一个键和多个映射，并获得所有匹配项的列表：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>pluck &#34;name1&#34; $myDict $myOtherDict<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述会返回的<code>list</code>包含了每个找到的值(<code>[value1 otherValue1]</code>)。</p>
<p>如果key在映射中 <em>没有找到</em> ，列表中的映射就不会有内容（并且返回列表的长度也会小于调用<code>pluck</code>的字典）。</p>
<p>如果key是 <em>存在的</em>， 但是值是空值，会插入一个值。</p>
<p>Helm模板中的一个常见用法是使用<code>pluck... | first</code> 从字典集合中获取第一个匹配的键。</p>
<h3 id="dig">dig</h3>
<p><code>dig</code> 函数遍历嵌套的字典，从值列表中选择键。如果在关联的字典中找不到键，会返回默认值。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>dig &#34;user&#34; &#34;role&#34; &#34;humanName&#34; &#34;guest&#34; $dict<span style="color:#bbb">
</span></span></span></code></pre></div><p>给一个结构化的字典如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">user</span>:<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#309;font-weight:bold">role</span>:<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#309;font-weight:bold">humanName</span>:<span style="color:#bbb"> </span><span style="color:#c30">&#34;curator&#34;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div><p>那上述命令就会返回<code>&quot;curator&quot;</code>。 如果字典连<code>user</code>都没有，就会返回<code>&quot;guest&quot;</code>。</p>
<p>如果你想避开保护规则，dig就很有用，特别是Go模板包的<code>and</code>没有快捷方式。譬如
<code>and a.maybeNil a.maybeNil.iNeedThis</code>
总是会描述为<code>a.maybeNil.iNeedThis</code>，如果 <code>maybeNil</code> 字段缺少 <code>a</code> 就会报错。</p>
<p><code>dig</code> 为了支持管道符会接受字典参数，比如：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>merge a b c | dig &#34;one&#34; &#34;two&#34; &#34;three&#34; &#34;&lt;missing&gt;&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="merge-mustmerge">merge, mustMerge</h3>
<p>将两个或多个字典合并为一个， 目标字典优先：</p>
<p>给出：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#309;font-weight:bold">dst</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">default</span>:<span style="color:#bbb"> </span>default<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">overwrite</span>:<span style="color:#bbb"> </span>me<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">key</span>:<span style="color:#bbb"> </span><span style="color:#069;font-weight:bold">true</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">src</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">overwrite</span>:<span style="color:#bbb"> </span>overwritten<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">key</span>:<span style="color:#bbb"> </span><span style="color:#069;font-weight:bold">false</span><span style="color:#bbb">
</span></span></span></code></pre></div><p>会得到结果：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#309;font-weight:bold">newdict</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">default</span>:<span style="color:#bbb"> </span>default<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">overwrite</span>:<span style="color:#bbb"> </span>me<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">key</span>:<span style="color:#bbb"> </span><span style="color:#069;font-weight:bold">true</span><span style="color:#bbb">
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>$newdict := merge $dest $source1 $source2<span style="color:#bbb">
</span></span></span></code></pre></div><p>这是个深度合并操作，但不是深度拷贝操作。合并的嵌套对象是两个字典上的同一实例。如果想深度合并的同时进行深度拷贝，
合并的时候同时使用<code>deepCopy</code>函数，比如：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>deepCopy $source | merge $dest<span style="color:#bbb">
</span></span></span></code></pre></div><p><code>mustMerge</code> 会返回错误，以防出现不成功的合并。</p>
<h3 id="mergeoverwrite-mustmergeoverwrite">mergeOverwrite, mustMergeOverwrite</h3>
<p>合并两个或多个字典，优先按照 <strong>从右到左</strong>，在目标字典中有效地覆盖值：</p>
<p>给定的：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#309;font-weight:bold">dst</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">default</span>:<span style="color:#bbb"> </span>default<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">overwrite</span>:<span style="color:#bbb"> </span>me<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">key</span>:<span style="color:#bbb"> </span><span style="color:#069;font-weight:bold">true</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">src</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">overwrite</span>:<span style="color:#bbb"> </span>overwritten<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">key</span>:<span style="color:#bbb"> </span><span style="color:#069;font-weight:bold">false</span><span style="color:#bbb">
</span></span></span></code></pre></div><p>会生成：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#309;font-weight:bold">newdict</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">default</span>:<span style="color:#bbb"> </span>default<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">overwrite</span>:<span style="color:#bbb"> </span>overwritten<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#309;font-weight:bold">key</span>:<span style="color:#bbb"> </span><span style="color:#069;font-weight:bold">false</span><span style="color:#bbb">
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>$newdict := mergeOverwrite $dest $source1 $source2<span style="color:#bbb">
</span></span></span></code></pre></div><p>这是一个深度合并操作但不是深度拷贝操作。两个字典上嵌入的对象被合并到了同一个实例中。如果你想在合并的同时进行深度拷贝，
使用<code>deepCopy</code>函数，比如：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>deepCopy $source | mergeOverwrite $dest<span style="color:#bbb">
</span></span></span></code></pre></div><p><code>mustMergeOverwrite</code> 会返回错误，以防出现不成功的合并。</p>
<h3 id="keys">keys</h3>
<p><code>keys</code>函数会返回一个或多个<code>dict</code>类型中所有的key的<code>list</code>。由于字典是 <em>无序的</em>，key不会有可预料的顺序。
可以使用<code>sortAlpha</code>存储。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>keys $myDict | sortAlpha<span style="color:#bbb">
</span></span></span></code></pre></div><p>当提供了多个词典时，key会被串联起来。使用<code>uniq</code>函数和<code>sortAlpha</code>获取一个唯一有序的键列表。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>keys $myDict $myOtherDict | uniq | sortAlpha<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="pick">pick</h3>
<p><code>pick</code>函数只从字典中选择给定的键，并创建一个新的<code>dict</code>。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>$new := pick $myDict &#34;name1&#34; &#34;name2&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为： <code>{name1: value1, name2: value2}</code></p>
<h3 id="omit">omit</h3>
<p><code>omit</code>函数类似于<code>pick</code>，除它之外返回一个新的<code>dict</code>，所有的key <em>不</em> 匹配给定的key。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>$new := omit $myDict &#34;name1&#34; &#34;name3&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为： <code>{name2: value2}</code></p>
<h3 id="values">values</h3>
<p><code>values</code>函数类似于<code>keys</code>，返回一个新的<code>list</code>包含源字典中所有的value(只支持一个字典)。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>$vals := values $myDict<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为： <code>list[&quot;value1&quot;, &quot;value2&quot;, &quot;value 3&quot;]</code>。注意 <code>values</code>不能保证结果的顺序；如果你需要顺序，
请使用<code>sortAlpha</code>。</p>
<h3 id="deepcopy-mustdeepcopy">deepCopy, mustDeepCopy</h3>
<p><code>deepCopy</code> 和 <code>mustDeepCopy</code> 函数给定一个值并深度拷贝这个值。包括字典和其他结构体。 <code>deepCopy</code>有问题时会出错，
而<code>mustDeepCopy</code>会返回一个错误给模板系统。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>dict &#34;a&#34; 1 &#34;b&#34; 2 | deepCopy<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="字典的内部说明">字典的内部说明</h3>
<p><code>dict</code> 在Go里是作为<code>map[string]interface{}</code>执行的。Go开发者可以传<code>map[string]interface{}</code>值给上下文，
将其作为 <code>dict</code> 提供给模板。</p>
<h2 id="encoding-functions">Encoding functions</h2>
<p>Helm有以下编码和解码函数：</p>
<ul>
<li><code>b64enc</code>/<code>b64dec</code>: 编码或解码 Base64</li>
<li><code>b32enc</code>/<code>b32dec</code>: 编码或解码 Base32</li>
</ul>
<h2 id="lists-and-list-functions">Lists and List Functions</h2>
<p>Helm 提供了一个简单的<code>list</code>类型，包含任意顺序的列表。类似于数组或切片，但列表是被设计用于不可变数据类型。</p>
<p>创建一个整型列表：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>$myList := list 1 2 3 4 5<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述会生成一个列表 <code>[1 2 3 4 5]</code>。</p>
<p>Helm 提供了以下列表函数： 
<a href="#append-mustappend">append(mustAppend)</a>, 
<a href="#compact-mustcompact">compact
(mustCompact)</a>, 
<a href="#concat">concat</a>,

<a href="#first-mustfirst">first(mustFirst)</a>, 
<a href="#has-musthas">has (mustHas)</a>, 
<a href="#initial-mustinitial">initial
(mustInitial)</a>, 
<a href="#last-mustlast">last (mustLast)</a>,

<a href="#prepend-mustprepend">prepend (mustPrepend)</a>, 
<a href="#rest-mustrest">rest
(mustRest)</a>, 
<a href="#reverse-mustreverse">reverse (mustReverse)</a>,

<a href="#seq">seq</a>, 
<a href="#index">index</a>, 
<a href="#slice-mustslice">slice (mustSlice)</a>, 
<a href="#uniq-mustuniq">uniq
(mustUniq)</a>, 
<a href="#until">until</a>, 
<a href="#untilstep">untilStep</a>, 和

<a href="#without-mustwithout">without (mustWithout)</a>。</p>
<h3 id="first-mustfirst">first, mustFirst</h3>
<p>获取列表中的第一项，使用 <code>first</code>。</p>
<p><code>first $myList</code> 返回 <code>1</code></p>
<p><code>first</code> 有问题时会出错，<code>mustFirst</code> 有问题时会向模板引擎返回错误。</p>
<h3 id="rest-mustrest">rest, mustRest</h3>
<p>获取列表的尾部内容(除了第一项外的所有内容)，使用<code>rest</code>。</p>
<p><code>rest $myList</code> returns <code>[2 3 4 5]</code></p>
<p><code>rest</code>有问题时会出错，<code>mustRest</code> 有问题时会向模板引擎返回错误。</p>
<h3 id="last-mustlast">last, mustLast</h3>
<p>使用<code>last</code>获取列表的最后一项：</p>
<p><code>last $myList</code> 返回 <code>5</code>。这大致类似于反转列表然后调用<code>first</code>。</p>
<h3 id="initial-mustinitial">initial, mustInitial</h3>
<p>通过返回所有元素 <em>但</em> 除了最后一个元素来赞赏<code>last</code>。 <code>initial $myList</code> 返回 <code>[1 2 3 4]</code>。</p>
<p><code>initial</code>有问题时会出错，但是 <code>mustInitial</code> 有问题时会向模板引擎返回错误。</p>
<h3 id="append-mustappend">append, mustAppend</h3>
<p>在已有列表中追加一项，创建一个新的列表。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>$new = append $myList 6<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述语句会设置 <code>$new</code> 为 <code>[1 2 3 4 5 6]</code>。 <code>$myList</code>会保持不变。</p>
<p><code>append</code> 有问题时会出错，但 <code>mustAppend</code> 有问题时会向模板引擎返回错误。</p>
<h3 id="prepend-mustprepend">prepend, mustPrepend</h3>
<p>将元素添加到列表的前面，生成一个新的列表。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>prepend $myList 0<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述语句会生成 <code>[0 1 2 3 4 5]</code>。 <code>$myList</code>会保持不变。</p>
<p><code>prepend</code> 有问题时会出错，但 <code>mustPrepend</code> 有问题时会向模板引擎返回错误。</p>
<h3 id="concat">concat</h3>
<p>将任意数量的列表串联成一个。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>concat $myList ( list 6 7 ) ( list 8 )<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述语句会生成 <code>[1 2 3 4 5 6 7 8]</code>。 <code>$myList</code> 会保持不变。</p>
<h3 id="reverse-mustreverse">reverse, mustReverse</h3>
<p>反转给定的列表生成一个新列表。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>reverse $myList<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述语句会生成一个列表： <code>[5 4 3 2 1]</code>。</p>
<p><code>reverse</code> 有问题时会出错，但 <code>mustReverse</code> 有问题时会向模板引擎返回错误。</p>
<h3 id="uniq-mustuniq">uniq, mustUniq</h3>
<p>生成一个移除重复项的列表。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>list 1 1 1 2 | uniq<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述语句会生成 <code>[1 2]</code></p>
<p><code>uniq</code> 有问题时会出错，但 <code>mustUniq</code> 有问题时会向模板引擎返回错误。</p>
<h3 id="without-mustwithout">without, mustWithout</h3>
<p><code>without</code> 函数从列表中过滤内容。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>without $myList 3<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述语句会生成 <code>[1 2 4 5]</code></p>
<p>一个过滤器可以过滤多个元素：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>without $myList 1 3 5<span style="color:#bbb">
</span></span></span></code></pre></div><p>这样会得到： <code>[2 4]</code></p>
<p><code>without</code> 有问题时会出错，但 <code>mustWithout</code> 有问题时会向模板引擎返回错误。</p>
<h3 id="has-musthas">has, mustHas</h3>
<p>验证列表是否有特定元素。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>has 4 $myList<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述语句会返回 <code>true</code>, 但 <code>has &quot;hello&quot; $myList</code> 就会返回false。</p>
<p><code>has</code> 有问题时会出错，但 <code>mustHas</code> 有问题时会向模板引擎返回错误。</p>
<h3 id="compact-mustcompact">compact, mustCompact</h3>
<p>接收一个列表并删除空值项。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>$list := list 1 &#34;a&#34; &#34;foo&#34; &#34;&#34;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>$copy := compact $list<span style="color:#bbb">
</span></span></span></code></pre></div><p><code>compact</code> 会返回一个移除了空值(比如， &quot;&quot;)的新列表。</p>
<p><code>compact</code> 有问题时会出错，但 <code>mustCompact</code> 有问题时会向模板引擎返回错误。</p>
<h3 id="index">index</h3>
<p>使用<code>index list [n]</code>获取列表的第n个元素。使用<code>index list [n] [m] ...</code>获取多位列表元素。</p>
<ul>
<li><code>index $myList 0</code> 返回 <code>1</code>，同 <code>myList[0]</code></li>
<li><code>index $myList 0 1</code> 同 <code>myList[0][1]</code></li>
</ul>
<h3 id="slice-mustslice">slice, mustSlice</h3>
<p>从列表中获取部分元素，使用 <code>slice list [n] [m]</code>。等同于 <code>list[n:m]</code>.</p>
<ul>
<li><code>slice $myList</code> 返回 <code>[1 2 3 4 5]</code>。 等同于 <code>myList[:]</code>。</li>
<li><code>slice $myList 3</code> 返回 <code>[4 5]</code>等同于 <code>myList[3:]</code>。</li>
<li><code>slice $myList 1 3</code> 返回 <code>[2 3]</code>等同于 <code>myList[1:3]</code>。</li>
<li><code>slice $myList 0 3</code> 返回 <code>[1 2 3]</code>等同于 <code>myList[:3]</code>。</li>
</ul>
<p><code>slice</code> 有问题时会出错，但 <code>mustSlice</code> 有问题时会向模板引擎返回错误。</p>
<h3 id="until">until</h3>
<p><code>until</code> 函数构建一个整数范围。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>until 5<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述语句会生成一个列表： <code>[0, 1, 2, 3, 4]</code>。</p>
<p>对循环语句很有用： <code>range $i, $e := until 5</code>。</p>
<h3 id="untilstep">untilStep</h3>
<p>类似<code>until</code>， <code>untilStep</code> 生成一个可计数的整型列表。但允许你定义开始，结束和步长：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>untilStep 3 6 2<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述语句会生成 <code>[3 5]</code>，从3开始，每次加2，直到大于等于6。类似于Python的 <code>range</code> 函数。</p>
<h3 id="seq">seq</h3>
<p>原理和bash的 <code>seq</code> 命令类似。</p>
<ul>
<li>1 单个参数  (结束位置) - 会生成所有从1到包含 <code>end</code> 的整数。</li>
<li>2 多个参数 (开始， 结束) - 会生成所有包含<code>start</code> 和 <code>end</code> 的整数，递增或者递减。</li>
<li>3 多个参数 (开始， 步长， 结束) - 会生成所有包含 <code>start</code> 和 <code>end</code> 按 <code>step</code>递增或递减的整数。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>seq 5       =&gt; 1 2 3 4 5<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>seq -3      =&gt; 1 0 -1 -2 -3<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>seq 0 2     =&gt; 0 1 2<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>seq 2 -2    =&gt; 2 1 0 -1 -2<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>seq 0 2 10  =&gt; 0 2 4 6 8 10<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>seq 0 -2 -5 =&gt; 0 -2 -4<span style="color:#bbb">
</span></span></span></code></pre></div><h2 id="math-functions">Math Functions</h2>
<p>除非另外指定，否则所有的math函数都是操作 <code>int64</code> 的值。</p>
<p>有以下math函数可用： 
<a href="#add">add</a>, 
<a href="#add1">add1</a>,

<a href="#ceil">ceil</a>, 
<a href="#div">div</a>, 
<a href="#floor">floor</a>, 
<a href="#len">len</a>, 
<a href="#max">max</a>,

<a href="#min">min</a>, 
<a href="#mod">mod</a>, 
<a href="#mul">mul</a>, 
<a href="#round">round</a>, and [sub](#sub）。</p>
<h3 id="add">add</h3>
<p>使用<code>add</code>求和。接受两个或多个输入。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>add 1 2 3<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="add1">add1</h3>
<p>自增加1，使用 <code>add1</code>。</p>
<h3 id="sub">sub</h3>
<p>相减使用 <code>sub</code>。</p>
<h3 id="div">div</h3>
<p>整除使用 <code>div</code>。</p>
<h3 id="mod">mod</h3>
<p>取模使用<code>mod</code>。</p>
<h3 id="mul">mul</h3>
<p>相乘使用<code>mul</code>。接受两个或多个输入。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>mul 1 2 3<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="max">max</h3>
<p>返回一组整数中最大的整数。</p>
<p>下列会返回<code>3</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>max 1 2 3<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="min">min</h3>
<p>返回一组数中最小的数。</p>
<p><code>min 1 2 3</code> 会返回 <code>1</code>。</p>
<h3 id="len">len</h3>
<p>返回参数的长度。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>len .Arg<span style="color:#bbb">
</span></span></span></code></pre></div><h2 id="float-math-functions">Float Math Functions</h2>
<p>所有的数学函数使用<code>float64</code>格式。</p>
<h3 id="addf">addf</h3>
<p>使用<code>addf</code>求和</p>
<p>下面的例子会返回<code>5.5</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>addf 1.5 2 2<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="add1f">add1f</h3>
<p>使用<code>add1f</code>递增1</p>
<h3 id="subf">subf</h3>
<p>相减使用<code>subf</code></p>
<p>下面例子相当于<code>7.5 - 2 - 3</code> 并返回 <code>2.5</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>subf 7.5 2 3<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="divf">divf</h3>
<p>使用<code>divf</code>实现整数除法</p>
<p>以下相当于<code>10 / 2 / 4</code> 并返回 <code>1.25</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>divf 10 2 4<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="mulf">mulf</h3>
<p>使用<code>mulf</code>做乘法</p>
<p>以下会返回<code>6</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>mulf 1.5 2 2<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="maxf">maxf</h3>
<p>返回最大浮点数</p>
<p>以下会返回<code>3</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>maxf 1 2.5 3<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="minf">minf</h3>
<p>返回最小浮点数</p>
<p>以下会返回 <code>1.5</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>minf 1.5 2 3<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="floor">floor</h3>
<p>返回小于等于输入值的最大浮点整数。</p>
<p><code>floor 123.9999</code> will return <code>123.0</code>。</p>
<h3 id="ceil">ceil</h3>
<p>返回大于等于输入值的最小浮点整数。</p>
<p><code>ceil 123.001</code> will return <code>124.0</code>。</p>
<h3 id="round">round</h3>
<p>返回一个四舍五入到给定小数位的数。</p>
<p><code>round 123.555555 3</code> will return <code>123.556</code>。</p>
<h2 id="network-functions">Network Functions</h2>
<p>Helm提供了一个网络函数： <code>getHostByName</code>.</p>
<p><code>getHostByName</code>接收一个域名返回IP地址。</p>
<p><code>getHostByName &quot;www.google.com&quot;</code>会返回对应的<code>www.google.com</code>的地址。</p>
<h2 id="file-path-functions">File Path Functions</h2>
<p>Helm模板函数没有访问文件系统的权限，提供了遵循文件路径规范的函数。包括
<a href="#base">base</a>, 
<a href="#clean">clean</a>,

<a href="#dir">dir</a>, 
<a href="#ext">ext</a>, 和 
<a href="#isabs">isAbs</a> 。</p>
<h3 id="base">base</h3>
<p>返回最后一个元素路径。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>base &#34;foo/bar/baz&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>返回 &quot;baz&quot;。</p>
<h3 id="dir">dir</h3>
<p>返回目录， 去掉路径的最后一部分。因此 <code>dir &quot;foo/bar/baz&quot;</code> 返回 <code>foo/bar</code>。</p>
<h3 id="clean">clean</h3>
<p>清除路径</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>clean &#34;foo/bar/../baz&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述语句会清理 <code>..</code> 并返回<code>foo/baz</code>。</p>
<h3 id="ext">ext</h3>
<p>返回文件扩展。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>ext &#34;foo.bar&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为： <code>.bar</code>.</p>
<h3 id="isabs">isAbs</h3>
<p>检查文件路径是否为绝对路径，使用 <code>isAbs</code>。</p>
<h2 id="reflection-functions">Reflection Functions</h2>
<p>Helm 提供了基本的反射工具。这有助于高级模板开发者理解特定值的基本Go类型信息。Helm是由Go编写的且是强类型的。
类型系统应用于模板中。</p>
<p>Go 有一些原始 <em>类型</em>，比如 <code>string</code>, <code>slice</code>, <code>int64</code>, 和 <code>bool</code>。</p>
<p>Go 有一个开放的 <em>类型</em> 系统，允许开发者创建自己的类型。</p>
<p>Helm 通过
<a href="#kind-functions">kind functions</a> 和 
<a href="#type-functions">type
functions</a> 提供了一组函数。
<a href="#deepequal">deepEqual</a> 也可以用来比较值。</p>
<h3 id="kind-functions">Kind Functions</h3>
<p>有两个类型函数： <code>kindOf</code> 返回对象类型。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>kindOf &#34;hello&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述语句返回 <code>string</code>。对于简单测试(比如在<code>if</code>块中)，<code>Kindis</code>函数可以验证值是否为特定类型：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>kindIs &#34;int&#34; 123<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述返回 <code>true</code>。</p>
<h3 id="type-functions">Type Functions</h3>
<p>类型处理起来稍微有点复杂，所以有三个不同的函数：</p>
<ul>
<li><code>typeOf</code> 返回值的基础类型： <code>typeOf $foo</code></li>
<li><code>typeIs</code> 类似 <code>kindIs</code>， 但针对type： <code>typeIs &quot;*io.Buffer&quot; $myVal</code></li>
<li><code>typeIsLike</code> 类似 <code>typeIs</code>，除非取消指针引用</li>
</ul>
<p><strong>注意：</strong> 这些都不能测试是否实现了给定的接口，因为在这之前需要提前编译接口。</p>
<h3 id="deepequal">deepEqual</h3>
<p>如果两个值相比是
<a href="https://golang.org/pkg/reflect/#DeepEqual" target="_blank">&quot;deeply equal&quot;</a>，<code>deepEqual</code>返回true。</p>
<p>也适用于非基本类型 (相较于内置的 <code>eq</code>）。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>deepEqual (list 1 2 3) (list 1 2 3)<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述会返回 <code>true</code>。</p>
<h2 id="semantic-version-functions">Semantic Version Functions</h2>
<p>有些版本结构易于分析和比较。Helm提供了适用于
<a href="http://semver.org" target="_blank">SemVer 2</a> 版本的函数。包括
<a href="#semver">semver</a>和

<a href="#semvercompare">semverCompare</a>。下面你也能看到使用范围和比较的细节。</p>
<h3 id="semver">semver</h3>
<p><code>semver</code>函数将字符串解析为语义版本：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>$version := semver &#34;1.2.3-alpha.1+123&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p><em>如果解析失败，会由一个错误引起模板执行中断。</em></p>
<p><code>$version</code>是一个指向<code>Version</code>对象的指针，包含了一下属性：</p>
<ul>
<li><code>$version.Major</code>: 主版本号 (上面的<code>1</code>)</li>
<li><code>$version.Minor</code>: 次版本号 (上面的<code>2</code>)</li>
<li><code>$version.Patch</code>: 补丁版本号 (上面的<code>3</code>)</li>
<li><code>$version.Prerelease</code>: 预发布版本号 (上面的<code>alpha.1</code>)</li>
<li><code>$version.Metadata</code>: 构建元数据 (上面的<code>123</code>)</li>
<li><code>$version.Original</code>: 原始版本字符串</li>
</ul>
<p>另外，你可以使用<code>Compare</code>函数比较一个<code>Version</code>和另一个<code>version</code>：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>semver &#34;1.4.3&#34; | (semver &#34;1.2.3&#34;).Compare<span style="color:#bbb">
</span></span></span></code></pre></div><p>上面会返回 <code>-1</code>。</p>
<p>返回值可以是：</p>
<ul>
<li><code>-1</code> 如果给定的版本大于<code>Compare</code>方法调用的版本</li>
<li><code>1</code> 如果<code>Compare</code>调用的版本更大</li>
<li><code>0</code> 如果版本相同</li>
</ul>
<p>(注意在语义版本中，<code>Metadata</code> 字段在版本比较时不比较)</p>
<h3 id="semvercompare">semverCompare</h3>
<p>一个更健壮的比较函数是<code>semverCompare</code>。 这个版本支持版本范围：</p>
<ul>
<li><code>semverCompare &quot;1.2.3&quot; &quot;1.2.3&quot;</code> 检查精确匹配</li>
<li><code>semverCompare &quot;~1.2.0&quot; &quot;1.2.3&quot;</code> 检查主要版本和次要版本，且补丁版本第二个版本是 <em>大于等于</em> 第一个。</li>
</ul>
<p>SemVer函数使用
<a href="https://github.com/Masterminds/semver" target="_blank">semver规划库</a>，由Sprig作者创建。</p>
<h3 id="基本比较">基本比较</h3>
<p>两个元素的比较。首先，比较字符串是以空格或逗号分隔的。然后以|| (OR)分隔。比如：<code>&quot;&gt;= 1.2 &lt; 3.0.0 || &gt;= 4.2.3&quot;</code>
是要比较大于等于1.2且小于等于3.0.0 或者大于等于4.2.3的。</p>
<p>基本比较符有：</p>
<ul>
<li><code>=</code>: 相等</li>
<li><code>!=</code>: 不相等</li>
<li><code>&gt;</code>: 大于</li>
<li><code>&lt;</code>: 小于</li>
<li><code>&gt;=</code>: 大于等于</li>
<li><code>&lt;=</code>: 小于等于</li>
</ul>
<h3 id="使用预发布版本">使用预发布版本</h3>
<p>预发布版本，对于那些不熟悉它们的人，是用于稳定版本或一般可用版本之前的软件版本。预发布版本的例子包括开发版、
alpha版、beta版，和rc版本。稳定版<code>1.2.3</code>的预发布版本可能是<code>1.2.3-beta.1</code>，按照优先顺序，预发布版本在相关版本之前发布。
比如：<code>1.2.3-beta.1 &lt; 1.2.3</code> 。</p>
<p>根据语义版本指定的预发布版本可能不与对应的发行版本兼容。</p>
<blockquote>
<p>预发布版本表示版本不稳定且可能不满足其相关正常版本所表示的预期兼容性要求。</p>
</blockquote>
<p>使用不带预发布版本比较器约束的语义版本的比较会跳过预发布版本。比如 <code>&gt;=1.2.3</code> 会跳过预发布而<code>&gt;=1.2.3-0</code>会计算并查找预发布版本。</p>
<p>按照规范，上例中的<code>0</code>作为预发布的版本是因为预发布版本只能包含ASCII字母数字和连字符（以及<code>.</code>分隔符），
with <code>.</code> separators)，另外排序按照ASCII排序顺序。在ASCII排序中，最小的字符是<code>0</code>(查看
<a href="http://www.asciitable.com/" target="_blank">ASCII表</a>)。</p>
<p>理解ASCII排序顺序很重要因为A-Z是在a-z之前，这意味着<code>&gt;=1.2.3-BETA</code> 会返回 <code>1.2.3-alpha</code>。这里并不适合大小写敏感，
因为是按照ASCII排序规范指定顺序。</p>
<h3 id="连字符范围比较">连字符范围比较</h3>
<p>有多个方法处理范围，首先是连字符范围。像这样：</p>
<ul>
<li><code>1.2 - 1.4.5</code> 等同于 <code>&gt;= 1.2 &lt;= 1.4.5</code></li>
<li><code>2.3.4 - 4.5</code> 等同于 <code>&gt;= 2.3.4 &lt;= 4.5</code></li>
</ul>
<h3 id="比较中通配符">比较中通配符</h3>
<p><code>x</code>, <code>X</code>, 和 <code>*</code> 可用于通配符。适用于所有比较运算符。当使用<code>=</code>运算符时，会返回补丁级别的比较。比如：</p>
<ul>
<li><code>1.2.x</code> 相当于 <code>&gt;= 1.2.0, &lt; 1.3.0</code></li>
<li><code>&gt;= 1.2.x</code> 相当于 <code>&gt;= 1.2.0</code></li>
<li><code>&lt;= 2.x</code> 相当于 <code>&lt; 3</code></li>
<li><code>*</code> 相当于 <code>&gt;= 0.0.0</code></li>
</ul>
<h3 id="波浪符号范围比较-补丁版本">波浪符号范围比较 (补丁版本)</h3>
<p>波浪 (<code>~</code>) 比较运算符是补丁级别范围的比较，在指定次要版本和主要版本变化且没有次要版本时使，比如：</p>
<ul>
<li><code>~1.2.3</code> 相当于 <code>&gt;= 1.2.3, &lt; 1.3.0</code></li>
<li><code>~1</code> 相当于 <code>&gt;= 1, &lt; 2</code></li>
<li><code>~2.3</code> 相当于 <code>&gt;= 2.3, &lt; 2.4</code></li>
<li><code>~1.2.x</code> 相当于 <code>&gt;= 1.2.0, &lt; 1.3.0</code></li>
<li><code>~1.x</code> 相当于 <code>&gt;= 1, &lt; 2</code></li>
</ul>
<h3 id="插入符号比较-主要版本">插入符号比较 (主要版本)</h3>
<p>插入符(<code>^</code>)比较运算是主版本级别改变时使用。在1.0.0 发布之前，次要版本充当API稳定级别版本。
当比较主要的API版本更改时，这很有用，比如：</p>
<ul>
<li><code>^1.2.3</code> 相当于 <code>&gt;= 1.2.3, &lt; 2.0.0</code></li>
<li><code>^1.2.x</code> 相当于 <code>&gt;= 1.2.0, &lt; 2.0.0</code></li>
<li><code>^2.3</code> 相当于 <code>&gt;= 2.3, &lt; 3</code></li>
<li><code>^2.x</code> 相当于 <code>&gt;= 2.0.0, &lt; 3</code></li>
<li><code>^0.2.3</code> 相当于 <code>&gt;=0.2.3 &lt;0.3.0</code></li>
<li><code>^0.2</code> 相当于 <code>&gt;=0.2.0 &lt;0.3.0</code></li>
<li><code>^0.0.3</code> 相当于 <code>&gt;=0.0.3 &lt;0.0.4</code></li>
<li><code>^0.0</code> 相当于 <code>&gt;=0.0.0 &lt;0.1.0</code></li>
<li><code>^0</code> 相当于 <code>&gt;=0.0.0 &lt;1.0.0</code></li>
</ul>
<h2 id="url-functions">URL Functions</h2>
<p>Helm 包含 
<a href="#urlparse">urlParse</a>, 
<a href="#urljoin">urlJoin</a>, 和
<a href="#urlquery">urlquery</a> 函数可以用做处理URL。</p>
<h3 id="urlparse">urlParse</h3>
<p>解析URL的字符串并生成包含URL部分的字典。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>urlParse &#34;http://admin:secret@server.com:8080/api?list=false#anchor&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为： 包含URL对象的字典：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#309;font-weight:bold">scheme</span>:<span style="color:#bbb">   </span><span style="color:#c30">&#39;http&#39;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">host</span>:<span style="color:#bbb">     </span><span style="color:#c30">&#39;server.com:8080&#39;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">path</span>:<span style="color:#bbb">     </span><span style="color:#c30">&#39;/api&#39;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">query</span>:<span style="color:#bbb">    </span><span style="color:#c30">&#39;list=false&#39;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">opaque</span>:<span style="color:#bbb">   </span>nil<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">fragment</span>:<span style="color:#bbb"> </span><span style="color:#c30">&#39;anchor&#39;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#309;font-weight:bold">userinfo</span>:<span style="color:#bbb"> </span><span style="color:#c30">&#39;admin:secret&#39;</span><span style="color:#bbb">
</span></span></span></code></pre></div><p>这是使用Go标准库中的URL包实现的。更多信息，请查看 
<a href="https://golang.org/pkg/net/url/#URL" target="_blank">https://golang.org/pkg/net/url/#URL</a>。</p>
<h3 id="urljoin">urlJoin</h3>
<p>将一个映射(由<code>urlParse</code>生成的)连接成URL字符串</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>urlJoin (dict &#34;fragment&#34; &#34;fragment&#34; &#34;host&#34; &#34;host:80&#34; &#34;path&#34; &#34;/path&#34; &#34;query&#34; &#34;query&#34; &#34;scheme&#34; &#34;http&#34;)<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果会生成以下字符串：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>http://host:80/path?query#fragment<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="urlquery">urlquery</h3>
<p>返回作为参数传入的值的转义版本，这样就可以嵌入到URL的查询部分。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>$var := urlquery &#34;string for query&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><h2 id="uuid-functions">UUID Functions</h2>
<p>Helm 可以生成UUID v4 通用唯一ID。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>uuidv4<span style="color:#bbb">
</span></span></span></code></pre></div><p>上述结果为： 一个新的v4类型的UUID（随机生成）。</p>
<h2 id="kubernetes-and-chart-functions">Kubernetes and Chart Functions</h2>
<p>Helm 包含了用于 Kubernetes的函数，包括
<a href="#capabilitiesapiversionshas">.Capabilities.APIVersions.Has</a>,

<a href="#file-functions">Files</a>, 和 
<a href="#lookup">lookup</a>。</p>
<h3 id="lookup">lookup</h3>
<p><code>lookup</code> 用于在正在运行的集群中查找资源。当和<code>helm template</code>命令一起使用时会返回一个空响应。</p>
<p>可以在 
<a href="https://helm.sh/zh/docs/chart_template_guide/#using-the-lookup-function" target="_blank">lookup函数文档</a>查看更多细节。</p>
<h3 id="capabilitiesapiversionshas">.Capabilities.APIVersions.Has</h3>
<p>返回API版本或资源是否在集群中可用。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>.Capabilities.APIVersions.Has &#34;apps/v1&#34;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>.Capabilities.APIVersions.Has &#34;apps/v1/Deployment&#34;<span style="color:#bbb">
</span></span></span></code></pre></div><p>更多信息可查看 
<a href="https://helm.sh/zh/docs/chart_template_guide/builtin_objects.md" target="_blank">内置对象文档</a>。</p>
<h3 id="file-functions">File Functions</h3>
<p>有几个函数能使您能够访问chart中的非特殊文件。比如访问应用配置文件。请查看
<a href="https://helm.sh/zh/docs/chart_template_guide/accessing_files.md" target="_blank">模板中访问文件</a>。</p>
<p><em>注意，这里很多函数的文档是来自
<a href="https://github.com/Masterminds/sprig" target="_blank">Sprig</a>。Sprig是一个适用于Go应用的函数模板库。</em></p>


        <nav class="level prev-next">
          <div class="level-left level-item">
            
            <a class="" href="https://zou-zongming.github.io/zh/docs/chart_template_guide/functions_and_pipelines/" title="模板函数列表">
              <small class="heading">Prev</small>
              <p class="title">← 模板函数和流水线</p>
            </a>
            
          </div>
          
          <div class="level-right level-item has-text-right">
            
            <a class="" href="https://zou-zongming.github.io/zh/docs/chart_template_guide/control_structures/" title="模板函数列表">
              <small class="heading">Next</small>
              <p class="title">流控制 →</p>
            </a>
            
          </div>
        </nav>
      </article>
    </section>
  </div>
</div>



<section class="container footer-links">
  <div class="columns clearfix">
    <dl class="column">
      <dt><a href="https://github.com/helm/helm">Helm Project</a></dt>
      <dd><a href="https://zou-zongming.github.io/blog">Blog</a></dd>
      <dd><a href="https://www.cncf.io/community/kubecon-cloudnativecon-events/">Events</a></dd>
      <dd><a href="https://zou-zongming.github.io/docs/intro/quickstart/">Quick Start Guide</a></dd>
      <dd><a href="https://github.com/cncf/foundation/blob/master/code-of-conduct.md">Code of Conduct</a></dd>
    </dl>

    <dl class="column">
      <dt><a href="https://hub.helm.sh">Charts</a></dt>
      <dd><a href="https://zou-zongming.github.io/docs/topics/charts/">Introduction</a></dd>
      <dd><a href="https://zou-zongming.github.io/docs/howto/charts_tips_and_tricks/">Chart tips &amp; tricks</a></dd>
      <dd><a href="https://zou-zongming.github.io/docs/chart_template_guide/">Developing Charts</a></dd>
      <dd><a href="https://hub.helm.sh">Search 800+ Charts</a> <i class="fa fa-external"></i></dd>
    </dl>

    <dl class="column">
      <dt><a href="https://github.com/helm/community/blob/main/communication.md">Development</a></dt>
      <dd><a href="https://kubernetes.slack.com/messages/C51E88VDG">#helm-dev</a> <em>(slack)</em></dd>
      <dd><a href="https://github.com/helm/helm/blob/main/CONTRIBUTING.md">Contribution Guide</a></dd>
      <dd><a href="https://github.com/helm/helm/blob/main/OWNERS">Maintainers</a></dd>
      <dd><a href="https://github.com/helm/community/blob/main/communication.md#meetings">Weekly Meetings</a></dd>
    </dl>

    <dl class="column">
      <dt><a href="https://github.com/helm/community">Community</a></dt>
      <dd><a href="https://kubernetes.slack.com/messages/C0NH30761" title="#helm-users on Slack">#helm-users</a> <em>(slack)</em></dd>
      <dd><a href="https://lists.cncf.io/g/cncf-helm/topics">Mailing List</a></dd>
      <dd><a href="https://github.com/cncf/artwork/tree/master/projects/helm">Logos</a> &amp; <a href="https://github.com/helm/community/tree/main/art">Art</a></dd>
      <dd><a href="https://twitter.com/helmpack">Twitter</a></dd>
    </dl>
  </div>

  <div class="columns has-text-left cncf-wrap">
    <div class="column is-two-thirds">
      <a href="https://www.cncf.io/" title="Cloud Native Computing Foundation" target="_blank">
        <p class="lead">我们是 CNCF 的毕业项目。</p>
      </a>
    </div>

    <div class="column is-one-third has-text-right">
      <a href="https://www.cncf.io/" title="Cloud Native Computing Foundation" target="_blank">
        <img src="https://zou-zongming.github.io/img/cncf-white.svg" alt="We are a Cloud Native Computing Foundation project" class="">
      </a>
    </div>
  </div>

  <hr />

  <div class="copyright">
    <p>
      &copy; Helm Authors 2024 | Documentation distributed under <a href="https://creativecommons.org/licenses/by/4.0">CC-BY-4.0</a>
    </p>

    <p>
      &copy; 2024 The Linux Foundation. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href="https://www.linuxfoundation.org/trademark-usage/">Trademark Usage</a> page.
    </p>
  </div>
</section>



    
    

    











































<script src="https://zou-zongming.github.io/js/jquery.min.91911616059b1420d1a7e93cdb684177d9a8bcef473731743e5f72a796662698.js" integrity="sha256-kZEWFgWbFCDRp&#43;k822hBd9movO9HNzF0Pl9yp5ZmJpg="></script>




<script src="https://zou-zongming.github.io/js/bundle.min.019ebc0ad20ee895d8c4abd8ac9285f0dff63d29231c6ace4e5d022ea590e038.js" integrity="sha256-AZ68CtIO6JXYxKvYrJKF8N/2PSkjHGrOTl0CLqWQ4Dg="></script>



<script async src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js" onload="docsearch({
  apiKey: '8bca76b0664b04581dc9f9854e844a90',
  indexName: 'helm',
  inputSelector: '#q',
  debug: false // Set debug to true if you want to inspect the dropdown
  })"></script>


    
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42867143-2', 'auto');
  ga('send', 'pageview');
</script>

  </body>
</html>
